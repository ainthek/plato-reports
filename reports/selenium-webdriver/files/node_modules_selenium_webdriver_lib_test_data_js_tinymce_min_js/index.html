<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Plato - node_modules/selenium-webdriver/lib/test/data/js/tinymce.min.js</title>

  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="">
  <meta name="author" content="">

  <!--[if lt IE 9]>
  <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
  <![endif]-->

  <link href="../../assets/css/vendor/morris.css" rel="stylesheet">
  <link href="../../assets/css/vendor/bootstrap.css" rel="stylesheet">
  <link href="../../assets/css/vendor/font-awesome.css" rel="stylesheet">
  <link href="../../assets/css/vendor/codemirror.css" rel="stylesheet">
  <link href="../../assets/css/plato.css" rel="stylesheet">
  <link href="../../assets/css/plato-file.css" rel="stylesheet">

</head>

<body>

<div class="navbar navbar-fixed-top">
  <div class="container">
    <a class="navbar-brand" href="http://github.com/es-analysis/plato">Plato on Github</a>
    <ul class="nav navbar-nav">
      <li>
        <a href="../../index.html">Report Home</a>
      </li>
    </ul>
  </div>
</div>

<div class="jumbotron">
  <div class="container">
    <h1>node_modules/selenium-webdriver/lib/test/data/js/tinymce.min.js</h1>
  </div>
</div>

<div class="container aggregate-stats">
  <div class="row">
    <div class="col-md-6">
      <h2 class="header">Maintainability <a href="http://blogs.msdn.com/b/codeanalysis/archive/2007/11/20/maintainability-index-range-and-meaning.aspx"><i class="icon icon-info-sign" rel="popover" data-placement="top" data-trigger="hover" data-content="A value between 0 and 100 that represents the relative ease of maintaining the code. A high value means better maintainability." data-original-title="Maintainability Index"  data-container="body"></i></a></h2>
      <p class="stat">67.54</p>
    </div>
    <div class="col-md-6">
      <h2 class="header">Lines of code <i class="icon icon-info-sign" rel="popover" data-placement="top" data-trigger="hover" data-content="Source Lines of Code / Logical Lines of Code" data-original-title="SLOC/LSLOC" data-container="body"></i></h2>
      <p class="stat">9</p>
    </div>
  </div>
  <div class="row historical">
    <div class="col-md-6">
      <p id="chart_historical_maint" class="chart"></p>
    </div>
    <div class="col-md-6">
      <p id="chart_historical_sloc" class="chart"></p>
    </div>
  </div>
  <div class="row">
    <div class="col-md-6">
      <h2 class="header">Difficulty  <a href="http://en.wikipedia.org/wiki/Halstead_complexity_measures"><i class="icon icon-info-sign" rel="popover" data-placement="top" data-trigger="hover" data-content="The difficulty measure is related to the difficulty of the program to write or understand." data-original-title="Difficulty" data-container="body"></i></a></h2>
      <p class="stat">418.59</p>
    </div>
    <div class="col-md-6">
      <h2 class="header">Estimated Errors  <a href="http://en.wikipedia.org/wiki/Halstead_complexity_measures"><i class="icon icon-info-sign" rel="popover" data-placement="top" data-trigger="hover" data-content="Halstead's delivered bugs is an estimate for the number of errors in the implementation." data-original-title="Delivered Bugs" data-container="body"></i></a></h2>
      <p class="stat">531.94</p>
    </div>
  </div>
</div>

<div class="container charts">
  <div class="row">
    <h2 class="header">Function weight</h2>
  </div>
  <div class="row">
    <div class="col-md-6">
      <h3 class="chart-header">By Complexity <a href="http://en.wikipedia.org/wiki/Cyclomatic_complexity"><i class="icon icon-info-sign" rel="popover" data-placement="top" data-trigger="hover" data-content="This metric counts the number of distinct paths through a block of code. Lower values are better." data-original-title="Cyclomatic Complexity" data-container="body"></i></a></h3>
      <div id="fn-by-complexity" class="stat"></div>
    </div>
    <div class="col-md-6">
      <h3 class="chart-header">By SLOC  <i class="icon icon-info-sign" rel="popover" data-placement="top" data-trigger="hover" data-content="Source Lines of Code / Logical Lines of Code" data-original-title="SLOC/LSLOC" data-container="body"></i></h3>
      <div id="fn-by-sloc" class="stat"></div>
    </div>
  </div>
</div>

<div class="container">
  <div class="row">
    <textarea id="file-source" class="col-md-12">// 4.0.26 (2014-05-06)
!function(e,t){&quot;use strict&quot;;function n(e,t){for(var n,r=[],i=0;i&lt;e.length;++i){if(n=s[e[i]]||o(e[i]),!n)throw&quot;module definition dependecy not found: &quot;+e[i];r.push(n)}t.apply(null,r)}function r(e,r,i){if(&quot;string&quot;!=typeof e)throw&quot;invalid module definition, module id must be defined and be a string&quot;;if(r===t)throw&quot;invalid module definition, dependencies must be specified&quot;;if(i===t)throw&quot;invalid module definition, definition function must be specified&quot;;n(r,function(){s[e]=i.apply(null,arguments)})}function i(e){return!!s[e]}function o(t){for(var n=e,r=t.split(/[.\/]/),i=0;i&lt;r.length;++i){if(!n[r[i]])return;n=n[r[i]]}return n}function a(n){for(var r=0;r&lt;n.length;r++){for(var i=e,o=n[r],a=o.split(/[.\/]/),l=0;l&lt;a.length-1;++l)i[a[l]]===t&amp;&amp;(i[a[l]]={}),i=i[a[l]];i[a[a.length-1]]=s[o]}}var s={},l=&quot;tinymce/dom/EventUtils&quot;,c=&quot;tinymce/dom/Sizzle&quot;,u=&quot;tinymce/dom/DomQuery&quot;,d=&quot;tinymce/html/Styles&quot;,f=&quot;tinymce/dom/TreeWalker&quot;,p=&quot;tinymce/util/Tools&quot;,h=&quot;tinymce/dom/Range&quot;,m=&quot;tinymce/html/Entities&quot;,g=&quot;tinymce/Env&quot;,v=&quot;tinymce/dom/StyleSheetLoader&quot;,y=&quot;tinymce/dom/DOMUtils&quot;,b=&quot;tinymce/dom/ScriptLoader&quot;,C=&quot;tinymce/AddOnManager&quot;,x=&quot;tinymce/html/Node&quot;,w=&quot;tinymce/html/Schema&quot;,_=&quot;tinymce/html/SaxParser&quot;,N=&quot;tinymce/html/DomParser&quot;,E=&quot;tinymce/html/Writer&quot;,S=&quot;tinymce/html/Serializer&quot;,k=&quot;tinymce/dom/Serializer&quot;,T=&quot;tinymce/dom/TridentSelection&quot;,R=&quot;tinymce/util/VK&quot;,A=&quot;tinymce/dom/ControlSelection&quot;,B=&quot;tinymce/dom/RangeUtils&quot;,D=&quot;tinymce/dom/Selection&quot;,L=&quot;tinymce/fmt/Preview&quot;,M=&quot;tinymce/Formatter&quot;,H=&quot;tinymce/UndoManager&quot;,P=&quot;tinymce/EnterKey&quot;,O=&quot;tinymce/ForceBlocks&quot;,I=&quot;tinymce/EditorCommands&quot;,F=&quot;tinymce/util/URI&quot;,z=&quot;tinymce/util/Class&quot;,W=&quot;tinymce/util/EventDispatcher&quot;,V=&quot;tinymce/ui/Selector&quot;,U=&quot;tinymce/ui/Collection&quot;,q=&quot;tinymce/ui/DomUtils&quot;,$=&quot;tinymce/ui/Control&quot;,j=&quot;tinymce/ui/Factory&quot;,K=&quot;tinymce/ui/KeyboardNavigation&quot;,G=&quot;tinymce/ui/Container&quot;,Y=&quot;tinymce/ui/DragHelper&quot;,X=&quot;tinymce/ui/Scrollable&quot;,J=&quot;tinymce/ui/Panel&quot;,Q=&quot;tinymce/ui/Movable&quot;,Z=&quot;tinymce/ui/Resizable&quot;,et=&quot;tinymce/ui/FloatPanel&quot;,tt=&quot;tinymce/ui/Window&quot;,nt=&quot;tinymce/ui/MessageBox&quot;,rt=&quot;tinymce/WindowManager&quot;,it=&quot;tinymce/util/Quirks&quot;,ot=&quot;tinymce/util/Observable&quot;,at=&quot;tinymce/EditorObservable&quot;,st=&quot;tinymce/Shortcuts&quot;,lt=&quot;tinymce/Editor&quot;,ct=&quot;tinymce/util/I18n&quot;,ut=&quot;tinymce/FocusManager&quot;,dt=&quot;tinymce/EditorManager&quot;,ft=&quot;tinymce/LegacyInput&quot;,pt=&quot;tinymce/util/XHR&quot;,ht=&quot;tinymce/util/JSON&quot;,mt=&quot;tinymce/util/JSONRequest&quot;,gt=&quot;tinymce/util/JSONP&quot;,vt=&quot;tinymce/util/LocalStorage&quot;,yt=&quot;tinymce/Compat&quot;,bt=&quot;tinymce/ui/Layout&quot;,Ct=&quot;tinymce/ui/AbsoluteLayout&quot;,xt=&quot;tinymce/ui/Tooltip&quot;,wt=&quot;tinymce/ui/Widget&quot;,_t=&quot;tinymce/ui/Button&quot;,Nt=&quot;tinymce/ui/ButtonGroup&quot;,Et=&quot;tinymce/ui/Checkbox&quot;,St=&quot;tinymce/ui/PanelButton&quot;,kt=&quot;tinymce/ui/ColorButton&quot;,Tt=&quot;tinymce/ui/ComboBox&quot;,Rt=&quot;tinymce/ui/Path&quot;,At=&quot;tinymce/ui/ElementPath&quot;,Bt=&quot;tinymce/ui/FormItem&quot;,Dt=&quot;tinymce/ui/Form&quot;,Lt=&quot;tinymce/ui/FieldSet&quot;,Mt=&quot;tinymce/ui/FilePicker&quot;,Ht=&quot;tinymce/ui/FitLayout&quot;,Pt=&quot;tinymce/ui/FlexLayout&quot;,Ot=&quot;tinymce/ui/FlowLayout&quot;,It=&quot;tinymce/ui/FormatControls&quot;,Ft=&quot;tinymce/ui/GridLayout&quot;,zt=&quot;tinymce/ui/Iframe&quot;,Wt=&quot;tinymce/ui/Label&quot;,Vt=&quot;tinymce/ui/Toolbar&quot;,Ut=&quot;tinymce/ui/MenuBar&quot;,qt=&quot;tinymce/ui/MenuButton&quot;,$t=&quot;tinymce/ui/ListBox&quot;,jt=&quot;tinymce/ui/MenuItem&quot;,Kt=&quot;tinymce/ui/Menu&quot;,Gt=&quot;tinymce/ui/Radio&quot;,Yt=&quot;tinymce/ui/ResizeHandle&quot;,Xt=&quot;tinymce/ui/Spacer&quot;,Jt=&quot;tinymce/ui/SplitButton&quot;,Qt=&quot;tinymce/ui/StackLayout&quot;,Zt=&quot;tinymce/ui/TabPanel&quot;,en=&quot;tinymce/ui/TextBox&quot;,tn=&quot;tinymce/ui/Throbber&quot;;r(l,[],function(){function e(e,t,n,r){e.addEventListener?e.addEventListener(t,n,r||!1):e.attachEvent&amp;&amp;e.attachEvent(&quot;on&quot;+t,n)}function t(e,t,n,r){e.removeEventListener?e.removeEventListener(t,n,r||!1):e.detachEvent&amp;&amp;e.detachEvent(&quot;on&quot;+t,n)}function n(e,t){function n(){return!1}function r(){return!0}var i,o=t||{},l;for(i in e)s[i]||(o[i]=e[i]);if(o.target||(o.target=o.srcElement||document),e&amp;&amp;a.test(e.type)&amp;&amp;e.pageX===l&amp;&amp;e.clientX!==l){var c=o.target.ownerDocument||document,u=c.documentElement,d=c.body;o.pageX=e.clientX+(u&amp;&amp;u.scrollLeft||d&amp;&amp;d.scrollLeft||0)-(u&amp;&amp;u.clientLeft||d&amp;&amp;d.clientLeft||0),o.pageY=e.clientY+(u&amp;&amp;u.scrollTop||d&amp;&amp;d.scrollTop||0)-(u&amp;&amp;u.clientTop||d&amp;&amp;d.clientTop||0)}return o.preventDefault=function(){o.isDefaultPrevented=r,e&amp;&amp;(e.preventDefault?e.preventDefault():e.returnValue=!1)},o.stopPropagation=function(){o.isPropagationStopped=r,e&amp;&amp;(e.stopPropagation?e.stopPropagation():e.cancelBubble=!0)},o.stopImmediatePropagation=function(){o.isImmediatePropagationStopped=r,o.stopPropagation()},o.isDefaultPrevented||(o.isDefaultPrevented=n,o.isPropagationStopped=n,o.isImmediatePropagationStopped=n),o}function r(n,r,i){function o(){i.domLoaded||(i.domLoaded=!0,r(c))}function a(){(&quot;complete&quot;===l.readyState||&quot;interactive&quot;===l.readyState&amp;&amp;l.body)&amp;&amp;(t(l,&quot;readystatechange&quot;,a),o())}function s(){try{l.documentElement.doScroll(&quot;left&quot;)}catch(e){return void setTimeout(s,0)}o()}var l=n.document,c={type:&quot;ready&quot;};return i.domLoaded?void r(c):(l.addEventListener?&quot;complete&quot;===l.readyState?o():e(n,&quot;DOMContentLoaded&quot;,o):(e(l,&quot;readystatechange&quot;,a),l.documentElement.doScroll&amp;&amp;n.self===n.top&amp;&amp;s()),void e(n,&quot;load&quot;,o))}function i(){function i(e,t){var n,r,i,o,a=s[t];if(n=a&amp;&amp;a[e.type])for(r=0,i=n.length;i&gt;r;r++)if(o=n[r],o&amp;&amp;o.func.call(o.scope,e)===!1&amp;&amp;e.preventDefault(),e.isImmediatePropagationStopped())return}var a=this,s={},l,c,u,d,f;c=o+(+new Date).toString(32),d=&quot;onmouseenter&quot;in document.documentElement,u=&quot;onfocusin&quot;in document.documentElement,f={mouseenter:&quot;mouseover&quot;,mouseleave:&quot;mouseout&quot;},l=1,a.domLoaded=!1,a.events=s,a.bind=function(t,o,p,h){function m(e){i(n(e||_.event),g)}var g,v,y,b,C,x,w,_=window;if(t&amp;&amp;3!==t.nodeType&amp;&amp;8!==t.nodeType){for(t[c]?g=t[c]:(g=l++,t[c]=g,s[g]={}),h=h||t,o=o.split(&quot; &quot;),y=o.length;y--;)b=o[y],x=m,C=w=!1,&quot;DOMContentLoaded&quot;===b&amp;&amp;(b=&quot;ready&quot;),a.domLoaded&amp;&amp;&quot;ready&quot;===b&amp;&amp;&quot;complete&quot;==t.readyState?p.call(h,n({type:b})):(d||(C=f[b],C&amp;&amp;(x=function(e){var t,r;if(t=e.currentTarget,r=e.relatedTarget,r&amp;&amp;t.contains)r=t.contains(r);else for(;r&amp;&amp;r!==t;)r=r.parentNode;r||(e=n(e||_.event),e.type=&quot;mouseout&quot;===e.type?&quot;mouseleave&quot;:&quot;mouseenter&quot;,e.target=t,i(e,g))})),u||&quot;focusin&quot;!==b&amp;&amp;&quot;focusout&quot;!==b||(w=!0,C=&quot;focusin&quot;===b?&quot;focus&quot;:&quot;blur&quot;,x=function(e){e=n(e||_.event),e.type=&quot;focus&quot;===e.type?&quot;focusin&quot;:&quot;focusout&quot;,i(e,g)}),v=s[g][b],v?&quot;ready&quot;===b&amp;&amp;a.domLoaded?p({type:b}):v.push({func:p,scope:h}):(s[g][b]=v=[{func:p,scope:h}],v.fakeName=C,v.capture=w,v.nativeHandler=x,&quot;ready&quot;===b?r(t,x,a):e(t,C||b,x,w)));return t=v=0,p}},a.unbind=function(e,n,r){var i,o,l,u,d,f;if(!e||3===e.nodeType||8===e.nodeType)return a;if(i=e[c]){if(f=s[i],n){for(n=n.split(&quot; &quot;),l=n.length;l--;)if(d=n[l],o=f[d]){if(r)for(u=o.length;u--;)if(o[u].func===r){var p=o.nativeHandler,h=o.fakeName,m=o.capture;o=o.slice(0,u).concat(o.slice(u+1)),o.nativeHandler=p,o.fakeName=h,o.capture=m,f[d]=o}r&amp;&amp;0!==o.length||(delete f[d],t(e,o.fakeName||d,o.nativeHandler,o.capture))}}else{for(d in f)o=f[d],t(e,o.fakeName||d,o.nativeHandler,o.capture);f={}}for(d in f)return a;delete s[i];try{delete e[c]}catch(g){e[c]=null}}return a},a.fire=function(e,t,r){var o;if(!e||3===e.nodeType||8===e.nodeType)return a;r=n(null,r),r.type=t,r.target=e;do o=e[c],o&amp;&amp;i(r,o),e=e.parentNode||e.ownerDocument||e.defaultView||e.parentWindow;while(e&amp;&amp;!r.isPropagationStopped());return a},a.clean=function(e){var t,n,r=a.unbind;if(!e||3===e.nodeType||8===e.nodeType)return a;if(e[c]&amp;&amp;r(e),e.getElementsByTagName||(e=e.document),e&amp;&amp;e.getElementsByTagName)for(r(e),n=e.getElementsByTagName(&quot;*&quot;),t=n.length;t--;)e=n[t],e[c]&amp;&amp;r(e);return a},a.destroy=function(){s={}},a.cancel=function(e){return e&amp;&amp;(e.preventDefault(),e.stopImmediatePropagation()),!1}}var o=&quot;mce-data-&quot;,a=/^(?:mouse|contextmenu)|click/,s={keyLocation:1,layerX:1,layerY:1,returnValue:1};return i.Event=new i,i.Event.bind(window,&quot;ready&quot;,function(){}),i}),r(c,[],function(){function e(e){return mt.test(e+&quot;&quot;)}function n(){var e,t=[];return e=function(n,r){return t.push(n+=&quot; &quot;)&gt;_.cacheLength&amp;&amp;delete e[t.shift()],e[n]=r,r}}function r(e){return e[I]=!0,e}function i(e){var t=B.createElement(&quot;div&quot;);try{return!!e(t)}catch(n){return!1}finally{t=null}}function o(e,t,n,r){var i,o,a,s,l,c,f,p,h,m;if((t?t.ownerDocument||t:F)!==B&amp;&amp;A(t),t=t||B,n=n||[],!e||&quot;string&quot;!=typeof e)return n;if(1!==(s=t.nodeType)&amp;&amp;9!==s)return[];if(L&amp;&amp;!r){if(i=gt.exec(e))if(a=i[1]){if(9===s){if(o=t.getElementById(a),!o||!o.parentNode)return n;if(o.id===a)return n.push(o),n}else if(t.ownerDocument&amp;&amp;(o=t.ownerDocument.getElementById(a))&amp;&amp;O(t,o)&amp;&amp;o.id===a)return n.push(o),n}else{if(i[2])return Z.apply(n,t.getElementsByTagName(e)),n;if((a=i[3])&amp;&amp;z.getElementsByClassName&amp;&amp;t.getElementsByClassName)return Z.apply(n,t.getElementsByClassName(a)),n}if(z.qsa&amp;&amp;!M.test(e)){if(f=!0,p=I,h=t,m=9===s&amp;&amp;e,1===s&amp;&amp;&quot;object&quot;!==t.nodeName.toLowerCase()){for(c=u(e),(f=t.getAttribute(&quot;id&quot;))?p=f.replace(bt,&quot;\\$&amp;&quot;):t.setAttribute(&quot;id&quot;,p),p=&quot;[id=&#039;&quot;+p+&quot;&#039;] &quot;,l=c.length;l--;)c[l]=p+d(c[l]);h=ht.test(e)&amp;&amp;t.parentNode||t,m=c.join(&quot;,&quot;)}if(m)try{return Z.apply(n,h.querySelectorAll(m)),n}catch(g){}finally{f||t.removeAttribute(&quot;id&quot;)}}}return b(e.replace(lt,&quot;$1&quot;),t,n,r)}function a(e,t){var n=t&amp;&amp;e,r=n&amp;&amp;(~t.sourceIndex||Y)-(~e.sourceIndex||Y);if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function s(e){return function(t){var n=t.nodeName.toLowerCase();return&quot;input&quot;===n&amp;&amp;t.type===e}}function l(e){return function(t){var n=t.nodeName.toLowerCase();return(&quot;input&quot;===n||&quot;button&quot;===n)&amp;&amp;t.type===e}}function c(e){return r(function(t){return t=+t,r(function(n,r){for(var i,o=e([],n.length,t),a=o.length;a--;)n[i=o[a]]&amp;&amp;(n[i]=!(r[i]=n[i]))})})}function u(e,t){var n,r,i,a,s,l,c,u=q[e+&quot; &quot;];if(u)return t?0:u.slice(0);for(s=e,l=[],c=_.preFilter;s;){(!n||(r=ct.exec(s)))&amp;&amp;(r&amp;&amp;(s=s.slice(r[0].length)||s),l.push(i=[])),n=!1,(r=ut.exec(s))&amp;&amp;(n=r.shift(),i.push({value:n,type:r[0].replace(lt,&quot; &quot;)}),s=s.slice(n.length));for(a in _.filter)!(r=pt[a].exec(s))||c[a]&amp;&amp;!(r=c[a](r))||(n=r.shift(),i.push({value:n,type:a,matches:r}),s=s.slice(n.length));if(!n)break}return t?s.length:s?o.error(e):q(e,l).slice(0)}function d(e){for(var t=0,n=e.length,r=&quot;&quot;;n&gt;t;t++)r+=e[t].value;return r}function f(e,t,n){var r=t.dir,i=n&amp;&amp;&quot;parentNode&quot;===r,o=V++;return t.first?function(t,n,o){for(;t=t[r];)if(1===t.nodeType||i)return e(t,n,o)}:function(t,n,a){var s,l,c,u=W+&quot; &quot;+o;if(a){for(;t=t[r];)if((1===t.nodeType||i)&amp;&amp;e(t,n,a))return!0}else for(;t=t[r];)if(1===t.nodeType||i)if(c=t[I]||(t[I]={}),(l=c[r])&amp;&amp;l[0]===u){if((s=l[1])===!0||s===w)return s===!0}else if(l=c[r]=[u],l[1]=e(t,n,a)||w,l[1]===!0)return!0}}function p(e){return e.length&gt;1?function(t,n,r){for(var i=e.length;i--;)if(!e[i](t,n,r))return!1;return!0}:e[0]}function h(e,t,n,r,i){for(var o,a=[],s=0,l=e.length,c=null!=t;l&gt;s;s++)(o=e[s])&amp;&amp;(!n||n(o,r,i))&amp;&amp;(a.push(o),c&amp;&amp;t.push(s));return a}function m(e,t,n,i,o,a){return i&amp;&amp;!i[I]&amp;&amp;(i=m(i)),o&amp;&amp;!o[I]&amp;&amp;(o=m(o,a)),r(function(r,a,s,l){var c,u,d,f=[],p=[],m=a.length,g=r||y(t||&quot;*&quot;,s.nodeType?[s]:s,[]),v=!e||!r&amp;&amp;t?g:h(g,f,e,s,l),b=n?o||(r?e:m||i)?[]:a:v;if(n&amp;&amp;n(v,b,s,l),i)for(c=h(b,p),i(c,[],s,l),u=c.length;u--;)(d=c[u])&amp;&amp;(b[p[u]]=!(v[p[u]]=d));if(r){if(o||e){if(o){for(c=[],u=b.length;u--;)(d=b[u])&amp;&amp;c.push(v[u]=d);o(null,b=[],c,l)}for(u=b.length;u--;)(d=b[u])&amp;&amp;(c=o?tt.call(r,d):f[u])&gt;-1&amp;&amp;(r[c]=!(a[c]=d))}}else b=h(b===a?b.splice(m,b.length):b),o?o(null,a,b,l):Z.apply(a,b)})}function g(e){for(var t,n,r,i=e.length,o=_.relative[e[0].type],a=o||_.relative[&quot; &quot;],s=o?1:0,l=f(function(e){return e===t},a,!0),c=f(function(e){return tt.call(t,e)&gt;-1},a,!0),u=[function(e,n,r){return!o&amp;&amp;(r||n!==k)||((t=n).nodeType?l(e,n,r):c(e,n,r))}];i&gt;s;s++)if(n=_.relative[e[s].type])u=[f(p(u),n)];else{if(n=_.filter[e[s].type].apply(null,e[s].matches),n[I]){for(r=++s;i&gt;r&amp;&amp;!_.relative[e[r].type];r++);return m(s&gt;1&amp;&amp;p(u),s&gt;1&amp;&amp;d(e.slice(0,s-1)).replace(lt,&quot;$1&quot;),n,r&gt;s&amp;&amp;g(e.slice(s,r)),i&gt;r&amp;&amp;g(e=e.slice(r)),i&gt;r&amp;&amp;d(e))}u.push(n)}return p(u)}function v(e,t){var n=0,i=t.length&gt;0,a=e.length&gt;0,s=function(r,s,l,c,u){var d,f,p,m=[],g=0,v=&quot;0&quot;,y=r&amp;&amp;[],b=null!=u,C=k,x=r||a&amp;&amp;_.find.TAG(&quot;*&quot;,u&amp;&amp;s.parentNode||s),N=W+=null==C?1:Math.random()||.1;for(b&amp;&amp;(k=s!==B&amp;&amp;s,w=n);null!=(d=x[v]);v++){if(a&amp;&amp;d){for(f=0;p=e[f++];)if(p(d,s,l)){c.push(d);break}b&amp;&amp;(W=N,w=++n)}i&amp;&amp;((d=!p&amp;&amp;d)&amp;&amp;g--,r&amp;&amp;y.push(d))}if(g+=v,i&amp;&amp;v!==g){for(f=0;p=t[f++];)p(y,m,s,l);if(r){if(g&gt;0)for(;v--;)y[v]||m[v]||(m[v]=J.call(c));m=h(m)}Z.apply(c,m),b&amp;&amp;!r&amp;&amp;m.length&gt;0&amp;&amp;g+t.length&gt;1&amp;&amp;o.uniqueSort(c)}return b&amp;&amp;(W=N,k=C),y};return i?r(s):s}function y(e,t,n){for(var r=0,i=t.length;i&gt;r;r++)o(e,t[r],n);return n}function b(e,t,n,r){var i,o,a,s,l,c=u(e);if(!r&amp;&amp;1===c.length){if(o=c[0]=c[0].slice(0),o.length&gt;2&amp;&amp;&quot;ID&quot;===(a=o[0]).type&amp;&amp;9===t.nodeType&amp;&amp;L&amp;&amp;_.relative[o[1].type]){if(t=(_.find.ID(a.matches[0].replace(xt,wt),t)||[])[0],!t)return n;e=e.slice(o.shift().value.length)}for(i=pt.needsContext.test(e)?0:o.length;i--&amp;&amp;(a=o[i],!_.relative[s=a.type]);)if((l=_.find[s])&amp;&amp;(r=l(a.matches[0].replace(xt,wt),ht.test(o[0].type)&amp;&amp;t.parentNode||t))){if(o.splice(i,1),e=r.length&amp;&amp;d(o),!e)return Z.apply(n,r),n;break}}return S(e,c)(r,t,!L,n,ht.test(e)),n}function C(){}var x,w,_,N,E,S,k,T,R,A,B,D,L,M,H,P,O,I=&quot;sizzle&quot;+-new Date,F=window.document,z={},W=0,V=0,U=n(),q=n(),$=n(),j=!1,K=function(){return 0},G=typeof t,Y=1&lt;&lt;31,X=[],J=X.pop,Q=X.push,Z=X.push,et=X.slice,tt=X.indexOf||function(e){for(var t=0,n=this.length;n&gt;t;t++)if(this[t]===e)return t;return-1},nt=&quot;[\\x20\\t\\r\\n\\f]&quot;,rt=&quot;(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+&quot;,it=rt.replace(&quot;w&quot;,&quot;w#&quot;),ot=&quot;([*^$|!~]?=)&quot;,at=&quot;\\[&quot;+nt+&quot;*(&quot;+rt+&quot;)&quot;+nt+&quot;*(?:&quot;+ot+nt+&quot;*(?:([&#039;\&quot;])((?:\\\\.|[^\\\\])*?)\\3|(&quot;+it+&quot;)|)|)&quot;+nt+&quot;*\\]&quot;,st=&quot;:(&quot;+rt+&quot;)(?:\\((([&#039;\&quot;])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|&quot;+at.replace(3,8)+&quot;)*)|.*)\\)|)&quot;,lt=new RegExp(&quot;^&quot;+nt+&quot;+|((?:^|[^\\\\])(?:\\\\.)*)&quot;+nt+&quot;+$&quot;,&quot;g&quot;),ct=new RegExp(&quot;^&quot;+nt+&quot;*,&quot;+nt+&quot;*&quot;),ut=new RegExp(&quot;^&quot;+nt+&quot;*([\\x20\\t\\r\\n\\f&gt;+~])&quot;+nt+&quot;*&quot;),dt=new RegExp(st),ft=new RegExp(&quot;^&quot;+it+&quot;$&quot;),pt={ID:new RegExp(&quot;^#(&quot;+rt+&quot;)&quot;),CLASS:new RegExp(&quot;^\\.(&quot;+rt+&quot;)&quot;),NAME:new RegExp(&quot;^\\[name=[&#039;\&quot;]?(&quot;+rt+&quot;)[&#039;\&quot;]?\\]&quot;),TAG:new RegExp(&quot;^(&quot;+rt.replace(&quot;w&quot;,&quot;w*&quot;)+&quot;)&quot;),ATTR:new RegExp(&quot;^&quot;+at),PSEUDO:new RegExp(&quot;^&quot;+st),CHILD:new RegExp(&quot;^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\(&quot;+nt+&quot;*(even|odd|(([+-]|)(\\d*)n|)&quot;+nt+&quot;*(?:([+-]|)&quot;+nt+&quot;*(\\d+)|))&quot;+nt+&quot;*\\)|)&quot;,&quot;i&quot;),needsContext:new RegExp(&quot;^&quot;+nt+&quot;*[&gt;+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\(&quot;+nt+&quot;*((?:-\\d)?\\d*)&quot;+nt+&quot;*\\)|)(?=[^-]|$)&quot;,&quot;i&quot;)},ht=/[\x20\t\r\n\f]*[+~]/,mt=/^[^{]+\{\s*\[native code/,gt=/^(?:#([\w\-]+)|(\w+)|\.([\w\-]+))$/,vt=/^(?:input|select|textarea|button)$/i,yt=/^h\d$/i,bt=/&#039;|\\/g,Ct=/\=[\x20\t\r\n\f]*([^&#039;&quot;\]]*)[\x20\t\r\n\f]*\]/g,xt=/\\([\da-fA-F]{1,6}[\x20\t\r\n\f]?|.)/g,wt=function(e,t){var n=&quot;0x&quot;+t-65536;return n!==n?t:0&gt;n?String.fromCharCode(n+65536):String.fromCharCode(n&gt;&gt;10|55296,1023&amp;n|56320)};try{Z.apply(X=et.call(F.childNodes),F.childNodes),X[F.childNodes.length].nodeType}catch(_t){Z={apply:X.length?function(e,t){Q.apply(e,et.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}E=o.isXML=function(e){var t=e&amp;&amp;(e.ownerDocument||e).documentElement;return t?&quot;HTML&quot;!==t.nodeName:!1},A=o.setDocument=function(n){var r=n?n.ownerDocument||n:F;return r!==B&amp;&amp;9===r.nodeType&amp;&amp;r.documentElement?(B=r,D=r.documentElement,L=!E(r),z.getElementsByTagName=i(function(e){return e.appendChild(r.createComment(&quot;&quot;)),!e.getElementsByTagName(&quot;*&quot;).length}),z.attributes=i(function(e){e.innerHTML=&quot;&lt;select&gt;&lt;/select&gt;&quot;;var t=typeof e.lastChild.getAttribute(&quot;multiple&quot;);return&quot;boolean&quot;!==t&amp;&amp;&quot;string&quot;!==t}),z.getElementsByClassName=i(function(e){return e.innerHTML=&quot;&lt;div class=&#039;hidden e&#039;&gt;&lt;/div&gt;&lt;div class=&#039;hidden&#039;&gt;&lt;/div&gt;&quot;,e.getElementsByClassName&amp;&amp;e.getElementsByClassName(&quot;e&quot;).length?(e.lastChild.className=&quot;e&quot;,2===e.getElementsByClassName(&quot;e&quot;).length):!1}),z.getByName=i(function(e){e.id=I+0,e.appendChild(B.createElement(&quot;a&quot;)).setAttribute(&quot;name&quot;,I),e.appendChild(B.createElement(&quot;i&quot;)).setAttribute(&quot;name&quot;,I),D.appendChild(e);var t=r.getElementsByName&amp;&amp;r.getElementsByName(I).length===2+r.getElementsByName(I+0).length;return D.removeChild(e),t}),z.sortDetached=i(function(e){return e.compareDocumentPosition&amp;&amp;1&amp;e.compareDocumentPosition(B.createElement(&quot;div&quot;))}),_.attrHandle=i(function(e){return e.innerHTML=&quot;&lt;a href=&#039;#&#039;&gt;&lt;/a&gt;&quot;,e.firstChild&amp;&amp;typeof e.firstChild.getAttribute!==G&amp;&amp;&quot;#&quot;===e.firstChild.getAttribute(&quot;href&quot;)})?{}:{href:function(e){return e.getAttribute(&quot;href&quot;,2)},type:function(e){return e.getAttribute(&quot;type&quot;)}},z.getByName?(_.find.ID=function(e,t){if(typeof t.getElementById!==G&amp;&amp;L){var n=t.getElementById(e);return n&amp;&amp;n.parentNode?[n]:[]}},_.filter.ID=function(e){var t=e.replace(xt,wt);return function(e){return e.getAttribute(&quot;id&quot;)===t}}):(_.find.ID=function(e,n){if(typeof n.getElementById!==G&amp;&amp;L){var r=n.getElementById(e);return r?r.id===e||typeof r.getAttributeNode!==G&amp;&amp;r.getAttributeNode(&quot;id&quot;).value===e?[r]:t:[]}},_.filter.ID=function(e){var t=e.replace(xt,wt);return function(e){var n=typeof e.getAttributeNode!==G&amp;&amp;e.getAttributeNode(&quot;id&quot;);return n&amp;&amp;n.value===t}}),_.find.TAG=z.getElementsByTagName?function(e,t){return typeof t.getElementsByTagName!==G?t.getElementsByTagName(e):void 0}:function(e,t){var n,r=[],i=0,o=t.getElementsByTagName(e);if(&quot;*&quot;===e){for(;n=o[i++];)1===n.nodeType&amp;&amp;r.push(n);return r}return o},_.find.NAME=z.getByName&amp;&amp;function(e,t){return typeof t.getElementsByName!==G?t.getElementsByName(name):void 0},_.find.CLASS=z.getElementsByClassName&amp;&amp;function(e,t){return typeof t.getElementsByClassName!==G&amp;&amp;L?t.getElementsByClassName(e):void 0},H=[],M=[&quot;:focus&quot;],(z.qsa=e(r.querySelectorAll))&amp;&amp;(i(function(e){e.innerHTML=&quot;&lt;select&gt;&lt;option selected=&#039;&#039;&gt;&lt;/option&gt;&lt;/select&gt;&quot;,e.querySelectorAll(&quot;[selected]&quot;).length||M.push(&quot;\\[&quot;+nt+&quot;*(?:checked|disabled|ismap|multiple|readonly|selected|value)&quot;),e.querySelectorAll(&quot;:checked&quot;).length||M.push(&quot;:checked&quot;)}),i(function(e){e.innerHTML=&quot;&lt;input type=&#039;hidden&#039; i=&#039;&#039;/&gt;&quot;,e.querySelectorAll(&quot;[i^=&#039;&#039;]&quot;).length&amp;&amp;M.push(&quot;[*^$]=&quot;+nt+&quot;*(?:\&quot;\&quot;|&#039;&#039;)&quot;),e.querySelectorAll(&quot;:enabled&quot;).length||M.push(&quot;:enabled&quot;,&quot;:disabled&quot;),e.querySelectorAll(&quot;*,:x&quot;),M.push(&quot;,.*:&quot;)})),(z.matchesSelector=e(P=D.matchesSelector||D.mozMatchesSelector||D.webkitMatchesSelector||D.oMatchesSelector||D.msMatchesSelector))&amp;&amp;i(function(e){z.disconnectedMatch=P.call(e,&quot;div&quot;),P.call(e,&quot;[s!=&#039;&#039;]:x&quot;),H.push(&quot;!=&quot;,st)}),M=new RegExp(M.join(&quot;|&quot;)),H=H.length&amp;&amp;new RegExp(H.join(&quot;|&quot;)),O=e(D.contains)||D.compareDocumentPosition?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&amp;&amp;t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&amp;&amp;16&amp;e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},K=D.compareDocumentPosition?function(e,t){if(e===t)return j=!0,0;var n=t.compareDocumentPosition&amp;&amp;e.compareDocumentPosition&amp;&amp;e.compareDocumentPosition(t);return n?1&amp;n||T&amp;&amp;t.compareDocumentPosition(e)===n?e===r||O(F,e)?-1:t===r||O(F,t)?1:R?tt.call(R,e)-tt.call(R,t):0:4&amp;n?-1:1:e.compareDocumentPosition?-1:1}:function(e,t){var n,i=0,o=e.parentNode,s=t.parentNode,l=[e],c=[t];if(e===t)return j=!0,0;if(!o||!s)return e===r?-1:t===r?1:o?-1:s?1:0;if(o===s)return a(e,t);for(n=e;n=n.parentNode;)l.unshift(n);for(n=t;n=n.parentNode;)c.unshift(n);for(;l[i]===c[i];)i++;return i?a(l[i],c[i]):l[i]===F?-1:c[i]===F?1:0},B):B},o.matches=function(e,t){return o(e,null,null,t)},o.matchesSelector=function(e,t){if((e.ownerDocument||e)!==B&amp;&amp;A(e),t=t.replace(Ct,&quot;=&#039;$1&#039;]&quot;),z.matchesSelector&amp;&amp;L&amp;&amp;(!H||!H.test(t))&amp;&amp;!M.test(t))try{var n=P.call(e,t);if(n||z.disconnectedMatch||e.document&amp;&amp;11!==e.document.nodeType)return n}catch(r){}return o(t,B,null,[e]).length&gt;0},o.contains=function(e,t){return(e.ownerDocument||e)!==B&amp;&amp;A(e),O(e,t)},o.attr=function(e,t){var n;return(e.ownerDocument||e)!==B&amp;&amp;A(e),L&amp;&amp;(t=t.toLowerCase()),(n=_.attrHandle[t])?n(e):!L||z.attributes?e.getAttribute(t):((n=e.getAttributeNode(t))||e.getAttribute(t))&amp;&amp;e[t]===!0?t:n&amp;&amp;n.specified?n.value:null},o.error=function(e){throw new Error(&quot;Syntax error, unrecognized expression: &quot;+e)},o.uniqueSort=function(e){var t,n=[],r=0,i=0;if(j=!z.detectDuplicates,T=!z.sortDetached,R=!z.sortStable&amp;&amp;e.slice(0),e.sort(K),j){for(;t=e[i++];)t===e[i]&amp;&amp;(r=n.push(i));for(;r--;)e.splice(n[r],1)}return e},N=o.getText=function(e){var t,n=&quot;&quot;,r=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if(&quot;string&quot;==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=N(e)}else if(3===i||4===i)return e.nodeValue}else for(;t=e[r];r++)n+=N(t);return n},_=o.selectors={cacheLength:50,createPseudo:r,match:pt,find:{},relative:{&quot;&gt;&quot;:{dir:&quot;parentNode&quot;,first:!0},&quot; &quot;:{dir:&quot;parentNode&quot;},&quot;+&quot;:{dir:&quot;previousSibling&quot;,first:!0},&quot;~&quot;:{dir:&quot;previousSibling&quot;}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(xt,wt),e[3]=(e[4]||e[5]||&quot;&quot;).replace(xt,wt),&quot;~=&quot;===e[2]&amp;&amp;(e[3]=&quot; &quot;+e[3]+&quot; &quot;),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),&quot;nth&quot;===e[1].slice(0,3)?(e[3]||o.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*(&quot;even&quot;===e[3]||&quot;odd&quot;===e[3])),e[5]=+(e[7]+e[8]||&quot;odd&quot;===e[3])):e[3]&amp;&amp;o.error(e[0]),e},PSEUDO:function(e){var t,n=!e[5]&amp;&amp;e[2];return pt.CHILD.test(e[0])?null:(e[4]?e[2]=e[4]:n&amp;&amp;dt.test(n)&amp;&amp;(t=u(n,!0))&amp;&amp;(t=n.indexOf(&quot;)&quot;,n.length-t)-n.length)&amp;&amp;(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){return&quot;*&quot;===e?function(){return!0}:(e=e.replace(xt,wt).toLowerCase(),function(t){return t.nodeName&amp;&amp;t.nodeName.toLowerCase()===e})},CLASS:function(e){var t=U[e+&quot; &quot;];return t||(t=new RegExp(&quot;(^|&quot;+nt+&quot;)&quot;+e+&quot;(&quot;+nt+&quot;|$)&quot;))&amp;&amp;U(e,function(e){return t.test(e.className||typeof e.getAttribute!==G&amp;&amp;e.getAttribute(&quot;class&quot;)||&quot;&quot;)})},ATTR:function(e,t,n){return function(r){var i=o.attr(r,e);return null==i?&quot;!=&quot;===t:t?(i+=&quot;&quot;,&quot;=&quot;===t?i===n:&quot;!=&quot;===t?i!==n:&quot;^=&quot;===t?n&amp;&amp;0===i.indexOf(n):&quot;*=&quot;===t?n&amp;&amp;i.indexOf(n)&gt;-1:&quot;$=&quot;===t?n&amp;&amp;i.slice(-n.length)===n:&quot;~=&quot;===t?(&quot; &quot;+i+&quot; &quot;).indexOf(n)&gt;-1:&quot;|=&quot;===t?i===n||i.slice(0,n.length+1)===n+&quot;-&quot;:!1):!0}},CHILD:function(e,t,n,r,i){var o=&quot;nth&quot;!==e.slice(0,3),a=&quot;last&quot;!==e.slice(-4),s=&quot;of-type&quot;===t;return 1===r&amp;&amp;0===i?function(e){return!!e.parentNode}:function(t,n,l){var c,u,d,f,p,h,m=o!==a?&quot;nextSibling&quot;:&quot;previousSibling&quot;,g=t.parentNode,v=s&amp;&amp;t.nodeName.toLowerCase(),y=!l&amp;&amp;!s;if(g){if(o){for(;m;){for(d=t;d=d[m];)if(s?d.nodeName.toLowerCase()===v:1===d.nodeType)return!1;h=m=&quot;only&quot;===e&amp;&amp;!h&amp;&amp;&quot;nextSibling&quot;}return!0}if(h=[a?g.firstChild:g.lastChild],a&amp;&amp;y){for(u=g[I]||(g[I]={}),c=u[e]||[],p=c[0]===W&amp;&amp;c[1],f=c[0]===W&amp;&amp;c[2],d=p&amp;&amp;g.childNodes[p];d=++p&amp;&amp;d&amp;&amp;d[m]||(f=p=0)||h.pop();)if(1===d.nodeType&amp;&amp;++f&amp;&amp;d===t){u[e]=[W,p,f];break}}else if(y&amp;&amp;(c=(t[I]||(t[I]={}))[e])&amp;&amp;c[0]===W)f=c[1];else for(;(d=++p&amp;&amp;d&amp;&amp;d[m]||(f=p=0)||h.pop())&amp;&amp;((s?d.nodeName.toLowerCase()!==v:1!==d.nodeType)||!++f||(y&amp;&amp;((d[I]||(d[I]={}))[e]=[W,f]),d!==t)););return f-=i,f===r||f%r===0&amp;&amp;f/r&gt;=0}}},PSEUDO:function(e,t){var n,i=_.pseudos[e]||_.setFilters[e.toLowerCase()]||o.error(&quot;unsupported pseudo: &quot;+e);return i[I]?i(t):i.length&gt;1?(n=[e,e,&quot;&quot;,t],_.setFilters.hasOwnProperty(e.toLowerCase())?r(function(e,n){for(var r,o=i(e,t),a=o.length;a--;)r=tt.call(e,o[a]),e[r]=!(n[r]=o[a])}):function(e){return i(e,0,n)}):i}},pseudos:{not:r(function(e){var t=[],n=[],i=S(e.replace(lt,&quot;$1&quot;));return i[I]?r(function(e,t,n,r){for(var o,a=i(e,null,r,[]),s=e.length;s--;)(o=a[s])&amp;&amp;(e[s]=!(t[s]=o))}):function(e,r,o){return t[0]=e,i(t,null,o,n),!n.pop()}}),has:r(function(e){return function(t){return o(e,t).length&gt;0}}),contains:r(function(e){return function(t){return(t.textContent||t.innerText||N(t)).indexOf(e)&gt;-1}}),lang:r(function(e){return ft.test(e||&quot;&quot;)||o.error(&quot;unsupported lang: &quot;+e),e=e.replace(xt,wt).toLowerCase(),function(t){var n;do if(n=L?t.lang:t.getAttribute(&quot;xml:lang&quot;)||t.getAttribute(&quot;lang&quot;))return n=n.toLowerCase(),n===e||0===n.indexOf(e+&quot;-&quot;);while((t=t.parentNode)&amp;&amp;1===t.nodeType);return!1}}),target:function(e){var t=window.location&amp;&amp;window.location.hash;return t&amp;&amp;t.slice(1)===e.id},root:function(e){return e===D},focus:function(e){return e===B.activeElement&amp;&amp;(!B.hasFocus||B.hasFocus())&amp;&amp;!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return&quot;input&quot;===t&amp;&amp;!!e.checked||&quot;option&quot;===t&amp;&amp;!!e.selected},selected:function(e){return e.parentNode&amp;&amp;e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeName&gt;&quot;@&quot;||3===e.nodeType||4===e.nodeType)return!1;return!0},parent:function(e){return!_.pseudos.empty(e)},header:function(e){return yt.test(e.nodeName)},input:function(e){return vt.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return&quot;input&quot;===t&amp;&amp;&quot;button&quot;===e.type||&quot;button&quot;===t},text:function(e){var t;return&quot;input&quot;===e.nodeName.toLowerCase()&amp;&amp;&quot;text&quot;===e.type&amp;&amp;(null==(t=e.getAttribute(&quot;type&quot;))||t.toLowerCase()===e.type)},first:c(function(){return[0]}),last:c(function(e,t){return[t-1]}),eq:c(function(e,t,n){return[0&gt;n?n+t:n]}),even:c(function(e,t){for(var n=0;t&gt;n;n+=2)e.push(n);return e}),odd:c(function(e,t){for(var n=1;t&gt;n;n+=2)e.push(n);return e}),lt:c(function(e,t,n){for(var r=0&gt;n?n+t:n;--r&gt;=0;)e.push(r);return e}),gt:c(function(e,t,n){for(var r=0&gt;n?n+t:n;++r&lt;t;)e.push(r);return e})}};for(x in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})_.pseudos[x]=s(x);for(x in{submit:!0,reset:!0})_.pseudos[x]=l(x);return S=o.compile=function(e,t){var n,r=[],i=[],o=$[e+&quot; &quot;];if(!o){for(t||(t=u(e)),n=t.length;n--;)o=g(t[n]),o[I]?r.push(o):i.push(o);o=$(e,v(i,r))}return o},_.pseudos.nth=_.pseudos.eq,C.prototype=_.filters=_.pseudos,_.setFilters=new C,z.sortStable=I.split(&quot;&quot;).sort(K).join(&quot;&quot;)===I,A(),[0,0].sort(K),z.detectDuplicates=j,o}),r(u,[l,c],function(e,n){function r(e){return&quot;undefined&quot;!=typeof e}function i(e){return&quot;string&quot;==typeof e}function o(e){var t,n,r;for(r=v.createElement(&quot;div&quot;),t=v.createDocumentFragment(),r.innerHTML=e;n=r.firstChild;)t.appendChild(n);return t}function a(e,t,n){var r;if(&quot;string&quot;==typeof t)t=o(t);else if(t.length){for(r=0;r&lt;t.length;r++)a(e,t[r],n);return e}for(r=e.length;r--;)n.call(e[r],t.parentNode?t:t);return e}function s(e,t){return e&amp;&amp;t&amp;&amp;-1!==(&quot; &quot;+e.className+&quot; &quot;).indexOf(&quot; &quot;+t+&quot; &quot;)}function l(e,t){var n;for(e=e||[],&quot;string&quot;==typeof e&amp;&amp;(e=e.split(&quot; &quot;)),t=t||{},n=e.length;n--;)t[e[n]]={};return t}function c(e,t){return new c.fn.init(e,t)}function u(e){var t=arguments,n,r,i;for(r=1;r&lt;t.length;r++){n=t[r];for(i in n)e[i]=n[i]}return e}function d(e){var t=[],n,r;for(n=0,r=e.length;r&gt;n;n++)t[n]=e[n];return t}function f(e,t){var n;if(t.indexOf)return t.indexOf(e);for(n=t.length;n--;)if(t[n]===e)return n;return-1}function p(e){return null===e||e===t?&quot;&quot;:(&quot;&quot;+e).replace(N,&quot;&quot;)}function h(e,t){var n,r,i,o,a;if(e)if(n=e.length,n===o){for(r in e)if(e.hasOwnProperty(r)&amp;&amp;(a=e[r],t.call(a,a,r)===!1))break}else for(i=0;n&gt;i&amp;&amp;(a=e[i],t.call(a,a,r)!==!1);i++);return e}function m(e,n,r){for(var i=[],o=e[n];o&amp;&amp;9!==o.nodeType&amp;&amp;(r===t||1!==o.nodeType||!c(o).is(r));)1===o.nodeType&amp;&amp;i.push(o),o=o[n];return i}function g(e,t,n,r){for(var i=[];e;e=e[n])r&amp;&amp;e.nodeType!==r||e===t||i.push(e);return i}var v=document,y=Array.prototype.push,b=Array.prototype.slice,C=/^(?:[^#&lt;]*(&lt;[\w\W]+&gt;)[^&gt;]*$|#([\w\-]*)$)/,x=e.Event,w=l(&quot;fillOpacity fontWeight lineHeight opacity orphans widows zIndex zoom&quot;),_=Array.isArray||function(e){return&quot;[object Array]&quot;===Object.prototype.toString.call(e)},N=/^\s*|\s*$/g;return c.fn=c.prototype={constructor:c,selector:&quot;&quot;,length:0,init:function(e,t){var n=this,r,a;if(!e)return n;if(e.nodeType)return n.context=n[0]=e,n.length=1,n;if(i(e)){if(r=&quot;&lt;&quot;===e.charAt(0)&amp;&amp;&quot;&gt;&quot;===e.charAt(e.length-1)&amp;&amp;e.length&gt;=3?[null,e,null]:C.exec(e),!r)return c(t||document).find(e);if(r[1])for(a=o(e).firstChild;a;)this.add(a),a=a.nextSibling;else{if(a=v.getElementById(r[2]),a.id!==r[2])return n.find(e);n.length=1,n[0]=a}}else this.add(e);return n},toArray:function(){return d(this)},add:function(e){var t=this;return _(e)?y.apply(t,e):e instanceof c?t.add(e.toArray()):y.call(t,e),t},attr:function(e,n){var i=this;if(&quot;object&quot;==typeof e)h(e,function(e,t){i.attr(t,e)});else{if(!r(n))return i[0]&amp;&amp;1===i[0].nodeType?i[0].getAttribute(e):t;this.each(function(){1===this.nodeType&amp;&amp;this.setAttribute(e,n)})}return i},css:function(e,n){var i=this;if(&quot;object&quot;==typeof e)h(e,function(e,t){i.css(t,e)});else{if(e=e.replace(/-(\D)/g,function(e,t){return t.toUpperCase()}),!r(n))return i[0]?i[0].style[e]:t;&quot;number&quot;!=typeof n||w[e]||(n+=&quot;px&quot;),i.each(function(){var t=this.style;&quot;opacity&quot;===e&amp;&amp;this.runtimeStyle&amp;&amp;&quot;undefined&quot;==typeof this.runtimeStyle.opacity&amp;&amp;(t.filter=&quot;&quot;===n?&quot;&quot;:&quot;alpha(opacity=&quot;+100*n+&quot;)&quot;);try{t[e]=n}catch(r){}})}return i},remove:function(){for(var e=this,t,n=this.length;n--;)t=e[n],x.clean(t),t.parentNode&amp;&amp;t.parentNode.removeChild(t);return this},empty:function(){for(var e=this,t,n=this.length;n--;)for(t=e[n];t.firstChild;)t.removeChild(t.firstChild);return this},html:function(e){var t=this,n;if(r(e)){for(n=t.length;n--;)t[n].innerHTML=e;return t}return t[0]?t[0].innerHTML:&quot;&quot;},text:function(e){var t=this,n;if(r(e)){for(n=t.length;n--;)t[n].innerText=t[0].textContent=e;return t}return t[0]?t[0].innerText||t[0].textContent:&quot;&quot;},append:function(){return a(this,arguments,function(e){1===this.nodeType&amp;&amp;this.appendChild(e)})},prepend:function(){return a(this,arguments,function(e){1===this.nodeType&amp;&amp;this.insertBefore(e,this.firstChild)})},before:function(){var e=this;return e[0]&amp;&amp;e[0].parentNode?a(e,arguments,function(e){this.parentNode.insertBefore(e,this.nextSibling)}):e},after:function(){var e=this;return e[0]&amp;&amp;e[0].parentNode?a(e,arguments,function(e){this.parentNode.insertBefore(e,this)}):e},appendTo:function(e){return c(e).append(this),this},addClass:function(e){return this.toggleClass(e,!0)},removeClass:function(e){return this.toggleClass(e,!1)},toggleClass:function(e,t){var n=this;return-1!==e.indexOf(&quot; &quot;)?h(e.split(&quot; &quot;),function(){n.toggleClass(this,t)}):n.each(function(n){var r;s(n,e)!==t&amp;&amp;(r=n.className,t?n.className+=r?&quot; &quot;+e:e:n.className=p((&quot; &quot;+r+&quot; &quot;).replace(&quot; &quot;+e+&quot; &quot;,&quot; &quot;)))}),n},hasClass:function(e){return s(this[0],e)},each:function(e){return h(this,e)},on:function(e,t){return this.each(function(){x.bind(this,e,t)})},off:function(e,t){return this.each(function(){x.unbind(this,e,t)})},show:function(){return this.css(&quot;display&quot;,&quot;&quot;)},hide:function(){return this.css(&quot;display&quot;,&quot;none&quot;)},slice:function(){return new c(b.apply(this,arguments))},eq:function(e){return-1===e?this.slice(e):this.slice(e,+e+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},replaceWith:function(e){var t=this;return t[0]&amp;&amp;t[0].parentNode.replaceChild(c(e)[0],t[0]),t},wrap:function(e){return e=c(e)[0],this.each(function(){var t=this,n=e.cloneNode(!1);t.parentNode.insertBefore(n,t),n.appendChild(t)})},unwrap:function(){return this.each(function(){for(var e=this,t=e.firstChild,n;t;)n=t,t=t.nextSibling,e.parentNode.insertBefore(n,e)})},clone:function(){var e=[];return this.each(function(){e.push(this.cloneNode(!0))}),c(e)},find:function(e){var t,n,r=[];for(t=0,n=this.length;n&gt;t;t++)c.find(e,this[t],r);return c(r)},push:y,sort:[].sort,splice:[].splice},u(c,{extend:u,toArray:d,inArray:f,isArray:_,each:h,trim:p,makeMap:l,find:n,expr:n.selectors,unique:n.uniqueSort,text:n.getText,isXMLDoc:n.isXML,contains:n.contains,filter:function(e,t,n){return n&amp;&amp;(e=&quot;:not(&quot;+e+&quot;)&quot;),t=1===t.length?c.find.matchesSelector(t[0],e)?[t[0]]:[]:c.find.matches(e,t)}}),h({parent:function(e){var t=e.parentNode;return t&amp;&amp;11!==t.nodeType?t:null},parents:function(e){return m(e,&quot;parentNode&quot;)},parentsUntil:function(e,t){return m(e,&quot;parentNode&quot;,t)},next:function(e){return g(e,&quot;nextSibling&quot;,1)},prev:function(e){return g(e,&quot;previousSibling&quot;,1)},nextNodes:function(e){return g(e,&quot;nextSibling&quot;)},prevNodes:function(e){return g(e,&quot;previousSibling&quot;)},children:function(e){return g(e.firstChild,&quot;nextSibling&quot;,1)},contents:function(e){return d((&quot;iframe&quot;===e.nodeName?e.contentDocument||e.contentWindow.document:e).childNodes)}},function(e,t){c.fn[e]=function(n){var r=this,i;if(r.length&gt;1)throw new Error(&quot;DomQuery only supports traverse functions on a single node.&quot;);return r[0]&amp;&amp;(i=t(r[0],n)),i=c(i),n&amp;&amp;&quot;parentsUntil&quot;!==e?i.filter(n):i}}),c.fn.filter=function(e){return c.filter(e)},c.fn.is=function(e){return!!e&amp;&amp;this.filter(e).length&gt;0},c.fn.init.prototype=c.fn,c}),r(d,[],function(){return function(e,t){function n(e,t,n,r){function i(e){return e=parseInt(e,10).toString(16),e.length&gt;1?e:&quot;0&quot;+e
}return&quot;#&quot;+i(t)+i(n)+i(r)}var r=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,i=/(?:url(?:(?:\(\s*\&quot;([^\&quot;]+)\&quot;\s*\))|(?:\(\s*\&#039;([^\&#039;]+)\&#039;\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\&#039;([^\&#039;]+)\&#039;)|(?:\&quot;([^\&quot;]+)\&quot;)/gi,o=/\s*([^:]+):\s*([^;]+);?/g,a=/\s+$/,s,l,c={},u,d=&quot;\ufeff&quot;;for(e=e||{},u=(&quot;\\\&quot; \\&#039; \\; \\: ; : &quot;+d).split(&quot; &quot;),l=0;l&lt;u.length;l++)c[u[l]]=d+l,c[d+l]=u[l];return{toHex:function(e){return e.replace(r,n)},parse:function(t){function s(e,t,n){var r,i,o,a;if(r=m[e+&quot;-top&quot;+t],r&amp;&amp;(i=m[e+&quot;-right&quot;+t],i&amp;&amp;(o=m[e+&quot;-bottom&quot;+t],o&amp;&amp;(a=m[e+&quot;-left&quot;+t])))){var s=[r,i,o,a];for(l=s.length-1;l--&amp;&amp;s[l]===s[l+1];);l&gt;-1&amp;&amp;n||(m[e+t]=-1==l?s[0]:s.join(&quot; &quot;),delete m[e+&quot;-top&quot;+t],delete m[e+&quot;-right&quot;+t],delete m[e+&quot;-bottom&quot;+t],delete m[e+&quot;-left&quot;+t])}}function u(e){var t=m[e],n;if(t){for(t=t.split(&quot; &quot;),n=t.length;n--;)if(t[n]!==t[0])return!1;return m[e]=t[0],!0}}function d(e,t,n,r){u(t)&amp;&amp;u(n)&amp;&amp;u(r)&amp;&amp;(m[e]=m[t]+&quot; &quot;+m[n]+&quot; &quot;+m[r],delete m[t],delete m[n],delete m[r])}function f(e){return b=!0,c[e]}function p(e,t){return b&amp;&amp;(e=e.replace(/\uFEFF[0-9]/g,function(e){return c[e]})),t||(e=e.replace(/\\([\&#039;\&quot;;:])/g,&quot;$1&quot;)),e}function h(t,n,r,i,o,a){if(o=o||a)return o=p(o),&quot;&#039;&quot;+o.replace(/\&#039;/g,&quot;\\&#039;&quot;)+&quot;&#039;&quot;;if(n=p(n||r||i),!e.allow_script_urls){var s=n.replace(/[\s\r\n]+/,&quot;&quot;);if(/(java|vb)script:/i.test(s))return&quot;&quot;;if(!e.allow_svg_data_urls&amp;&amp;/^data:image\/svg/i.test(s))return&quot;&quot;}return C&amp;&amp;(n=C.call(x,n,&quot;style&quot;)),&quot;url(&#039;&quot;+n.replace(/\&#039;/g,&quot;\\&#039;&quot;)+&quot;&#039;)&quot;}var m={},g,v,y,b,C=e.url_converter,x=e.url_converter_scope||this;if(t){for(t=t.replace(/[\u0000-\u001F]/g,&quot;&quot;),t=t.replace(/\\[\&quot;\&#039;;:\uFEFF]/g,f).replace(/\&quot;[^\&quot;]+\&quot;|\&#039;[^\&#039;]+\&#039;/g,function(e){return e.replace(/[;:]/g,f)});g=o.exec(t);){if(v=g[1].replace(a,&quot;&quot;).toLowerCase(),y=g[2].replace(a,&quot;&quot;),y=y.replace(/\\[0-9a-f]+/g,function(e){return String.fromCharCode(parseInt(e.substr(1),16))}),v&amp;&amp;y.length&gt;0){if(!e.allow_script_urls&amp;&amp;(&quot;behavior&quot;==v||/expression\s*\(|\/\*|\*\//.test(y)))continue;&quot;font-weight&quot;===v&amp;&amp;&quot;700&quot;===y?y=&quot;bold&quot;:(&quot;color&quot;===v||&quot;background-color&quot;===v)&amp;&amp;(y=y.toLowerCase()),y=y.replace(r,n),y=y.replace(i,h),m[v]=b?p(y,!0):y}o.lastIndex=g.index+g[0].length}s(&quot;border&quot;,&quot;&quot;,!0),s(&quot;border&quot;,&quot;-width&quot;),s(&quot;border&quot;,&quot;-color&quot;),s(&quot;border&quot;,&quot;-style&quot;),s(&quot;padding&quot;,&quot;&quot;),s(&quot;margin&quot;,&quot;&quot;),d(&quot;border&quot;,&quot;border-width&quot;,&quot;border-style&quot;,&quot;border-color&quot;),&quot;medium none&quot;===m.border&amp;&amp;delete m.border,&quot;none&quot;===m[&quot;border-image&quot;]&amp;&amp;delete m[&quot;border-image&quot;]}return m},serialize:function(e,n){function r(n){var r,o,a,l;if(r=t.styles[n])for(o=0,a=r.length;a&gt;o;o++)n=r[o],l=e[n],l!==s&amp;&amp;l.length&gt;0&amp;&amp;(i+=(i.length&gt;0?&quot; &quot;:&quot;&quot;)+n+&quot;: &quot;+l+&quot;;&quot;)}var i=&quot;&quot;,o,a;if(n&amp;&amp;t&amp;&amp;t.styles)r(&quot;*&quot;),r(n);else for(o in e)a=e[o],a!==s&amp;&amp;a.length&gt;0&amp;&amp;(i+=(i.length&gt;0?&quot; &quot;:&quot;&quot;)+o+&quot;: &quot;+a+&quot;;&quot;);return i}}}}),r(f,[],function(){return function(e,t){function n(e,n,r,i){var o,a;if(e){if(!i&amp;&amp;e[n])return e[n];if(e!=t){if(o=e[r])return o;for(a=e.parentNode;a&amp;&amp;a!=t;a=a.parentNode)if(o=a[r])return o}}}var r=e;this.current=function(){return r},this.next=function(e){return r=n(r,&quot;firstChild&quot;,&quot;nextSibling&quot;,e)},this.prev=function(e){return r=n(r,&quot;lastChild&quot;,&quot;previousSibling&quot;,e)}}}),r(p,[],function(){function e(e){return null===e||e===t?&quot;&quot;:(&quot;&quot;+e).replace(m,&quot;&quot;)}function n(e,n){return n?&quot;array&quot;==n&amp;&amp;g(e)?!0:typeof e==n:e!==t}function r(e){var t=[],n,r;for(n=0,r=e.length;r&gt;n;n++)t[n]=e[n];return t}function i(e,t,n){var r;for(e=e||[],t=t||&quot;,&quot;,&quot;string&quot;==typeof e&amp;&amp;(e=e.split(t)),n=n||{},r=e.length;r--;)n[e[r]]={};return n}function o(e,n,r){var i,o;if(!e)return 0;if(r=r||e,e.length!==t){for(i=0,o=e.length;o&gt;i;i++)if(n.call(r,e[i],i,e)===!1)return 0}else for(i in e)if(e.hasOwnProperty(i)&amp;&amp;n.call(r,e[i],i,e)===!1)return 0;return 1}function a(e,t){var n=[];return o(e,function(e){n.push(t(e))}),n}function s(e,t){var n=[];return o(e,function(e){(!t||t(e))&amp;&amp;n.push(e)}),n}function l(e,t,n){var r=this,i,o,a,s,l,c=0;if(e=/^((static) )?([\w.]+)(:([\w.]+))?/.exec(e),a=e[3].match(/(^|\.)(\w+)$/i)[2],o=r.createNS(e[3].replace(/\.\w+$/,&quot;&quot;),n),!o[a]){if(&quot;static&quot;==e[2])return o[a]=t,void(this.onCreate&amp;&amp;this.onCreate(e[2],e[3],o[a]));t[a]||(t[a]=function(){},c=1),o[a]=t[a],r.extend(o[a].prototype,t),e[5]&amp;&amp;(i=r.resolve(e[5]).prototype,s=e[5].match(/\.(\w+)$/i)[1],l=o[a],o[a]=c?function(){return i[s].apply(this,arguments)}:function(){return this.parent=i[s],l.apply(this,arguments)},o[a].prototype[a]=o[a],r.each(i,function(e,t){o[a].prototype[t]=i[t]}),r.each(t,function(e,t){i[t]?o[a].prototype[t]=function(){return this.parent=i[t],e.apply(this,arguments)}:t!=a&amp;&amp;(o[a].prototype[t]=e)})),r.each(t[&quot;static&quot;],function(e,t){o[a][t]=e})}}function c(e,t){var n,r;if(e)for(n=0,r=e.length;r&gt;n;n++)if(e[n]===t)return n;return-1}function u(e,n){var r,i,o,a=arguments,s;for(r=1,i=a.length;i&gt;r;r++){n=a[r];for(o in n)n.hasOwnProperty(o)&amp;&amp;(s=n[o],s!==t&amp;&amp;(e[o]=s))}return e}function d(e,t,n,r){r=r||this,e&amp;&amp;(n&amp;&amp;(e=e[n]),o(e,function(e,i){return t.call(r,e,i,n)===!1?!1:void d(e,t,n,r)}))}function f(e,t){var n,r;for(t=t||window,e=e.split(&quot;.&quot;),n=0;n&lt;e.length;n++)r=e[n],t[r]||(t[r]={}),t=t[r];return t}function p(e,t){var n,r;for(t=t||window,e=e.split(&quot;.&quot;),n=0,r=e.length;r&gt;n&amp;&amp;(t=t[e[n]],t);n++);return t}function h(t,r){return!t||n(t,&quot;array&quot;)?t:a(t.split(r||&quot;,&quot;),e)}var m=/^\s*|\s*$/g,g=Array.isArray||function(e){return&quot;[object Array]&quot;===Object.prototype.toString.call(e)};return{trim:e,isArray:g,is:n,toArray:r,makeMap:i,each:o,map:a,grep:s,inArray:c,extend:u,create:l,walk:d,createNS:f,resolve:p,explode:h}}),r(h,[p],function(e){function t(n){function r(){return H.createDocumentFragment()}function i(e,t){_(F,e,t)}function o(e,t){_(z,e,t)}function a(e){i(e.parentNode,j(e))}function s(e){i(e.parentNode,j(e)+1)}function l(e){o(e.parentNode,j(e))}function c(e){o(e.parentNode,j(e)+1)}function u(e){e?(M[U]=M[V],M[q]=M[W]):(M[V]=M[U],M[W]=M[q]),M.collapsed=F}function d(e){a(e),c(e)}function f(e){i(e,0),o(e,1===e.nodeType?e.childNodes.length:e.nodeValue.length)}function p(e,t){var n=M[V],r=M[W],i=M[U],o=M[q],a=t.startContainer,s=t.startOffset,l=t.endContainer,c=t.endOffset;return 0===e?w(n,r,a,s):1===e?w(i,o,a,s):2===e?w(i,o,l,c):3===e?w(n,r,l,c):void 0}function h(){N(I)}function m(){return N(P)}function g(){return N(O)}function v(e){var t=this[V],r=this[W],i,o;3!==t.nodeType&amp;&amp;4!==t.nodeType||!t.nodeValue?(t.childNodes.length&gt;0&amp;&amp;(o=t.childNodes[r]),o?t.insertBefore(e,o):3==t.nodeType?n.insertAfter(e,t):t.appendChild(e)):r?r&gt;=t.nodeValue.length?n.insertAfter(e,t):(i=t.splitText(r),t.parentNode.insertBefore(e,i)):t.parentNode.insertBefore(e,t)}function y(e){var t=M.extractContents();M.insertNode(e),e.appendChild(t),M.selectNode(e)}function b(){return $(new t(n),{startContainer:M[V],startOffset:M[W],endContainer:M[U],endOffset:M[q],collapsed:M.collapsed,commonAncestorContainer:M.commonAncestorContainer})}function C(e,t){var n;if(3==e.nodeType)return e;if(0&gt;t)return e;for(n=e.firstChild;n&amp;&amp;t&gt;0;)--t,n=n.nextSibling;return n?n:e}function x(){return M[V]==M[U]&amp;&amp;M[W]==M[q]}function w(e,t,r,i){var o,a,s,l,c,u;if(e==r)return t==i?0:i&gt;t?-1:1;for(o=r;o&amp;&amp;o.parentNode!=e;)o=o.parentNode;if(o){for(a=0,s=e.firstChild;s!=o&amp;&amp;t&gt;a;)a++,s=s.nextSibling;return a&gt;=t?-1:1}for(o=e;o&amp;&amp;o.parentNode!=r;)o=o.parentNode;if(o){for(a=0,s=r.firstChild;s!=o&amp;&amp;i&gt;a;)a++,s=s.nextSibling;return i&gt;a?-1:1}for(l=n.findCommonAncestor(e,r),c=e;c&amp;&amp;c.parentNode!=l;)c=c.parentNode;for(c||(c=l),u=r;u&amp;&amp;u.parentNode!=l;)u=u.parentNode;if(u||(u=l),c==u)return 0;for(s=l.firstChild;s;){if(s==c)return-1;if(s==u)return 1;s=s.nextSibling}}function _(e,t,r){var i,o;for(e?(M[V]=t,M[W]=r):(M[U]=t,M[q]=r),i=M[U];i.parentNode;)i=i.parentNode;for(o=M[V];o.parentNode;)o=o.parentNode;o==i?w(M[V],M[W],M[U],M[q])&gt;0&amp;&amp;M.collapse(e):M.collapse(e),M.collapsed=x(),M.commonAncestorContainer=n.findCommonAncestor(M[V],M[U])}function N(e){var t,n=0,r=0,i,o,a,s,l,c;if(M[V]==M[U])return E(e);for(t=M[U],i=t.parentNode;i;t=i,i=i.parentNode){if(i==M[V])return S(t,e);++n}for(t=M[V],i=t.parentNode;i;t=i,i=i.parentNode){if(i==M[U])return k(t,e);++r}for(o=r-n,a=M[V];o&gt;0;)a=a.parentNode,o--;for(s=M[U];0&gt;o;)s=s.parentNode,o++;for(l=a.parentNode,c=s.parentNode;l!=c;l=l.parentNode,c=c.parentNode)a=l,s=c;return T(a,s,e)}function E(e){var t,n,i,o,a,s,l,c,u;if(e!=I&amp;&amp;(t=r()),M[W]==M[q])return t;if(3==M[V].nodeType){if(n=M[V].nodeValue,i=n.substring(M[W],M[q]),e!=O&amp;&amp;(o=M[V],c=M[W],u=M[q]-M[W],0===c&amp;&amp;u&gt;=o.nodeValue.length-1?o.parentNode.removeChild(o):o.deleteData(c,u),M.collapse(F)),e==I)return;return i.length&gt;0&amp;&amp;t.appendChild(H.createTextNode(i)),t}for(o=C(M[V],M[W]),a=M[q]-M[W];o&amp;&amp;a&gt;0;)s=o.nextSibling,l=D(o,e),t&amp;&amp;t.appendChild(l),--a,o=s;return e!=O&amp;&amp;M.collapse(F),t}function S(e,t){var n,i,o,a,s,l;if(t!=I&amp;&amp;(n=r()),i=R(e,t),n&amp;&amp;n.appendChild(i),o=j(e),a=o-M[W],0&gt;=a)return t!=O&amp;&amp;(M.setEndBefore(e),M.collapse(z)),n;for(i=e.previousSibling;a&gt;0;)s=i.previousSibling,l=D(i,t),n&amp;&amp;n.insertBefore(l,n.firstChild),--a,i=s;return t!=O&amp;&amp;(M.setEndBefore(e),M.collapse(z)),n}function k(e,t){var n,i,o,a,s,l;for(t!=I&amp;&amp;(n=r()),o=A(e,t),n&amp;&amp;n.appendChild(o),i=j(e),++i,a=M[q]-i,o=e.nextSibling;o&amp;&amp;a&gt;0;)s=o.nextSibling,l=D(o,t),n&amp;&amp;n.appendChild(l),--a,o=s;return t!=O&amp;&amp;(M.setStartAfter(e),M.collapse(F)),n}function T(e,t,n){var i,o,a,s,l,c,u;for(n!=I&amp;&amp;(o=r()),i=A(e,n),o&amp;&amp;o.appendChild(i),a=j(e),s=j(t),++a,l=s-a,c=e.nextSibling;l&gt;0;)u=c.nextSibling,i=D(c,n),o&amp;&amp;o.appendChild(i),c=u,--l;return i=R(t,n),o&amp;&amp;o.appendChild(i),n!=O&amp;&amp;(M.setStartAfter(e),M.collapse(F)),o}function R(e,t){var n=C(M[U],M[q]-1),r,i,o,a,s,l=n!=M[U];if(n==e)return B(n,l,z,t);for(r=n.parentNode,i=B(r,z,z,t);r;){for(;n;)o=n.previousSibling,a=B(n,l,z,t),t!=I&amp;&amp;i.insertBefore(a,i.firstChild),l=F,n=o;if(r==e)return i;n=r.previousSibling,r=r.parentNode,s=B(r,z,z,t),t!=I&amp;&amp;s.appendChild(i),i=s}}function A(e,t){var n=C(M[V],M[W]),r=n!=M[V],i,o,a,s,l;if(n==e)return B(n,r,F,t);for(i=n.parentNode,o=B(i,z,F,t);i;){for(;n;)a=n.nextSibling,s=B(n,r,F,t),t!=I&amp;&amp;o.appendChild(s),r=F,n=a;if(i==e)return o;n=i.nextSibling,i=i.parentNode,l=B(i,z,F,t),t!=I&amp;&amp;l.appendChild(o),o=l}}function B(e,t,r,i){var o,a,s,l,c;if(t)return D(e,i);if(3==e.nodeType){if(o=e.nodeValue,r?(l=M[W],a=o.substring(l),s=o.substring(0,l)):(l=M[q],a=o.substring(0,l),s=o.substring(l)),i!=O&amp;&amp;(e.nodeValue=s),i==I)return;return c=n.clone(e,z),c.nodeValue=a,c}if(i!=I)return n.clone(e,z)}function D(e,t){return t!=I?t==O?n.clone(e,F):e:void e.parentNode.removeChild(e)}function L(){return n.create(&quot;body&quot;,null,g()).outerText}var M=this,H=n.doc,P=0,O=1,I=2,F=!0,z=!1,W=&quot;startOffset&quot;,V=&quot;startContainer&quot;,U=&quot;endContainer&quot;,q=&quot;endOffset&quot;,$=e.extend,j=n.nodeIndex;return $(M,{startContainer:H,startOffset:0,endContainer:H,endOffset:0,collapsed:F,commonAncestorContainer:H,START_TO_START:0,START_TO_END:1,END_TO_END:2,END_TO_START:3,setStart:i,setEnd:o,setStartBefore:a,setStartAfter:s,setEndBefore:l,setEndAfter:c,collapse:u,selectNode:d,selectNodeContents:f,compareBoundaryPoints:p,deleteContents:h,extractContents:m,cloneContents:g,insertNode:v,surroundContents:y,cloneRange:b,toStringIE:L}),M}return t.prototype.toString=function(){return this.toStringIE()},t}),r(m,[p],function(e){function t(e){var t;return t=document.createElement(&quot;div&quot;),t.innerHTML=e,t.textContent||t.innerText||e}function n(e,t){var n,r,i,a={};if(e){for(e=e.split(&quot;,&quot;),t=t||10,n=0;n&lt;e.length;n+=2)r=String.fromCharCode(parseInt(e[n],t)),o[r]||(i=&quot;&amp;&quot;+e[n+1]+&quot;;&quot;,a[r]=i,a[i]=r);return a}}var r=e.makeMap,i,o,a,s=/[&amp;&lt;&gt;\&quot;\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,l=/[&lt;&gt;&amp;\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,c=/[&lt;&gt;&amp;\&quot;\&#039;]/g,u=/&amp;(#x|#)?([\w]+);/g,d={128:&quot;\u20ac&quot;,130:&quot;\u201a&quot;,131:&quot;\u0192&quot;,132:&quot;\u201e&quot;,133:&quot;\u2026&quot;,134:&quot;\u2020&quot;,135:&quot;\u2021&quot;,136:&quot;\u02c6&quot;,137:&quot;\u2030&quot;,138:&quot;\u0160&quot;,139:&quot;\u2039&quot;,140:&quot;\u0152&quot;,142:&quot;\u017d&quot;,145:&quot;\u2018&quot;,146:&quot;\u2019&quot;,147:&quot;\u201c&quot;,148:&quot;\u201d&quot;,149:&quot;\u2022&quot;,150:&quot;\u2013&quot;,151:&quot;\u2014&quot;,152:&quot;\u02dc&quot;,153:&quot;\u2122&quot;,154:&quot;\u0161&quot;,155:&quot;\u203a&quot;,156:&quot;\u0153&quot;,158:&quot;\u017e&quot;,159:&quot;\u0178&quot;};o={&#039;&quot;&#039;:&quot;&amp;quot;&quot;,&quot;&#039;&quot;:&quot;&amp;#39;&quot;,&quot;&lt;&quot;:&quot;&amp;lt;&quot;,&quot;&gt;&quot;:&quot;&amp;gt;&quot;,&quot;&amp;&quot;:&quot;&amp;amp;&quot;,&quot;`&quot;:&quot;&amp;#96;&quot;},a={&quot;&amp;lt;&quot;:&quot;&lt;&quot;,&quot;&amp;gt;&quot;:&quot;&gt;&quot;,&quot;&amp;amp;&quot;:&quot;&amp;&quot;,&quot;&amp;quot;&quot;:&#039;&quot;&#039;,&quot;&amp;apos;&quot;:&quot;&#039;&quot;},i=n(&quot;50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro&quot;,32);var f={encodeRaw:function(e,t){return e.replace(t?s:l,function(e){return o[e]||e})},encodeAllRaw:function(e){return(&quot;&quot;+e).replace(c,function(e){return o[e]||e})},encodeNumeric:function(e,t){return e.replace(t?s:l,function(e){return e.length&gt;1?&quot;&amp;#&quot;+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+&quot;;&quot;:o[e]||&quot;&amp;#&quot;+e.charCodeAt(0)+&quot;;&quot;})},encodeNamed:function(e,t,n){return n=n||i,e.replace(t?s:l,function(e){return o[e]||n[e]||e})},getEncodeFunc:function(e,t){function a(e,n){return e.replace(n?s:l,function(e){return o[e]||t[e]||&quot;&amp;#&quot;+e.charCodeAt(0)+&quot;;&quot;||e})}function c(e,n){return f.encodeNamed(e,n,t)}return t=n(t)||i,e=r(e.replace(/\+/g,&quot;,&quot;)),e.named&amp;&amp;e.numeric?a:e.named?t?c:f.encodeNamed:e.numeric?f.encodeNumeric:f.encodeRaw},decode:function(e){return e.replace(u,function(e,n,r){return n?(r=parseInt(r,2===n.length?16:10),r&gt;65535?(r-=65536,String.fromCharCode(55296+(r&gt;&gt;10),56320+(1023&amp;r))):d[r]||String.fromCharCode(r)):a[e]||i[e]||t(e)})}};return f}),r(g,[],function(){var e=navigator,t=e.userAgent,n,r,i,o,a,s,l;n=window.opera&amp;&amp;window.opera.buildNumber,r=/WebKit/.test(t),i=!r&amp;&amp;!n&amp;&amp;/MSIE/gi.test(t)&amp;&amp;/Explorer/gi.test(e.appName),i=i&amp;&amp;/MSIE (\w+)\./.exec(t)[1],o=-1==t.indexOf(&quot;Trident/&quot;)||-1==t.indexOf(&quot;rv:&quot;)&amp;&amp;-1==e.appName.indexOf(&quot;Netscape&quot;)?!1:11,i=i||o,a=!r&amp;&amp;!o&amp;&amp;/Gecko/.test(t),s=-1!=t.indexOf(&quot;Mac&quot;),l=/(iPad|iPhone)/.test(t);var c=!l||t.match(/AppleWebKit\/(\d*)/)[1]&gt;=534;return{opera:n,webkit:r,ie:i,gecko:a,mac:s,iOS:l,contentEditable:c,transparentSrc:&quot;data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7&quot;,caretAfter:8!=i,range:window.getSelection&amp;&amp;&quot;Range&quot;in window,documentMode:i?document.documentMode||7:10}}),r(v,[],function(){return function(e,t){function n(t){e.getElementsByTagName(&quot;head&quot;)[0].appendChild(t)}function r(t,r,s){function l(){for(var e=v.passed,t=e.length;t--;)e[t]();v.status=2,v.passed=[],v.failed=[]}function c(){for(var e=v.failed,t=e.length;t--;)e[t]();v.status=3,v.passed=[],v.failed=[]}function u(){var e=navigator.userAgent.match(/WebKit\/(\d*)/);return!!(e&amp;&amp;e[1]&lt;536)}function d(e,t){e()||((new Date).getTime()-g&lt;a?window.setTimeout(t,0):c())}function f(){d(function(){for(var t=e.styleSheets,n,r=t.length,i;r--;)if(n=t[r],i=n.ownerNode?n.ownerNode:n.owningElement,i&amp;&amp;i.id===h.id)return l(),!0},f)}function p(){d(function(){try{var e=m.sheet.cssRules;return l(),!!e}catch(t){}},p)}var h,m,g,v;if(o[t]?v=o[t]:(v={passed:[],failed:[]},o[t]=v),r&amp;&amp;v.passed.push(r),s&amp;&amp;v.failed.push(s),1!=v.status){if(2==v.status)return void l();if(3==v.status)return void c();if(v.status=1,h=e.createElement(&quot;link&quot;),h.rel=&quot;stylesheet&quot;,h.type=&quot;text/css&quot;,h.id=&quot;u&quot;+i++,h.async=!1,h.defer=!1,g=(new Date).getTime(),&quot;onload&quot;in h&amp;&amp;!u())h.onload=f,h.onerror=c;else{if(navigator.userAgent.indexOf(&quot;Firefox&quot;)&gt;0)return m=e.createElement(&quot;style&quot;),m.textContent=&#039;@import &quot;&#039;+t+&#039;&quot;&#039;,p(),void n(m);f()}n(h),h.href=t}}var i=0,o={},a;t=t||{},a=t.maxLoadTime||5e3,this.load=r}}),r(y,[c,d,l,f,h,m,g,p,v],function(e,n,r,i,o,a,s,l,c){function u(e,t){var i=this,o;i.doc=e,i.win=window,i.files={},i.counter=0,i.stdMode=!v||e.documentMode&gt;=8,i.boxModel=!v||&quot;CSS1Compat&quot;==e.compatMode||i.stdMode,i.hasOuterHTML=&quot;outerHTML&quot;in e.createElement(&quot;a&quot;),i.styleSheetLoader=new c(e),this.boundEvents=[],i.settings=t=m({keep_values:!1,hex_colors:1},t),i.schema=t.schema,i.styles=new n({url_converter:t.url_converter,url_converter_scope:t.url_converter_scope},t.schema),i.fixDoc(e),i.events=t.ownEvents?new r(t.proxy):r.Event,o=t.schema?t.schema.getBlockElements():{},i.isBlock=function(e){if(!e)return!1;var t=e.nodeType;return t?!(1!==t||!o[e.nodeName]):!!o[e]}}var d=l.each,f=l.is,p=l.grep,h=l.trim,m=l.extend,g=s.webkit,v=s.ie,y=/^([a-z0-9],?)+$/i,b=/^[ \t\r\n]*$/,C=l.makeMap(&quot;fillOpacity fontWeight lineHeight opacity orphans widows zIndex zoom&quot;,&quot; &quot;);return u.prototype={root:null,props:{&quot;for&quot;:&quot;htmlFor&quot;,&quot;class&quot;:&quot;className&quot;,className:&quot;className&quot;,checked:&quot;checked&quot;,disabled:&quot;disabled&quot;,maxlength:&quot;maxLength&quot;,readonly:&quot;readOnly&quot;,selected:&quot;selected&quot;,value:&quot;value&quot;,id:&quot;id&quot;,name:&quot;name&quot;,type:&quot;type&quot;},fixDoc:function(e){var t=this.settings,n;if(v&amp;&amp;t.schema){&quot;abbr article aside audio canvas details figcaption figure footer header hgroup mark menu meter nav output progress section summary time video&quot;.replace(/\w+/g,function(t){e.createElement(t)});for(n in t.schema.getCustomElements())e.createElement(n)}},clone:function(e,t){var n=this,r,i;return!v||1!==e.nodeType||t?e.cloneNode(t):(i=n.doc,t?r.firstChild:(r=i.createElement(e.nodeName),d(n.getAttribs(e),function(t){n.setAttrib(r,t.nodeName,n.getAttrib(e,t.nodeName))}),r))},getRoot:function(){var e=this;return e.get(e.settings.root_element)||e.doc.body},getViewPort:function(e){var t,n;return e=e?e:this.win,t=e.document,n=this.boxModel?t.documentElement:t.body,{x:e.pageXOffset||n.scrollLeft,y:e.pageYOffset||n.scrollTop,w:e.innerWidth||n.clientWidth,h:e.innerHeight||n.clientHeight}},getRect:function(e){var t=this,n,r;return e=t.get(e),n=t.getPos(e),r=t.getSize(e),{x:n.x,y:n.y,w:r.w,h:r.h}},getSize:function(e){var t=this,n,r;return e=t.get(e),n=t.getStyle(e,&quot;width&quot;),r=t.getStyle(e,&quot;height&quot;),-1===n.indexOf(&quot;px&quot;)&amp;&amp;(n=0),-1===r.indexOf(&quot;px&quot;)&amp;&amp;(r=0),{w:parseInt(n,10)||e.offsetWidth||e.clientWidth,h:parseInt(r,10)||e.offsetHeight||e.clientHeight}},getParent:function(e,t,n){return this.getParents(e,t,n,!1)},getParents:function(e,n,r,i){var o=this,a,s=[];for(e=o.get(e),i=i===t,r=r||(&quot;BODY&quot;!=o.getRoot().nodeName?o.getRoot().parentNode:null),f(n,&quot;string&quot;)&amp;&amp;(a=n,n=&quot;*&quot;===n?function(e){return 1==e.nodeType}:function(e){return o.is(e,a)});e&amp;&amp;e!=r&amp;&amp;e.nodeType&amp;&amp;9!==e.nodeType;){if(!n||n(e)){if(!i)return e;s.push(e)}e=e.parentNode}return i?s:null},get:function(e){var t;return e&amp;&amp;this.doc&amp;&amp;&quot;string&quot;==typeof e&amp;&amp;(t=e,e=this.doc.getElementById(e),e&amp;&amp;e.id!==t)?this.doc.getElementsByName(t)[1]:e},getNext:function(e,t){return this._findSib(e,t,&quot;nextSibling&quot;)},getPrev:function(e,t){return this._findSib(e,t,&quot;previousSibling&quot;)},select:function(t,n){var r=this;return e(t,r.get(n)||r.get(r.settings.root_element)||r.doc,[])},is:function(n,r){var i;if(n.length===t){if(&quot;*&quot;===r)return 1==n.nodeType;if(y.test(r)){for(r=r.toLowerCase().split(/,/),n=n.nodeName.toLowerCase(),i=r.length-1;i&gt;=0;i--)if(r[i]==n)return!0;return!1}}if(n.nodeType&amp;&amp;1!=n.nodeType)return!1;var o=n.nodeType?[n]:n;return e(r,o[0].ownerDocument||o[0],null,o).length&gt;0},add:function(e,t,n,r,i){var o=this;return this.run(e,function(e){var a;return a=f(t,&quot;string&quot;)?o.doc.createElement(t):t,o.setAttribs(a,n),r&amp;&amp;(r.nodeType?a.appendChild(r):o.setHTML(a,r)),i?a:e.appendChild(a)})},create:function(e,t,n){return this.add(this.doc.createElement(e),e,t,n,1)},createHTML:function(e,t,n){var r=&quot;&quot;,i;r+=&quot;&lt;&quot;+e;for(i in t)t.hasOwnProperty(i)&amp;&amp;null!==t[i]&amp;&amp;(r+=&quot; &quot;+i+&#039;=&quot;&#039;+this.encode(t[i])+&#039;&quot;&#039;);return&quot;undefined&quot;!=typeof n?r+&quot;&gt;&quot;+n+&quot;&lt;/&quot;+e+&quot;&gt;&quot;:r+&quot; /&gt;&quot;},createFragment:function(e){var t,n,r=this.doc,i;for(i=r.createElement(&quot;div&quot;),t=r.createDocumentFragment(),e&amp;&amp;(i.innerHTML=e);n=i.firstChild;)t.appendChild(n);return t},remove:function(e,t){return this.run(e,function(e){var n,r=e.parentNode;if(!r)return null;if(t)for(;n=e.firstChild;)!v||3!==n.nodeType||n.nodeValue?r.insertBefore(n,e):e.removeChild(n);return r.removeChild(e)})},setStyle:function(e,t,n){return this.run(e,function(e){var r=this,i,o;if(t)if(&quot;string&quot;==typeof t){i=e.style,t=t.replace(/-(\D)/g,function(e,t){return t.toUpperCase()}),&quot;number&quot;!=typeof n||C[t]||(n+=&quot;px&quot;),&quot;opacity&quot;===t&amp;&amp;e.runtimeStyle&amp;&amp;&quot;undefined&quot;==typeof e.runtimeStyle.opacity&amp;&amp;(i.filter=&quot;&quot;===n?&quot;&quot;:&quot;alpha(opacity=&quot;+100*n+&quot;)&quot;),&quot;float&quot;==t&amp;&amp;(t=&quot;cssFloat&quot;in e.style?&quot;cssFloat&quot;:&quot;styleFloat&quot;);try{i[t]=n}catch(a){}r.settings.update_styles&amp;&amp;e.removeAttribute(&quot;data-mce-style&quot;)}else for(o in t)r.setStyle(e,o,t[o])})},getStyle:function(e,n,r){if(e=this.get(e)){if(this.doc.defaultView&amp;&amp;r){n=n.replace(/[A-Z]/g,function(e){return&quot;-&quot;+e});try{return this.doc.defaultView.getComputedStyle(e,null).getPropertyValue(n)}catch(i){return null}}return n=n.replace(/-(\D)/g,function(e,t){return t.toUpperCase()}),&quot;float&quot;==n&amp;&amp;(n=v?&quot;styleFloat&quot;:&quot;cssFloat&quot;),e.currentStyle&amp;&amp;r?e.currentStyle[n]:e.style?e.style[n]:t}},setStyles:function(e,t){this.setStyle(e,t)},css:function(e,t,n){this.setStyle(e,t,n)},removeAllAttribs:function(e){return this.run(e,function(e){var t,n=e.attributes;for(t=n.length-1;t&gt;=0;t--)e.removeAttributeNode(n.item(t))})},setAttrib:function(e,t,n){var r=this;if(e&amp;&amp;t)return this.run(e,function(e){var i=r.settings,o=e.getAttribute(t);if(null!==n)switch(t){case&quot;style&quot;:if(!f(n,&quot;string&quot;))return void d(n,function(t,n){r.setStyle(e,n,t)});i.keep_values&amp;&amp;(n?e.setAttribute(&quot;data-mce-style&quot;,n,2):e.removeAttribute(&quot;data-mce-style&quot;,2)),e.style.cssText=n;break;case&quot;class&quot;:e.className=n||&quot;&quot;;break;case&quot;src&quot;:case&quot;href&quot;:i.keep_values&amp;&amp;(i.url_converter&amp;&amp;(n=i.url_converter.call(i.url_converter_scope||r,n,t,e)),r.setAttrib(e,&quot;data-mce-&quot;+t,n,2));break;case&quot;shape&quot;:e.setAttribute(&quot;data-mce-style&quot;,n)}f(n)&amp;&amp;null!==n&amp;&amp;0!==n.length?e.setAttribute(t,&quot;&quot;+n,2):e.removeAttribute(t,2),o!=n&amp;&amp;i.onSetAttrib&amp;&amp;i.onSetAttrib({attrElm:e,attrName:t,attrValue:n})})},setAttribs:function(e,t){var n=this;return this.run(e,function(e){d(t,function(t,r){n.setAttrib(e,r,t)})})},getAttrib:function(e,t,n){var r,i=this,o;if(e=i.get(e),!e||1!==e.nodeType)return n===o?!1:n;if(f(n)||(n=&quot;&quot;),/^(src|href|style|coords|shape)$/.test(t)&amp;&amp;(r=e.getAttribute(&quot;data-mce-&quot;+t)))return r;if(v&amp;&amp;i.props[t]&amp;&amp;(r=e[i.props[t]],r=r&amp;&amp;r.nodeValue?r.nodeValue:r),r||(r=e.getAttribute(t,2)),/^(checked|compact|declare|defer|disabled|ismap|multiple|nohref|noshade|nowrap|readonly|selected)$/.test(t))return e[i.props[t]]===!0&amp;&amp;&quot;&quot;===r?t:r?t:&quot;&quot;;if(&quot;FORM&quot;===e.nodeName&amp;&amp;e.getAttributeNode(t))return e.getAttributeNode(t).nodeValue;if(&quot;style&quot;===t&amp;&amp;(r=r||e.style.cssText,r&amp;&amp;(r=i.serializeStyle(i.parseStyle(r),e.nodeName),i.settings.keep_values&amp;&amp;e.setAttribute(&quot;data-mce-style&quot;,r))),g&amp;&amp;&quot;class&quot;===t&amp;&amp;r&amp;&amp;(r=r.replace(/(apple|webkit)\-[a-z\-]+/gi,&quot;&quot;)),v)switch(t){case&quot;rowspan&quot;:case&quot;colspan&quot;:1===r&amp;&amp;(r=&quot;&quot;);break;case&quot;size&quot;:(&quot;+0&quot;===r||20===r||0===r)&amp;&amp;(r=&quot;&quot;);break;case&quot;width&quot;:case&quot;height&quot;:case&quot;vspace&quot;:case&quot;checked&quot;:case&quot;disabled&quot;:case&quot;readonly&quot;:0===r&amp;&amp;(r=&quot;&quot;);break;case&quot;hspace&quot;:-1===r&amp;&amp;(r=&quot;&quot;);break;case&quot;maxlength&quot;:case&quot;tabindex&quot;:(32768===r||2147483647===r||&quot;32768&quot;===r)&amp;&amp;(r=&quot;&quot;);break;case&quot;multiple&quot;:case&quot;compact&quot;:case&quot;noshade&quot;:case&quot;nowrap&quot;:return 65535===r?t:n;case&quot;shape&quot;:r=r.toLowerCase();break;default:0===t.indexOf(&quot;on&quot;)&amp;&amp;r&amp;&amp;(r=(&quot;&quot;+r).replace(/^function\s+\w+\(\)\s+\{\s+(.*)\s+\}$/,&quot;$1&quot;))}return r!==o&amp;&amp;null!==r&amp;&amp;&quot;&quot;!==r?&quot;&quot;+r:n},getPos:function(e,t){var n=this,r=0,i=0,o,a=n.doc,s;if(e=n.get(e),t=t||a.body,e){if(t===a.body&amp;&amp;e.getBoundingClientRect)return s=e.getBoundingClientRect(),t=n.boxModel?a.documentElement:a.body,r=s.left+(a.documentElement.scrollLeft||a.body.scrollLeft)-t.clientLeft,i=s.top+(a.documentElement.scrollTop||a.body.scrollTop)-t.clientTop,{x:r,y:i};for(o=e;o&amp;&amp;o!=t&amp;&amp;o.nodeType;)r+=o.offsetLeft||0,i+=o.offsetTop||0,o=o.offsetParent;for(o=e.parentNode;o&amp;&amp;o!=t&amp;&amp;o.nodeType;)r-=o.scrollLeft||0,i-=o.scrollTop||0,o=o.parentNode}return{x:r,y:i}},parseStyle:function(e){return this.styles.parse(e)},serializeStyle:function(e,t){return this.styles.serialize(e,t)},addStyle:function(e){var t=this,n=t.doc,r,i;if(t!==u.DOM&amp;&amp;n===document){var o=u.DOM.addedStyles;if(o=o||[],o[e])return;o[e]=!0,u.DOM.addedStyles=o}i=n.getElementById(&quot;mceDefaultStyles&quot;),i||(i=n.createElement(&quot;style&quot;),i.id=&quot;mceDefaultStyles&quot;,i.type=&quot;text/css&quot;,r=n.getElementsByTagName(&quot;head&quot;)[0],r.firstChild?r.insertBefore(i,r.firstChild):r.appendChild(i)),i.styleSheet?i.styleSheet.cssText+=e:i.appendChild(n.createTextNode(e))},loadCSS:function(e){var t=this,n=t.doc,r;return t!==u.DOM&amp;&amp;n===document?void u.DOM.loadCSS(e):(e||(e=&quot;&quot;),r=n.getElementsByTagName(&quot;head&quot;)[0],void d(e.split(&quot;,&quot;),function(e){var i;t.files[e]||(t.files[e]=!0,i=t.create(&quot;link&quot;,{rel:&quot;stylesheet&quot;,href:e}),v&amp;&amp;n.documentMode&amp;&amp;n.recalc&amp;&amp;(i.onload=function(){n.recalc&amp;&amp;n.recalc(),i.onload=null}),r.appendChild(i))}))},addClass:function(e,t){return this.run(e,function(e){var n;return t?this.hasClass(e,t)?e.className:(n=this.removeClass(e,t),e.className=n=(&quot;&quot;!==n?n+&quot; &quot;:&quot;&quot;)+t,n):0})},removeClass:function(e,t){var n=this,r;return n.run(e,function(e){var i;return n.hasClass(e,t)?(r||(r=new RegExp(&quot;(^|\\s+)&quot;+t+&quot;(\\s+|$)&quot;,&quot;g&quot;)),i=e.className.replace(r,&quot; &quot;),i=h(&quot; &quot;!=i?i:&quot;&quot;),e.className=i,i||(e.removeAttribute(&quot;class&quot;),e.removeAttribute(&quot;className&quot;)),i):e.className})},hasClass:function(e,t){return e=this.get(e),e&amp;&amp;t?-1!==(&quot; &quot;+e.className+&quot; &quot;).indexOf(&quot; &quot;+t+&quot; &quot;):!1},toggleClass:function(e,n,r){r=r===t?!this.hasClass(e,n):r,this.hasClass(e,n)!==r&amp;&amp;(r?this.addClass(e,n):this.removeClass(e,n))},show:function(e){return this.setStyle(e,&quot;display&quot;,&quot;block&quot;)},hide:function(e){return this.setStyle(e,&quot;display&quot;,&quot;none&quot;)},isHidden:function(e){return e=this.get(e),!e||&quot;none&quot;==e.style.display||&quot;none&quot;==this.getStyle(e,&quot;display&quot;)},uniqueId:function(e){return(e?e:&quot;mce_&quot;)+this.counter++},setHTML:function(e,t){var n=this;return n.run(e,function(e){if(v){for(;e.firstChild;)e.removeChild(e.firstChild);try{e.innerHTML=&quot;&lt;br /&gt;&quot;+t,e.removeChild(e.firstChild)}catch(r){var i=n.create(&quot;div&quot;);i.innerHTML=&quot;&lt;br /&gt;&quot;+t,d(p(i.childNodes),function(t,n){n&amp;&amp;e.canHaveHTML&amp;&amp;e.appendChild(t)})}}else e.innerHTML=t;return t})},getOuterHTML:function(e){var t,n=this;return(e=n.get(e))?1===e.nodeType&amp;&amp;n.hasOuterHTML?e.outerHTML:(t=(e.ownerDocument||n.doc).createElement(&quot;body&quot;),t.appendChild(e.cloneNode(!0)),t.innerHTML):null},setOuterHTML:function(e,t,n){var r=this;return r.run(e,function(e){function i(){var i,o;for(o=n.createElement(&quot;body&quot;),o.innerHTML=t,i=o.lastChild;i;)r.insertAfter(i.cloneNode(!0),e),i=i.previousSibling;r.remove(e)}if(1==e.nodeType)if(n=n||e.ownerDocument||r.doc,v)try{1==e.nodeType&amp;&amp;r.hasOuterHTML?e.outerHTML=t:i()}catch(o){i()}else i()})},decode:a.decode,encode:a.encodeAllRaw,insertAfter:function(e,t){return t=this.get(t),this.run(e,function(e){var n,r;return n=t.parentNode,r=t.nextSibling,r?n.insertBefore(e,r):n.appendChild(e),e})},replace:function(e,t,n){var r=this;return r.run(t,function(t){return f(t,&quot;array&quot;)&amp;&amp;(e=e.cloneNode(!0)),n&amp;&amp;d(p(t.childNodes),function(t){e.appendChild(t)}),t.parentNode.replaceChild(e,t)})},rename:function(e,t){var n=this,r;return e.nodeName!=t.toUpperCase()&amp;&amp;(r=n.create(t),d(n.getAttribs(e),function(t){n.setAttrib(r,t.nodeName,n.getAttrib(e,t.nodeName))}),n.replace(r,e,1)),r||e},findCommonAncestor:function(e,t){for(var n=e,r;n;){for(r=t;r&amp;&amp;n!=r;)r=r.parentNode;if(n==r)break;n=n.parentNode}return!n&amp;&amp;e.ownerDocument?e.ownerDocument.documentElement:n},toHex:function(e){return this.styles.toHex(l.trim(e))},run:function(e,t,n){var r=this,i;return&quot;string&quot;==typeof e&amp;&amp;(e=r.get(e)),e?(n=n||this,e.nodeType||!e.length&amp;&amp;0!==e.length?t.call(n,e):(i=[],d(e,function(e,o){e&amp;&amp;(&quot;string&quot;==typeof e&amp;&amp;(e=r.get(e)),i.push(t.call(n,e,o)))}),i)):!1},getAttribs:function(e){var t;if(e=this.get(e),!e)return[];if(v){if(t=[],&quot;OBJECT&quot;==e.nodeName)return e.attributes;&quot;OPTION&quot;===e.nodeName&amp;&amp;this.getAttrib(e,&quot;selected&quot;)&amp;&amp;t.push({specified:1,nodeName:&quot;selected&quot;});var n=/&lt;\/?[\w:\-]+ ?|=[\&quot;][^\&quot;]+\&quot;|=\&#039;[^\&#039;]+\&#039;|=[\w\-]+|&gt;/gi;return e.cloneNode(!1).outerHTML.replace(n,&quot;&quot;).replace(/[\w:\-]+/gi,function(e){t.push({specified:1,nodeName:e})}),t}return e.attributes},isEmpty:function(e,t){var n=this,r,o,a,s,l,c=0;if(e=e.firstChild){s=new i(e,e.parentNode),t=t||n.schema?n.schema.getNonEmptyElements():null;do{if(a=e.nodeType,1===a){if(e.getAttribute(&quot;data-mce-bogus&quot;))continue;if(l=e.nodeName.toLowerCase(),t&amp;&amp;t[l]){if(&quot;br&quot;===l){c++;continue}return!1}for(o=n.getAttribs(e),r=o.length;r--;)if(l=o[r].nodeName,&quot;name&quot;===l||&quot;data-mce-bookmark&quot;===l)return!1}if(8==a)return!1;if(3===a&amp;&amp;!b.test(e.nodeValue))return!1}while(e=s.next())}return 1&gt;=c},createRng:function(){var e=this.doc;return e.createRange?e.createRange():new o(this)},nodeIndex:function(e,t){var n=0,r,i;if(e)for(r=e.nodeType,e=e.previousSibling;e;e=e.previousSibling)i=e.nodeType,(!t||3!=i||i!=r&amp;&amp;e.nodeValue.length)&amp;&amp;(n++,r=i);return n},split:function(e,t,n){function r(e){function t(e){var t=e.previousSibling&amp;&amp;&quot;SPAN&quot;==e.previousSibling.nodeName,n=e.nextSibling&amp;&amp;&quot;SPAN&quot;==e.nextSibling.nodeName;return t&amp;&amp;n}var n,o=e.childNodes,a=e.nodeType;if(1!=a||&quot;bookmark&quot;!=e.getAttribute(&quot;data-mce-type&quot;)){for(n=o.length-1;n&gt;=0;n--)r(o[n]);if(9!=a){if(3==a&amp;&amp;e.nodeValue.length&gt;0){var s=h(e.nodeValue).length;if(!i.isBlock(e.parentNode)||s&gt;0||0===s&amp;&amp;t(e))return}else if(1==a&amp;&amp;(o=e.childNodes,1==o.length&amp;&amp;o[0]&amp;&amp;1==o[0].nodeType&amp;&amp;&quot;bookmark&quot;==o[0].getAttribute(&quot;data-mce-type&quot;)&amp;&amp;e.parentNode.insertBefore(o[0],e),o.length||/^(br|hr|input|img)$/i.test(e.nodeName)))return;i.remove(e)}return e}}var i=this,o=i.createRng(),a,s,l;return e&amp;&amp;t?(o.setStart(e.parentNode,i.nodeIndex(e)),o.setEnd(t.parentNode,i.nodeIndex(t)),a=o.extractContents(),o=i.createRng(),o.setStart(t.parentNode,i.nodeIndex(t)+1),o.setEnd(e.parentNode,i.nodeIndex(e)+1),s=o.extractContents(),l=e.parentNode,l.insertBefore(r(a),e),n?l.replaceChild(n,t):l.insertBefore(t,e),l.insertBefore(r(s),e),i.remove(e),n||t):void 0},bind:function(e,t,n,r){var i=this;if(l.isArray(e)){for(var o=e.length;o--;)e[o]=i.bind(e[o],t,n,r);return e}return!i.settings.collect||e!==i.doc&amp;&amp;e!==i.win||i.boundEvents.push([e,t,n,r]),i.events.bind(e,t,n,r||i)},unbind:function(e,t,n){var r=this,i;if(l.isArray(e)){for(i=e.length;i--;)e[i]=r.unbind(e[i],t,n);return e}if(r.boundEvents&amp;&amp;(e===r.doc||e===r.win))for(i=r.boundEvents.length;i--;){var o=r.boundEvents[i];e!=o[0]||t&amp;&amp;t!=o[1]||n&amp;&amp;n!=o[2]||this.events.unbind(o[0],o[1],o[2])}return this.events.unbind(e,t,n)},fire:function(e,t,n){return this.events.fire(e,t,n)},getContentEditable:function(e){var t;return e&amp;&amp;1==e.nodeType?(t=e.getAttribute(&quot;data-mce-contenteditable&quot;),t&amp;&amp;&quot;inherit&quot;!==t?t:&quot;inherit&quot;!==e.contentEditable?e.contentEditable:null):null},getContentEditableParent:function(e){for(var t=this.getRoot(),n=null;e&amp;&amp;e!==t&amp;&amp;(n=this.getContentEditable(e),null===n);e=e.parentNode);return n},destroy:function(){var t=this;if(t.boundEvents){for(var n=t.boundEvents.length;n--;){var r=t.boundEvents[n];
this.events.unbind(r[0],r[1],r[2])}t.boundEvents=null}e.setDocument&amp;&amp;e.setDocument(),t.win=t.doc=t.root=t.events=t.frag=null},isChildOf:function(e,t){for(;e;){if(t===e)return!0;e=e.parentNode}return!1},dumpRng:function(e){return&quot;startContainer: &quot;+e.startContainer.nodeName+&quot;, startOffset: &quot;+e.startOffset+&quot;, endContainer: &quot;+e.endContainer.nodeName+&quot;, endOffset: &quot;+e.endOffset},_findSib:function(e,t,n){var r=this,i=t;if(e)for(&quot;string&quot;==typeof i&amp;&amp;(i=function(e){return r.is(e,t)}),e=e[n];e;e=e[n])if(i(e))return e;return null}},u.DOM=new u(document),u}),r(b,[y,p],function(e,t){function n(){function e(e,t){function n(){o.remove(s),a&amp;&amp;(a.onreadystatechange=a.onload=a=null),t()}function i(){&quot;undefined&quot;!=typeof console&amp;&amp;console.log&amp;&amp;console.log(&quot;Failed to load: &quot;+e)}var o=r,a,s;s=o.uniqueId(),a=document.createElement(&quot;script&quot;),a.id=s,a.type=&quot;text/javascript&quot;,a.src=e,&quot;onreadystatechange&quot;in a?a.onreadystatechange=function(){/loaded|complete/.test(a.readyState)&amp;&amp;n()}:a.onload=n,a.onerror=i,(document.getElementsByTagName(&quot;head&quot;)[0]||document.body).appendChild(a)}var t=0,n=1,a=2,s={},l=[],c={},u=[],d=0,f;this.isDone=function(e){return s[e]==a},this.markDone=function(e){s[e]=a},this.add=this.load=function(e,n,r){var i=s[e];i==f&amp;&amp;(l.push(e),s[e]=t),n&amp;&amp;(c[e]||(c[e]=[]),c[e].push({func:n,scope:r||this}))},this.loadQueue=function(e,t){this.loadScripts(l,e,t)},this.loadScripts=function(t,r,l){function p(e){i(c[e],function(e){e.func.call(e.scope)}),c[e]=f}var h;u.push({func:r,scope:l||this}),(h=function(){var r=o(t);t.length=0,i(r,function(t){return s[t]==a?void p(t):void(s[t]!=n&amp;&amp;(s[t]=n,d++,e(t,function(){s[t]=a,d--,p(t),h()})))}),d||(i(u,function(e){e.func.call(e.scope)}),u.length=0)})()}}var r=e.DOM,i=t.each,o=t.grep;return n.ScriptLoader=new n,n}),r(C,[b,p],function(e,n){function r(){var e=this;e.items=[],e.urls={},e.lookup={}}var i=n.each;return r.prototype={get:function(e){return this.lookup[e]?this.lookup[e].instance:t},dependencies:function(e){var t;return this.lookup[e]&amp;&amp;(t=this.lookup[e].dependencies),t||[]},requireLangPack:function(t,n){var i=r.language;if(i&amp;&amp;r.languageLoad!==!1){if(n)if(n=&quot;,&quot;+n+&quot;,&quot;,-1!=n.indexOf(&quot;,&quot;+i.substr(0,2)+&quot;,&quot;))i=i.substr(0,2);else if(-1==n.indexOf(&quot;,&quot;+i+&quot;,&quot;))return;e.ScriptLoader.add(this.urls[t]+&quot;/langs/&quot;+i+&quot;.js&quot;)}},add:function(e,t,n){return this.items.push(t),this.lookup[e]={instance:t,dependencies:n},t},createUrl:function(e,t){return&quot;object&quot;==typeof t?t:{prefix:e.prefix,resource:t,suffix:e.suffix}},addComponents:function(t,n){var r=this.urls[t];i(n,function(t){e.ScriptLoader.add(r+&quot;/&quot;+t)})},load:function(n,o,a,s){function l(){var r=c.dependencies(n);i(r,function(e){var n=c.createUrl(o,e);c.load(n.resource,n,t,t)}),a&amp;&amp;a.call(s?s:e)}var c=this,u=o;c.urls[n]||(&quot;object&quot;==typeof o&amp;&amp;(u=o.prefix+o.resource+o.suffix),0!==u.indexOf(&quot;/&quot;)&amp;&amp;-1==u.indexOf(&quot;://&quot;)&amp;&amp;(u=r.baseURL+&quot;/&quot;+u),c.urls[n]=u.substring(0,u.lastIndexOf(&quot;/&quot;)),c.lookup[n]?l():e.ScriptLoader.add(u,l,s))}},r.PluginManager=new r,r.ThemeManager=new r,r}),r(x,[],function(){function e(e,t,n){var r,i,o=n?&quot;lastChild&quot;:&quot;firstChild&quot;,a=n?&quot;prev&quot;:&quot;next&quot;;if(e[o])return e[o];if(e!==t){if(r=e[a])return r;for(i=e.parent;i&amp;&amp;i!==t;i=i.parent)if(r=i[a])return r}}function t(e,t){this.name=e,this.type=t,1===t&amp;&amp;(this.attributes=[],this.attributes.map={})}var n=/^[ \t\r\n]*$/,r={&quot;#text&quot;:3,&quot;#comment&quot;:8,&quot;#cdata&quot;:4,&quot;#pi&quot;:7,&quot;#doctype&quot;:10,&quot;#document-fragment&quot;:11};return t.prototype={replace:function(e){var t=this;return e.parent&amp;&amp;e.remove(),t.insert(e,t),t.remove(),t},attr:function(e,t){var n=this,r,i,o;if(&quot;string&quot;!=typeof e){for(i in e)n.attr(i,e[i]);return n}if(r=n.attributes){if(t!==o){if(null===t){if(e in r.map)for(delete r.map[e],i=r.length;i--;)if(r[i].name===e)return r=r.splice(i,1),n;return n}if(e in r.map){for(i=r.length;i--;)if(r[i].name===e){r[i].value=t;break}}else r.push({name:e,value:t});return r.map[e]=t,n}return r.map[e]}},clone:function(){var e=this,n=new t(e.name,e.type),r,i,o,a,s;if(o=e.attributes){for(s=[],s.map={},r=0,i=o.length;i&gt;r;r++)a=o[r],&quot;id&quot;!==a.name&amp;&amp;(s[s.length]={name:a.name,value:a.value},s.map[a.name]=a.value);n.attributes=s}return n.value=e.value,n.shortEnded=e.shortEnded,n},wrap:function(e){var t=this;return t.parent.insert(e,t),e.append(t),t},unwrap:function(){var e=this,t,n;for(t=e.firstChild;t;)n=t.next,e.insert(t,e,!0),t=n;e.remove()},remove:function(){var e=this,t=e.parent,n=e.next,r=e.prev;return t&amp;&amp;(t.firstChild===e?(t.firstChild=n,n&amp;&amp;(n.prev=null)):r.next=n,t.lastChild===e?(t.lastChild=r,r&amp;&amp;(r.next=null)):n.prev=r,e.parent=e.next=e.prev=null),e},append:function(e){var t=this,n;return e.parent&amp;&amp;e.remove(),n=t.lastChild,n?(n.next=e,e.prev=n,t.lastChild=e):t.lastChild=t.firstChild=e,e.parent=t,e},insert:function(e,t,n){var r;return e.parent&amp;&amp;e.remove(),r=t.parent||this,n?(t===r.firstChild?r.firstChild=e:t.prev.next=e,e.prev=t.prev,e.next=t,t.prev=e):(t===r.lastChild?r.lastChild=e:t.next.prev=e,e.next=t.next,e.prev=t,t.next=e),e.parent=r,e},getAll:function(t){var n=this,r,i=[];for(r=n.firstChild;r;r=e(r,n))r.name===t&amp;&amp;i.push(r);return i},empty:function(){var t=this,n,r,i;if(t.firstChild){for(n=[],i=t.firstChild;i;i=e(i,t))n.push(i);for(r=n.length;r--;)i=n[r],i.parent=i.firstChild=i.lastChild=i.next=i.prev=null}return t.firstChild=t.lastChild=null,t},isEmpty:function(t){var r=this,i=r.firstChild,o,a;if(i)do{if(1===i.type){if(i.attributes.map[&quot;data-mce-bogus&quot;])continue;if(t[i.name])return!1;for(o=i.attributes.length;o--;)if(a=i.attributes[o].name,&quot;name&quot;===a||0===a.indexOf(&quot;data-mce-&quot;))return!1}if(8===i.type)return!1;if(3===i.type&amp;&amp;!n.test(i.value))return!1}while(i=e(i,r));return!0},walk:function(t){return e(this,null,t)}},t.create=function(e,n){var i,o;if(i=new t(e,r[e]||1),n)for(o in n)i.attr(o,n[o]);return i},t}),r(w,[p],function(e){function t(e,t){return e?e.split(t||&quot; &quot;):[]}function n(e){function n(e,n,r){function i(e){var t={},n,r;for(n=0,r=e.length;r&gt;n;n++)t[e[n]]={};return t}var o,l,c,u=arguments;for(r=r||[],n=n||&quot;&quot;,&quot;string&quot;==typeof r&amp;&amp;(r=t(r)),l=3;l&lt;u.length;l++)&quot;string&quot;==typeof u[l]&amp;&amp;(u[l]=t(u[l])),r.push.apply(r,u[l]);for(e=t(e),o=e.length;o--;)c=[].concat(s,t(n)),a[e[o]]={attributes:i(c),attributesOrder:c,children:i(r)}}function i(e,n){var r,i,o,s;for(e=t(e),r=e.length,n=t(n);r--;)for(i=a[e[r]],o=0,s=n.length;s&gt;o;o++)i.attributes[n[o]]={},i.attributesOrder.push(n[o])}var a={},s,l,c,u,d,f;return r[e]?r[e]:(s=t(&quot;id accesskey class dir lang style tabindex title&quot;),l=t(&quot;address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul&quot;),c=t(&quot;a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment&quot;),&quot;html4&quot;!=e&amp;&amp;(s.push.apply(s,t(&quot;contenteditable contextmenu draggable dropzone hidden spellcheck translate&quot;)),l.push.apply(l,t(&quot;article aside details dialog figure header footer hgroup section nav&quot;)),c.push.apply(c,t(&quot;audio canvas command datalist mark meter output progress time wbr video ruby bdi keygen&quot;))),&quot;html5-strict&quot;!=e&amp;&amp;(s.push(&quot;xml:lang&quot;),f=t(&quot;acronym applet basefont big font strike tt&quot;),c.push.apply(c,f),o(f,function(e){n(e,&quot;&quot;,c)}),d=t(&quot;center dir isindex noframes&quot;),l.push.apply(l,d),u=[].concat(l,c),o(d,function(e){n(e,&quot;&quot;,u)})),u=u||[].concat(l,c),n(&quot;html&quot;,&quot;manifest&quot;,&quot;head body&quot;),n(&quot;head&quot;,&quot;&quot;,&quot;base command link meta noscript script style title&quot;),n(&quot;title hr noscript br&quot;),n(&quot;base&quot;,&quot;href target&quot;),n(&quot;link&quot;,&quot;href rel media hreflang type sizes hreflang&quot;),n(&quot;meta&quot;,&quot;name http-equiv content charset&quot;),n(&quot;style&quot;,&quot;media type scoped&quot;),n(&quot;script&quot;,&quot;src async defer type charset&quot;),n(&quot;body&quot;,&quot;onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload&quot;,u),n(&quot;address dt dd div caption&quot;,&quot;&quot;,u),n(&quot;h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn&quot;,&quot;&quot;,c),n(&quot;blockquote&quot;,&quot;cite&quot;,u),n(&quot;ol&quot;,&quot;reversed start type&quot;,&quot;li&quot;),n(&quot;ul&quot;,&quot;&quot;,&quot;li&quot;),n(&quot;li&quot;,&quot;value&quot;,u),n(&quot;dl&quot;,&quot;&quot;,&quot;dt dd&quot;),n(&quot;a&quot;,&quot;href target rel media hreflang type&quot;,c),n(&quot;q&quot;,&quot;cite&quot;,c),n(&quot;ins del&quot;,&quot;cite datetime&quot;,u),n(&quot;img&quot;,&quot;src alt usemap ismap width height&quot;),n(&quot;iframe&quot;,&quot;src name width height&quot;,u),n(&quot;embed&quot;,&quot;src type width height&quot;),n(&quot;object&quot;,&quot;data type typemustmatch name usemap form width height&quot;,u,&quot;param&quot;),n(&quot;param&quot;,&quot;name value&quot;),n(&quot;map&quot;,&quot;name&quot;,u,&quot;area&quot;),n(&quot;area&quot;,&quot;alt coords shape href target rel media hreflang type&quot;),n(&quot;table&quot;,&quot;border&quot;,&quot;caption colgroup thead tfoot tbody tr&quot;+(&quot;html4&quot;==e?&quot; col&quot;:&quot;&quot;)),n(&quot;colgroup&quot;,&quot;span&quot;,&quot;col&quot;),n(&quot;col&quot;,&quot;span&quot;),n(&quot;tbody thead tfoot&quot;,&quot;&quot;,&quot;tr&quot;),n(&quot;tr&quot;,&quot;&quot;,&quot;td th&quot;),n(&quot;td&quot;,&quot;colspan rowspan headers&quot;,u),n(&quot;th&quot;,&quot;colspan rowspan headers scope abbr&quot;,u),n(&quot;form&quot;,&quot;accept-charset action autocomplete enctype method name novalidate target&quot;,u),n(&quot;fieldset&quot;,&quot;disabled form name&quot;,u,&quot;legend&quot;),n(&quot;label&quot;,&quot;form for&quot;,c),n(&quot;input&quot;,&quot;accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width&quot;),n(&quot;button&quot;,&quot;disabled form formaction formenctype formmethod formnovalidate formtarget name type value&quot;,&quot;html4&quot;==e?u:c),n(&quot;select&quot;,&quot;disabled form multiple name required size&quot;,&quot;option optgroup&quot;),n(&quot;optgroup&quot;,&quot;disabled label&quot;,&quot;option&quot;),n(&quot;option&quot;,&quot;disabled label selected value&quot;),n(&quot;textarea&quot;,&quot;cols dirname disabled form maxlength name readonly required rows wrap&quot;),n(&quot;menu&quot;,&quot;type label&quot;,u,&quot;li&quot;),n(&quot;noscript&quot;,&quot;&quot;,u),&quot;html4&quot;!=e&amp;&amp;(n(&quot;wbr&quot;),n(&quot;ruby&quot;,&quot;&quot;,c,&quot;rt rp&quot;),n(&quot;figcaption&quot;,&quot;&quot;,u),n(&quot;mark rt rp summary bdi&quot;,&quot;&quot;,c),n(&quot;canvas&quot;,&quot;width height&quot;,u),n(&quot;video&quot;,&quot;src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered&quot;,u,&quot;track source&quot;),n(&quot;audio&quot;,&quot;src crossorigin preload autoplay mediagroup loop muted controls buffered volume&quot;,u,&quot;track source&quot;),n(&quot;source&quot;,&quot;src type media&quot;),n(&quot;track&quot;,&quot;kind src srclang label default&quot;),n(&quot;datalist&quot;,&quot;&quot;,c,&quot;option&quot;),n(&quot;article section nav aside header footer&quot;,&quot;&quot;,u),n(&quot;hgroup&quot;,&quot;&quot;,&quot;h1 h2 h3 h4 h5 h6&quot;),n(&quot;figure&quot;,&quot;&quot;,u,&quot;figcaption&quot;),n(&quot;time&quot;,&quot;datetime&quot;,c),n(&quot;dialog&quot;,&quot;open&quot;,u),n(&quot;command&quot;,&quot;type label icon disabled checked radiogroup command&quot;),n(&quot;output&quot;,&quot;for form name&quot;,c),n(&quot;progress&quot;,&quot;value max&quot;,c),n(&quot;meter&quot;,&quot;value min max low high optimum&quot;,c),n(&quot;details&quot;,&quot;open&quot;,u,&quot;summary&quot;),n(&quot;keygen&quot;,&quot;autofocus challenge disabled form keytype name&quot;)),&quot;html5-strict&quot;!=e&amp;&amp;(i(&quot;script&quot;,&quot;language xml:space&quot;),i(&quot;style&quot;,&quot;xml:space&quot;),i(&quot;object&quot;,&quot;declare classid codebase codetype archive standby align border hspace vspace&quot;),i(&quot;param&quot;,&quot;valuetype type&quot;),i(&quot;a&quot;,&quot;charset name rev shape coords&quot;),i(&quot;br&quot;,&quot;clear&quot;),i(&quot;applet&quot;,&quot;codebase archive code object alt name width height align hspace vspace&quot;),i(&quot;img&quot;,&quot;name longdesc align border hspace vspace&quot;),i(&quot;iframe&quot;,&quot;longdesc frameborder marginwidth marginheight scrolling align&quot;),i(&quot;font basefont&quot;,&quot;size color face&quot;),i(&quot;input&quot;,&quot;usemap align&quot;),i(&quot;select&quot;,&quot;onchange&quot;),i(&quot;textarea&quot;),i(&quot;h1 h2 h3 h4 h5 h6 div p legend caption&quot;,&quot;align&quot;),i(&quot;ul&quot;,&quot;type compact&quot;),i(&quot;li&quot;,&quot;type&quot;),i(&quot;ol dl menu dir&quot;,&quot;compact&quot;),i(&quot;pre&quot;,&quot;width xml:space&quot;),i(&quot;hr&quot;,&quot;align noshade size width&quot;),i(&quot;isindex&quot;,&quot;prompt&quot;),i(&quot;table&quot;,&quot;summary width frame rules cellspacing cellpadding align bgcolor&quot;),i(&quot;col&quot;,&quot;width align char charoff valign&quot;),i(&quot;colgroup&quot;,&quot;width align char charoff valign&quot;),i(&quot;thead&quot;,&quot;align char charoff valign&quot;),i(&quot;tr&quot;,&quot;align char charoff valign bgcolor&quot;),i(&quot;th&quot;,&quot;axis align char charoff valign nowrap bgcolor width height&quot;),i(&quot;form&quot;,&quot;accept&quot;),i(&quot;td&quot;,&quot;abbr axis scope align char charoff valign nowrap bgcolor width height&quot;),i(&quot;tfoot&quot;,&quot;align char charoff valign&quot;),i(&quot;tbody&quot;,&quot;align char charoff valign&quot;),i(&quot;area&quot;,&quot;nohref&quot;),i(&quot;body&quot;,&quot;background bgcolor text link vlink alink&quot;)),&quot;html4&quot;!=e&amp;&amp;(i(&quot;input button select textarea&quot;,&quot;autofocus&quot;),i(&quot;input textarea&quot;,&quot;placeholder&quot;),i(&quot;a&quot;,&quot;download&quot;),i(&quot;link script img&quot;,&quot;crossorigin&quot;),i(&quot;iframe&quot;,&quot;sandbox seamless allowfullscreen&quot;)),o(t(&quot;a form meter progress dfn&quot;),function(e){a[e]&amp;&amp;delete a[e].children[e]}),delete a.caption.children.table,r[e]=a,a)}var r={},i=e.makeMap,o=e.each,a=e.extend,s=e.explode,l=e.inArray;return function(e){function c(t,n,o){var s=e[t];return s?s=i(s,/[, ]/,i(s.toUpperCase(),/[, ]/)):(s=r[t],s||(s=i(n,&quot; &quot;,i(n.toUpperCase(),&quot; &quot;)),s=a(s,o),r[t]=s)),s}function u(e){return new RegExp(&quot;^&quot;+e.replace(/([?+*])/g,&quot;.$1&quot;)+&quot;$&quot;)}function d(e){var n,r,o,a,s,c,d,f,p,h,m,g,y,C,x,w,_,N,E,S=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)\])?$/,k=/^([!\-])?(\w+::\w+|[^=:&lt;]+)?(?:([=:&lt;])(.*))?$/,T=/[*?+]/;if(e)for(e=t(e,&quot;,&quot;),v[&quot;@&quot;]&amp;&amp;(w=v[&quot;@&quot;].attributes,_=v[&quot;@&quot;].attributesOrder),n=0,r=e.length;r&gt;n;n++)if(s=S.exec(e[n])){if(C=s[1],p=s[2],x=s[3],f=s[5],g={},y=[],c={attributes:g,attributesOrder:y},&quot;#&quot;===C&amp;&amp;(c.paddEmpty=!0),&quot;-&quot;===C&amp;&amp;(c.removeEmpty=!0),&quot;!&quot;===s[4]&amp;&amp;(c.removeEmptyAttrs=!0),w){for(N in w)g[N]=w[N];y.push.apply(y,_)}if(f)for(f=t(f,&quot;|&quot;),o=0,a=f.length;a&gt;o;o++)if(s=k.exec(f[o])){if(d={},m=s[1],h=s[2].replace(/::/g,&quot;:&quot;),C=s[3],E=s[4],&quot;!&quot;===m&amp;&amp;(c.attributesRequired=c.attributesRequired||[],c.attributesRequired.push(h),d.required=!0),&quot;-&quot;===m){delete g[h],y.splice(l(y,h),1);continue}C&amp;&amp;(&quot;=&quot;===C&amp;&amp;(c.attributesDefault=c.attributesDefault||[],c.attributesDefault.push({name:h,value:E}),d.defaultValue=E),&quot;:&quot;===C&amp;&amp;(c.attributesForced=c.attributesForced||[],c.attributesForced.push({name:h,value:E}),d.forcedValue=E),&quot;&lt;&quot;===C&amp;&amp;(d.validValues=i(E,&quot;?&quot;))),T.test(h)?(c.attributePatterns=c.attributePatterns||[],d.pattern=u(h),c.attributePatterns.push(d)):(g[h]||y.push(h),g[h]=d)}w||&quot;@&quot;!=p||(w=g,_=y),x&amp;&amp;(c.outputName=p,v[x]=c),T.test(p)?(c.pattern=u(p),b.push(c)):v[p]=c}}function f(e){v={},b=[],d(e),o(x,function(e,t){y[t]=e.children})}function p(e){var n=/^(~)?(.+)$/;e&amp;&amp;(r.text_block_elements=r.block_elements=null,o(t(e,&quot;,&quot;),function(e){var t=n.exec(e),r=&quot;~&quot;===t[1],i=r?&quot;span&quot;:&quot;div&quot;,s=t[2];if(y[s]=y[i],R[s]=i,r||(S[s.toUpperCase()]={},S[s]={}),!v[s]){var l=v[i];l=a({},l),delete l.removeEmptyAttrs,delete l.removeEmpty,v[s]=l}o(y,function(e,t){e[i]&amp;&amp;(y[t]=e=a({},y[t]),e[s]=e[i])})}))}function h(e){var n=/^([+\-]?)(\w+)\[([^\]]+)\]$/;e&amp;&amp;o(t(e,&quot;,&quot;),function(e){var r=n.exec(e),i,s;r&amp;&amp;(s=r[1],i=s?y[r[2]]:y[r[2]]={&quot;#comment&quot;:{}},i=y[r[2]],o(t(r[3],&quot;|&quot;),function(e){&quot;-&quot;===s?(y[r[2]]=i=a({},y[r[2]]),delete i[e]):i[e]={}}))})}function m(e){var t=v[e],n;if(t)return t;for(n=b.length;n--;)if(t=b[n],t.pattern.test(e))return t}var g=this,v={},y={},b=[],C,x,w,_,N,E,S,k,T,R={},A={};e=e||{},x=n(e.schema),e.verify_html===!1&amp;&amp;(e.valid_elements=&quot;*[*]&quot;),e.valid_styles&amp;&amp;(C={},o(e.valid_styles,function(e,t){C[t]=s(e)})),w=c(&quot;whitespace_elements&quot;,&quot;pre script noscript style textarea video audio iframe object&quot;),_=c(&quot;self_closing_elements&quot;,&quot;colgroup dd dt li option p td tfoot th thead tr&quot;),N=c(&quot;short_ended_elements&quot;,&quot;area base basefont br col frame hr img input isindex link meta param embed source wbr track&quot;),E=c(&quot;boolean_attributes&quot;,&quot;checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls&quot;),k=c(&quot;non_empty_elements&quot;,&quot;td th iframe video audio object script&quot;,N),T=c(&quot;text_block_elements&quot;,&quot;h1 h2 h3 h4 h5 h6 p div address pre form blockquote center dir fieldset header footer article section hgroup aside nav figure&quot;),S=c(&quot;block_elements&quot;,&quot;hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup&quot;,T),o((e.special||&quot;script noscript style textarea&quot;).split(&quot; &quot;),function(e){A[e]=new RegExp(&quot;&lt;/&quot;+e+&quot;[^&gt;]*&gt;&quot;,&quot;gi&quot;)}),e.valid_elements?f(e.valid_elements):(o(x,function(e,t){v[t]={attributes:e.attributes,attributesOrder:e.attributesOrder},y[t]=e.children}),&quot;html5&quot;!=e.schema&amp;&amp;o(t(&quot;strong/b em/i&quot;),function(e){e=t(e,&quot;/&quot;),v[e[1]].outputName=e[0]}),v.img.attributesDefault=[{name:&quot;alt&quot;,value:&quot;&quot;}],o(t(&quot;ol ul sub sup blockquote span font a table tbody tr strong em b i&quot;),function(e){v[e]&amp;&amp;(v[e].removeEmpty=!0)}),o(t(&quot;p h1 h2 h3 h4 h5 h6 th td pre div address caption&quot;),function(e){v[e].paddEmpty=!0}),o(t(&quot;span&quot;),function(e){v[e].removeEmptyAttrs=!0})),p(e.custom_elements),h(e.valid_children),d(e.extended_valid_elements),h(&quot;+ol[ul|ol],+ul[ul|ol]&quot;),e.invalid_elements&amp;&amp;o(s(e.invalid_elements),function(e){v[e]&amp;&amp;delete v[e]}),m(&quot;span&quot;)||d(&quot;span[!data-mce-type|*]&quot;),g.children=y,g.styles=C,g.getBoolAttrs=function(){return E},g.getBlockElements=function(){return S},g.getTextBlockElements=function(){return T},g.getShortEndedElements=function(){return N},g.getSelfClosingElements=function(){return _},g.getNonEmptyElements=function(){return k},g.getWhiteSpaceElements=function(){return w},g.getSpecialElements=function(){return A},g.isValidChild=function(e,t){var n=y[e];return!(!n||!n[t])},g.isValid=function(e,t){var n,r,i=m(e);if(i){if(!t)return!0;if(i.attributes[t])return!0;if(n=i.attributePatterns)for(r=n.length;r--;)if(n[r].pattern.test(e))return!0}return!1},g.getElementRule=m,g.getCustomElements=function(){return R},g.addValidElements=d,g.setValidElements=f,g.addCustomElements=p,g.addValidChildren=h,g.elements=v}}),r(_,[w,m,p],function(e,t,n){var r=n.each;return function(i,o){function a(){}var s=this;i=i||{},s.schema=o=o||new e,i.fix_self_closing!==!1&amp;&amp;(i.fix_self_closing=!0),r(&quot;comment cdata text start end pi doctype&quot;.split(&quot; &quot;),function(e){e&amp;&amp;(s[e]=i[e]||a)}),s.parse=function(e){function r(e){var t,n;for(t=f.length;t--&amp;&amp;f[t].name!==e;);if(t&gt;=0){for(n=f.length-1;n&gt;=t;n--)e=f[n],e.valid&amp;&amp;s.end(e.name);f.length=t}}function a(e,t,n,r,o){var a,s,l=/[\s\u0000-\u001F]+/g;if(t=t.toLowerCase(),n=t in C?t:F(n||r||o||&quot;&quot;),w&amp;&amp;!v&amp;&amp;0!==t.indexOf(&quot;data-&quot;)){if(a=k[t],!a&amp;&amp;T){for(s=T.length;s--&amp;&amp;(a=T[s],!a.pattern.test(t)););-1===s&amp;&amp;(a=null)}if(!a)return;if(a.validValues&amp;&amp;!(n in a.validValues))return}if(W[t]&amp;&amp;!i.allow_script_urls){var c=n.replace(l,&quot;&quot;);try{c=decodeURIComponent(c)}catch(u){c=unescape(c)}if(V.test(c))return;if(!i.allow_html_data_urls&amp;&amp;U.test(c)&amp;&amp;!/^data:image\//i.test(c))return}p.map[t]=n,p.push({name:t,value:n})}var s=this,l,c=0,u,d,f=[],p,h,m,g,v,y,b,C,x,w,_,N,E,S,k,T,R,A,B,D,L,M,H,P,O,I=0,F=t.decode,z,W=n.makeMap(&quot;src,href,data,background,formaction,poster&quot;),V=/((java|vb)script|mhtml):/i,U=/^data:/i;for(M=new RegExp(&quot;&lt;(?:(?:!--([\\w\\W]*?)--&gt;)|(?:!\\[CDATA\\[([\\w\\W]*?)\\]\\]&gt;)|(?:!DOCTYPE([\\w\\W]*?)&gt;)|(?:\\?([^\\s\\/&lt;&gt;]+) ?([\\w\\W]*?)[?/]&gt;)|(?:\\/([^&gt;]+)&gt;)|(?:([A-Za-z0-9\\-\\:\\.]+)((?:\\s+[^\&quot;&#039;&gt;]+(?:(?:\&quot;[^\&quot;]*\&quot;)|(?:&#039;[^&#039;]*&#039;)|[^&gt;]*))*|\\/|\\s+)&gt;))&quot;,&quot;g&quot;),H=/([\w:\-]+)(?:\s*=\s*(?:(?:\&quot;((?:[^\&quot;])*)\&quot;)|(?:\&#039;((?:[^\&#039;])*)\&#039;)|([^&gt;\s]+)))?/g,b=o.getShortEndedElements(),L=i.self_closing_elements||o.getSelfClosingElements(),C=o.getBoolAttrs(),w=i.validate,y=i.remove_internals,z=i.fix_self_closing,P=o.getSpecialElements();l=M.exec(e);){if(c&lt;l.index&amp;&amp;s.text(F(e.substr(c,l.index-c))),u=l[6])u=u.toLowerCase(),&quot;:&quot;===u.charAt(0)&amp;&amp;(u=u.substr(1)),r(u);else if(u=l[7]){if(u=u.toLowerCase(),&quot;:&quot;===u.charAt(0)&amp;&amp;(u=u.substr(1)),x=u in b,z&amp;&amp;L[u]&amp;&amp;f.length&gt;0&amp;&amp;f[f.length-1].name===u&amp;&amp;r(u),!w||(_=o.getElementRule(u))){if(N=!0,w&amp;&amp;(k=_.attributes,T=_.attributePatterns),(S=l[8])?(v=-1!==S.indexOf(&quot;data-mce-type&quot;),v&amp;&amp;y&amp;&amp;(N=!1),p=[],p.map={},S.replace(H,a)):(p=[],p.map={}),w&amp;&amp;!v){if(R=_.attributesRequired,A=_.attributesDefault,B=_.attributesForced,D=_.removeEmptyAttrs,D&amp;&amp;!p.length&amp;&amp;(N=!1),B)for(h=B.length;h--;)E=B[h],g=E.name,O=E.value,&quot;{$uid}&quot;===O&amp;&amp;(O=&quot;mce_&quot;+I++),p.map[g]=O,p.push({name:g,value:O});if(A)for(h=A.length;h--;)E=A[h],g=E.name,g in p.map||(O=E.value,&quot;{$uid}&quot;===O&amp;&amp;(O=&quot;mce_&quot;+I++),p.map[g]=O,p.push({name:g,value:O}));if(R){for(h=R.length;h--&amp;&amp;!(R[h]in p.map););-1===h&amp;&amp;(N=!1)}p.map[&quot;data-mce-bogus&quot;]&amp;&amp;(N=!1)}N&amp;&amp;s.start(u,p,x)}else N=!1;if(d=P[u]){d.lastIndex=c=l.index+l[0].length,(l=d.exec(e))?(N&amp;&amp;(m=e.substr(c,l.index-c)),c=l.index+l[0].length):(m=e.substr(c),c=e.length),N&amp;&amp;(m.length&gt;0&amp;&amp;s.text(m,!0),s.end(u)),M.lastIndex=c;continue}x||(S&amp;&amp;S.indexOf(&quot;/&quot;)==S.length-1?N&amp;&amp;s.end(u):f.push({name:u,valid:N}))}else(u=l[1])?(&quot;&gt;&quot;===u.charAt(0)&amp;&amp;(u=&quot; &quot;+u),i.allow_conditional_comments||&quot;[if&quot;!==u.substr(0,3)||(u=&quot; &quot;+u),s.comment(u)):(u=l[2])?s.cdata(u):(u=l[3])?s.doctype(u):(u=l[4])&amp;&amp;s.pi(u,l[5]);c=l.index+l[0].length}for(c&lt;e.length&amp;&amp;s.text(F(e.substr(c))),h=f.length-1;h&gt;=0;h--)u=f[h],u.valid&amp;&amp;s.end(u.name)}}}),r(N,[x,w,_,p],function(e,t,n,r){var i=r.makeMap,o=r.each,a=r.explode,s=r.extend;return function(r,l){function c(t){var n,r,o,a,s,c,d,f,p,h,m,g,v,y;for(m=i(&quot;tr,td,th,tbody,thead,tfoot,table&quot;),h=l.getNonEmptyElements(),g=l.getTextBlockElements(),n=0;n&lt;t.length;n++)if(r=t[n],r.parent&amp;&amp;!r.fixed)if(g[r.name]&amp;&amp;&quot;li&quot;==r.parent.name){for(v=r.next;v&amp;&amp;g[v.name];)v.name=&quot;li&quot;,v.fixed=!0,r.parent.insert(v,r.parent),v=v.next;r.unwrap(r)}else{for(a=[r],o=r.parent;o&amp;&amp;!l.isValidChild(o.name,r.name)&amp;&amp;!m[o.name];o=o.parent)a.push(o);if(o&amp;&amp;a.length&gt;1){for(a.reverse(),s=c=u.filterNode(a[0].clone()),p=0;p&lt;a.length-1;p++){for(l.isValidChild(c.name,a[p].name)?(d=u.filterNode(a[p].clone()),c.append(d)):d=c,f=a[p].firstChild;f&amp;&amp;f!=a[p+1];)y=f.next,d.append(f),f=y;c=d}s.isEmpty(h)?o.insert(r,a[0],!0):(o.insert(s,a[0],!0),o.insert(r,s)),o=a[0],(o.isEmpty(h)||o.firstChild===o.lastChild&amp;&amp;&quot;br&quot;===o.firstChild.name)&amp;&amp;o.empty().remove()}else if(r.parent){if(&quot;li&quot;===r.name){if(v=r.prev,v&amp;&amp;(&quot;ul&quot;===v.name||&quot;ul&quot;===v.name)){v.append(r);continue}if(v=r.next,v&amp;&amp;(&quot;ul&quot;===v.name||&quot;ul&quot;===v.name)){v.insert(r,v.firstChild,!0);continue}r.wrap(u.filterNode(new e(&quot;ul&quot;,1)));continue}l.isValidChild(r.parent.name,&quot;div&quot;)&amp;&amp;l.isValidChild(&quot;div&quot;,r.name)?r.wrap(u.filterNode(new e(&quot;div&quot;,1))):&quot;style&quot;===r.name||&quot;script&quot;===r.name?r.empty().remove():r.unwrap()}}}var u=this,d={},f=[],p={},h={};r=r||{},r.validate=&quot;validate&quot;in r?r.validate:!0,r.root_name=r.root_name||&quot;body&quot;,u.schema=l=l||new t,u.filterNode=function(e){var t,n,r;n in d&amp;&amp;(r=p[n],r?r.push(e):p[n]=[e]),t=f.length;for(;t--;)n=f[t].name,n in e.attributes.map&amp;&amp;(r=h[n],r?r.push(e):h[n]=[e]);return e},u.addNodeFilter=function(e,t){o(a(e),function(e){var n=d[e];n||(d[e]=n=[]),n.push(t)})},u.addAttributeFilter=function(e,t){o(a(e),function(e){var n;for(n=0;n&lt;f.length;n++)if(f[n].name===e)return void f[n].callbacks.push(t);f.push({name:e,callbacks:[t]})})},u.parse=function(t,o){function a(){function e(e){e&amp;&amp;(t=e.firstChild,t&amp;&amp;3==t.type&amp;&amp;(t.value=t.value.replace(R,&quot;&quot;)),t=e.lastChild,t&amp;&amp;3==t.type&amp;&amp;(t.value=t.value.replace(D,&quot;&quot;)))}var t=y.firstChild,n,i;if(l.isValidChild(y.name,I.toLowerCase())){for(;t;)n=t.next,3==t.type||1==t.type&amp;&amp;&quot;p&quot;!==t.name&amp;&amp;!T[t.name]&amp;&amp;!t.attr(&quot;data-mce-type&quot;)?i?i.append(t):(i=u(I,1),i.attr(r.forced_root_block_attrs),y.insert(i,t),i.append(t)):(e(i),i=null),t=n;e(i)}}function u(t,n){var r=new e(t,n),i;return t in d&amp;&amp;(i=p[t],i?i.push(r):p[t]=[r]),r}function m(e){var t,n,r;for(t=e.prev;t&amp;&amp;3===t.type;)n=t.value.replace(D,&quot;&quot;),n.length&gt;0?(t.value=n,t=t.prev):(r=t.prev,t.remove(),t=r)}function g(e){var t,n={};for(t in e)&quot;li&quot;!==t&amp;&amp;&quot;p&quot;!=t&amp;&amp;(n[t]=e[t]);return n}var v,y,b,C,x,w,_,N,E,S,k,T,R,A=[],B,D,L,M,H,P,O,I;if(o=o||{},p={},h={},T=s(i(&quot;script,style,head,html,body,title,meta,param&quot;),l.getBlockElements()),O=l.getNonEmptyElements(),P=l.children,k=r.validate,I=&quot;forced_root_block&quot;in o?o.forced_root_block:r.forced_root_block,H=l.getWhiteSpaceElements(),R=/^[ \t\r\n]+/,D=/[ \t\r\n]+$/,L=/[ \t\r\n]+/g,M=/^[ \t\r\n]+$/,v=new n({validate:k,allow_script_urls:r.allow_script_urls,allow_conditional_comments:r.allow_conditional_comments,self_closing_elements:g(l.getSelfClosingElements()),cdata:function(e){b.append(u(&quot;#cdata&quot;,4)).value=e},text:function(e,t){var n;B||(e=e.replace(L,&quot; &quot;),b.lastChild&amp;&amp;T[b.lastChild.name]&amp;&amp;(e=e.replace(R,&quot;&quot;))),0!==e.length&amp;&amp;(n=u(&quot;#text&quot;,3),n.raw=!!t,b.append(n).value=e)},comment:function(e){b.append(u(&quot;#comment&quot;,8)).value=e},pi:function(e,t){b.append(u(e,7)).value=t,m(b)},doctype:function(e){var t;t=b.append(u(&quot;#doctype&quot;,10)),t.value=e,m(b)},start:function(e,t,n){var r,i,o,a,s;if(o=k?l.getElementRule(e):{}){for(r=u(o.outputName||e,1),r.attributes=t,r.shortEnded=n,b.append(r),s=P[b.name],s&amp;&amp;P[r.name]&amp;&amp;!s[r.name]&amp;&amp;A.push(r),i=f.length;i--;)a=f[i].name,a in t.map&amp;&amp;(E=h[a],E?E.push(r):h[a]=[r]);T[e]&amp;&amp;m(r),n||(b=r),!B&amp;&amp;H[e]&amp;&amp;(B=!0)}},end:function(t){var n,r,i,o,a;if(r=k?l.getElementRule(t):{}){if(T[t]&amp;&amp;!B){if(n=b.firstChild,n&amp;&amp;3===n.type)if(i=n.value.replace(R,&quot;&quot;),i.length&gt;0)n.value=i,n=n.next;else for(o=n.next,n.remove(),n=o;n&amp;&amp;3===n.type;)i=n.value,o=n.next,(0===i.length||M.test(i))&amp;&amp;(n.remove(),n=o),n=o;if(n=b.lastChild,n&amp;&amp;3===n.type)if(i=n.value.replace(D,&quot;&quot;),i.length&gt;0)n.value=i,n=n.prev;else for(o=n.prev,n.remove(),n=o;n&amp;&amp;3===n.type;)i=n.value,o=n.prev,(0===i.length||M.test(i))&amp;&amp;(n.remove(),n=o),n=o}if(B&amp;&amp;H[t]&amp;&amp;(B=!1),(r.removeEmpty||r.paddEmpty)&amp;&amp;b.isEmpty(O))if(r.paddEmpty)b.empty().append(new e(&quot;#text&quot;,&quot;3&quot;)).value=&quot;\xa0&quot;;else if(!b.attributes.map.name&amp;&amp;!b.attributes.map.id)return a=b.parent,b.empty().remove(),void(b=a);b=b.parent}}},l),y=b=new e(o.context||r.root_name,11),v.parse(t),k&amp;&amp;A.length&amp;&amp;(o.context?o.invalid=!0:c(A)),I&amp;&amp;(&quot;body&quot;==y.name||o.isRootContent)&amp;&amp;a(),!o.invalid){for(S in p){for(E=d[S],C=p[S],_=C.length;_--;)C[_].parent||C.splice(_,1);for(x=0,w=E.length;w&gt;x;x++)E[x](C,S,o)}for(x=0,w=f.length;w&gt;x;x++)if(E=f[x],E.name in h){for(C=h[E.name],_=C.length;_--;)C[_].parent||C.splice(_,1);for(_=0,N=E.callbacks.length;N&gt;_;_++)E.callbacks[_](C,E.name,o)}}return y},r.remove_trailing_brs&amp;&amp;u.addNodeFilter(&quot;br&quot;,function(t){var n,r=t.length,i,o=s({},l.getBlockElements()),a=l.getNonEmptyElements(),c,u,d,f,p,h;for(o.body=1,n=0;r&gt;n;n++)if(i=t[n],c=i.parent,o[i.parent.name]&amp;&amp;i===c.lastChild){for(d=i.prev;d;){if(f=d.name,&quot;span&quot;!==f||&quot;bookmark&quot;!==d.attr(&quot;data-mce-type&quot;)){if(&quot;br&quot;!==f)break;if(&quot;br&quot;===f){i=null;break}}d=d.prev}i&amp;&amp;(i.remove(),c.isEmpty(a)&amp;&amp;(p=l.getElementRule(c.name),p&amp;&amp;(p.removeEmpty?c.remove():p.paddEmpty&amp;&amp;(c.empty().append(new e(&quot;#text&quot;,3)).value=&quot;\xa0&quot;))))}else{for(u=i;c&amp;&amp;c.firstChild===u&amp;&amp;c.lastChild===u&amp;&amp;(u=c,!o[c.name]);)c=c.parent;u===c&amp;&amp;(h=new e(&quot;#text&quot;,3),h.value=&quot;\xa0&quot;,i.replace(h))}}),r.allow_html_in_named_anchor||u.addAttributeFilter(&quot;id,name&quot;,function(e){for(var t=e.length,n,r,i,o;t--;)if(o=e[t],&quot;a&quot;===o.name&amp;&amp;o.firstChild&amp;&amp;!o.attr(&quot;href&quot;)){i=o.parent,n=o.lastChild;do r=n.prev,i.insert(n,o),n=r;while(n)}})}}),r(E,[m,p],function(e,t){var n=t.makeMap;return function(t){var r=[],i,o,a,s,l;return t=t||{},i=t.indent,o=n(t.indent_before||&quot;&quot;),a=n(t.indent_after||&quot;&quot;),s=e.getEncodeFunc(t.entity_encoding||&quot;raw&quot;,t.entities),l=&quot;html&quot;==t.element_format,{start:function(e,t,n){var c,u,d,f;if(i&amp;&amp;o[e]&amp;&amp;r.length&gt;0&amp;&amp;(f=r[r.length-1],f.length&gt;0&amp;&amp;&quot;\n&quot;!==f&amp;&amp;r.push(&quot;\n&quot;)),r.push(&quot;&lt;&quot;,e),t)for(c=0,u=t.length;u&gt;c;c++)d=t[c],r.push(&quot; &quot;,d.name,&#039;=&quot;&#039;,s(d.value,!0),&#039;&quot;&#039;);r[r.length]=!n||l?&quot;&gt;&quot;:&quot; /&gt;&quot;,n&amp;&amp;i&amp;&amp;a[e]&amp;&amp;r.length&gt;0&amp;&amp;(f=r[r.length-1],f.length&gt;0&amp;&amp;&quot;\n&quot;!==f&amp;&amp;r.push(&quot;\n&quot;))},end:function(e){var t;r.push(&quot;&lt;/&quot;,e,&quot;&gt;&quot;),i&amp;&amp;a[e]&amp;&amp;r.length&gt;0&amp;&amp;(t=r[r.length-1],t.length&gt;0&amp;&amp;&quot;\n&quot;!==t&amp;&amp;r.push(&quot;\n&quot;))},text:function(e,t){e.length&gt;0&amp;&amp;(r[r.length]=t?e:s(e))},cdata:function(e){r.push(&quot;&lt;![CDATA[&quot;,e,&quot;]]&gt;&quot;)},comment:function(e){r.push(&quot;&lt;!--&quot;,e,&quot;--&gt;&quot;)},pi:function(e,t){t?r.push(&quot;&lt;?&quot;,e,&quot; &quot;,t,&quot;?&gt;&quot;):r.push(&quot;&lt;?&quot;,e,&quot;?&gt;&quot;),i&amp;&amp;r.push(&quot;\n&quot;)},doctype:function(e){r.push(&quot;&lt;!DOCTYPE&quot;,e,&quot;&gt;&quot;,i?&quot;\n&quot;:&quot;&quot;)},reset:function(){r.length=0},getContent:function(){return r.join(&quot;&quot;).replace(/\n$/,&quot;&quot;)}}}}),r(S,[E,w],function(e,t){return function(n,r){var i=this,o=new e(n);n=n||{},n.validate=&quot;validate&quot;in n?n.validate:!0,i.schema=r=r||new t,i.writer=o,i.serialize=function(e){function t(e){var n=i[e.type],s,l,c,u,d,f,p,h,m;if(n)n(e);else{if(s=e.name,l=e.shortEnded,c=e.attributes,a&amp;&amp;c&amp;&amp;c.length&gt;1){for(f=[],f.map={},m=r.getElementRule(e.name),p=0,h=m.attributesOrder.length;h&gt;p;p++)u=m.attributesOrder[p],u in c.map&amp;&amp;(d=c.map[u],f.map[u]=d,f.push({name:u,value:d}));for(p=0,h=c.length;h&gt;p;p++)u=c[p].name,u in f.map||(d=c.map[u],f.map[u]=d,f.push({name:u,value:d}));c=f}if(o.start(e.name,c,l),!l){if(e=e.firstChild)do t(e);while(e=e.next);o.end(s)}}}var i,a;return a=n.validate,i={3:function(e){o.text(e.value,e.raw)},8:function(e){o.comment(e.value)},7:function(e){o.pi(e.name,e.value)},10:function(e){o.doctype(e.value)},4:function(e){o.cdata(e.value)},11:function(e){if(e=e.firstChild)do t(e);while(e=e.next)}},o.reset(),1!=e.type||n.inner?i[11](e):t(e),o.getContent()}}}),r(k,[y,N,m,S,x,w,g,p],function(e,t,n,r,i,o,a,s){var l=s.each,c=s.trim,u=e.DOM;return function(e,i){var s,d,f;return i&amp;&amp;(s=i.dom,d=i.schema),s=s||u,d=d||new o(e),e.entity_encoding=e.entity_encoding||&quot;named&quot;,e.remove_trailing_brs=&quot;remove_trailing_brs&quot;in e?e.remove_trailing_brs:!0,f=new t(e,d),f.addAttributeFilter(&quot;data-mce-tabindex&quot;,function(e,t){for(var n=e.length,r;n--;)r=e[n],r.attr(&quot;tabindex&quot;,r.attributes.map[&quot;data-mce-tabindex&quot;]),r.attr(t,null)}),f.addAttributeFilter(&quot;src,href,style&quot;,function(t,n){for(var r=t.length,i,o,a=&quot;data-mce-&quot;+n,l=e.url_converter,c=e.url_converter_scope,u;r--;)i=t[r],o=i.attributes.map[a],o!==u?(i.attr(n,o.length&gt;0?o:null),i.attr(a,null)):(o=i.attributes.map[n],&quot;style&quot;===n?o=s.serializeStyle(s.parseStyle(o),i.name):l&amp;&amp;(o=l.call(c,o,n,i.name)),i.attr(n,o.length&gt;0?o:null))}),f.addAttributeFilter(&quot;class&quot;,function(e){for(var t=e.length,n,r;t--;)n=e[t],r=n.attr(&quot;class&quot;).replace(/(?:^|\s)mce-item-\w+(?!\S)/g,&quot;&quot;),n.attr(&quot;class&quot;,r.length&gt;0?r:null)}),f.addAttributeFilter(&quot;data-mce-type&quot;,function(e,t,n){for(var r=e.length,i;r--;)i=e[r],&quot;bookmark&quot;!==i.attributes.map[&quot;data-mce-type&quot;]||n.cleanup||i.remove()}),f.addAttributeFilter(&quot;data-mce-expando&quot;,function(e,t){for(var n=e.length;n--;)e[n].attr(t,null)}),f.addNodeFilter(&quot;noscript&quot;,function(e){for(var t=e.length,r;t--;)r=e[t].firstChild,r&amp;&amp;(r.value=n.decode(r.value))}),f.addNodeFilter(&quot;script,style&quot;,function(e,t){function n(e){return e.replace(/(&lt;!--\[CDATA\[|\]\]--&gt;)/g,&quot;\n&quot;).replace(/^[\r\n]*|[\r\n]*$/g,&quot;&quot;).replace(/^\s*((&lt;!--)?(\s*\/\/)?\s*&lt;!\[CDATA\[|(&lt;!--\s*)?\/\*\s*&lt;!\[CDATA\[\s*\*\/|(\/\/)?\s*&lt;!--|\/\*\s*&lt;!--\s*\*\/)\s*[\r\n]*/gi,&quot;&quot;).replace(/\s*(\/\*\s*\]\]&gt;\s*\*\/(--&gt;)?|\s*\/\/\s*\]\]&gt;(--&gt;)?|\/\/\s*(--&gt;)?|\]\]&gt;|\/\*\s*--&gt;\s*\*\/|\s*--&gt;\s*)\s*$/g,&quot;&quot;)}for(var r=e.length,i,o;r--;)if(i=e[r],o=i.firstChild?i.firstChild.value:&quot;&quot;,&quot;script&quot;===t){var a=(i.attr(&quot;type&quot;)||&quot;text/javascript&quot;).replace(/^mce\-/,&quot;&quot;);i.attr(&quot;type&quot;,&quot;text/javascript&quot;===a?null:a),o.length&gt;0&amp;&amp;(i.firstChild.value=&quot;// &lt;![CDATA[\n&quot;+n(o)+&quot;\n// ]]&gt;&quot;)}else o.length&gt;0&amp;&amp;(i.firstChild.value=&quot;&lt;!--\n&quot;+n(o)+&quot;\n--&gt;&quot;)}),f.addNodeFilter(&quot;#comment&quot;,function(e){for(var t=e.length,n;t--;)n=e[t],0===n.value.indexOf(&quot;[CDATA[&quot;)?(n.name=&quot;#cdata&quot;,n.type=4,n.value=n.value.replace(/^\[CDATA\[|\]\]$/g,&quot;&quot;)):0===n.value.indexOf(&quot;mce:protected &quot;)&amp;&amp;(n.name=&quot;#text&quot;,n.type=3,n.raw=!0,n.value=unescape(n.value).substr(14))}),f.addNodeFilter(&quot;xml:namespace,input&quot;,function(e,t){for(var n=e.length,r;n--;)r=e[n],7===r.type?r.remove():1===r.type&amp;&amp;(&quot;input&quot;!==t||&quot;type&quot;in r.attributes.map||r.attr(&quot;type&quot;,&quot;text&quot;))}),e.fix_list_elements&amp;&amp;f.addNodeFilter(&quot;ul,ol&quot;,function(e){for(var t=e.length,n,r;t--;)n=e[t],r=n.parent,(&quot;ul&quot;===r.name||&quot;ol&quot;===r.name)&amp;&amp;n.prev&amp;&amp;&quot;li&quot;===n.prev.name&amp;&amp;n.prev.append(n)}),f.addAttributeFilter(&quot;data-mce-src,data-mce-href,data-mce-style,data-mce-selected&quot;,function(e,t){for(var n=e.length;n--;)e[n].attr(t,null)}),{schema:d,addNodeFilter:f.addNodeFilter,addAttributeFilter:f.addAttributeFilter,serialize:function(t,n){var i=this,o,u,p,h,m;return a.ie&amp;&amp;s.select(&quot;script,style,select,map&quot;).length&gt;0?(m=t.innerHTML,t=t.cloneNode(!1),s.setHTML(t,m)):t=t.cloneNode(!0),o=t.ownerDocument.implementation,o.createHTMLDocument&amp;&amp;(u=o.createHTMLDocument(&quot;&quot;),l(&quot;BODY&quot;==t.nodeName?t.childNodes:[t],function(e){u.body.appendChild(u.importNode(e,!0))}),t=&quot;BODY&quot;!=t.nodeName?u.body.firstChild:u.body,p=s.doc,s.doc=u),n=n||{},n.format=n.format||&quot;html&quot;,n.selection&amp;&amp;(n.forced_root_block=&quot;&quot;),n.no_events||(n.node=t,i.onPreProcess(n)),h=new r(e,d),n.content=h.serialize(f.parse(c(n.getInner?t.innerHTML:s.getOuterHTML(t)),n)),n.cleanup||(n.content=n.content.replace(/\uFEFF/g,&quot;&quot;)),n.no_events||i.onPostProcess(n),p&amp;&amp;(s.doc=p),n.node=null,n.content},addRules:function(e){d.addValidElements(e)},setRules:function(e){d.setValidElements(e)},onPreProcess:function(e){i&amp;&amp;i.fire(&quot;PreProcess&quot;,e)},onPostProcess:function(e){i&amp;&amp;i.fire(&quot;PostProcess&quot;,e)}}}}),r(T,[],function(){function e(e){function t(t,n){var r,i=0,o,a,s,l,c,u,d=-1,f;if(r=t.duplicate(),r.collapse(n),f=r.parentElement(),f.ownerDocument===e.dom.doc){for(;&quot;false&quot;===f.contentEditable;)f=f.parentNode;
if(!f.hasChildNodes())return{node:f,inside:1};for(s=f.children,o=s.length-1;o&gt;=i;)if(u=Math.floor((i+o)/2),l=s[u],r.moveToElementText(l),d=r.compareEndPoints(n?&quot;StartToStart&quot;:&quot;EndToEnd&quot;,t),d&gt;0)o=u-1;else{if(!(0&gt;d))return{node:l};i=u+1}if(0&gt;d)for(l?r.collapse(!1):(r.moveToElementText(f),r.collapse(!0),l=f,a=!0),c=0;0!==r.compareEndPoints(n?&quot;StartToStart&quot;:&quot;StartToEnd&quot;,t)&amp;&amp;0!==r.move(&quot;character&quot;,1)&amp;&amp;f==r.parentElement();)c++;else for(r.collapse(!0),c=0;0!==r.compareEndPoints(n?&quot;StartToStart&quot;:&quot;StartToEnd&quot;,t)&amp;&amp;0!==r.move(&quot;character&quot;,-1)&amp;&amp;f==r.parentElement();)c++;return{node:l,position:d,offset:c,inside:a}}}function n(){function n(e){var n=t(o,e),r,i,s=0,l,c,u;if(r=n.node,i=n.offset,n.inside&amp;&amp;!r.hasChildNodes())return void a[e?&quot;setStart&quot;:&quot;setEnd&quot;](r,0);if(i===c)return void a[e?&quot;setStartBefore&quot;:&quot;setEndAfter&quot;](r);if(n.position&lt;0){if(l=n.inside?r.firstChild:r.nextSibling,!l)return void a[e?&quot;setStartAfter&quot;:&quot;setEndAfter&quot;](r);if(!i)return void(3==l.nodeType?a[e?&quot;setStart&quot;:&quot;setEnd&quot;](l,0):a[e?&quot;setStartBefore&quot;:&quot;setEndBefore&quot;](l));for(;l;){if(u=l.nodeValue,s+=u.length,s&gt;=i){r=l,s-=i,s=u.length-s;break}l=l.nextSibling}}else{if(l=r.previousSibling,!l)return a[e?&quot;setStartBefore&quot;:&quot;setEndBefore&quot;](r);if(!i)return void(3==r.nodeType?a[e?&quot;setStart&quot;:&quot;setEnd&quot;](l,r.nodeValue.length):a[e?&quot;setStartAfter&quot;:&quot;setEndAfter&quot;](l));for(;l;){if(s+=l.nodeValue.length,s&gt;=i){r=l,s-=i;break}l=l.previousSibling}}a[e?&quot;setStart&quot;:&quot;setEnd&quot;](r,s)}var o=e.getRng(),a=i.createRng(),s,l,c,u,d;if(s=o.item?o.item(0):o.parentElement(),s.ownerDocument!=i.doc)return a;if(l=e.isCollapsed(),o.item)return a.setStart(s.parentNode,i.nodeIndex(s)),a.setEnd(a.startContainer,a.startOffset+1),a;try{n(!0),l||n()}catch(f){if(-2147024809!=f.number)throw f;d=r.getBookmark(2),c=o.duplicate(),c.collapse(!0),s=c.parentElement(),l||(c=o.duplicate(),c.collapse(!1),u=c.parentElement(),u.innerHTML=u.innerHTML),s.innerHTML=s.innerHTML,r.moveToBookmark(d),o=e.getRng(),n(!0),l||n()}return a}var r=this,i=e.dom,o=!1;this.getBookmark=function(n){function r(e){var t,n,r,o,a=[];for(t=e.parentNode,n=i.getRoot().parentNode;t!=n&amp;&amp;9!==t.nodeType;){for(r=t.children,o=r.length;o--;)if(e===r[o]){a.push(o);break}e=t,t=t.parentNode}return a}function o(e){var n;return n=t(a,e),n?{position:n.position,offset:n.offset,indexes:r(n.node),inside:n.inside}:void 0}var a=e.getRng(),s={};return 2===n&amp;&amp;(a.item?s.start={ctrl:!0,indexes:r(a.item(0))}:(s.start=o(!0),e.isCollapsed()||(s.end=o()))),s},this.moveToBookmark=function(e){function t(e){var t,n,r,o;for(t=i.getRoot(),n=e.length-1;n&gt;=0;n--)o=t.children,r=e[n],r&lt;=o.length-1&amp;&amp;(t=o[r]);return t}function n(n){var i=e[n?&quot;start&quot;:&quot;end&quot;],a,s,l,c;i&amp;&amp;(a=i.position&gt;0,s=o.createTextRange(),s.moveToElementText(t(i.indexes)),c=i.offset,c!==l?(s.collapse(i.inside||a),s.moveStart(&quot;character&quot;,a?-c:c)):s.collapse(n),r.setEndPoint(n?&quot;StartToStart&quot;:&quot;EndToStart&quot;,s),n&amp;&amp;r.collapse(!0))}var r,o=i.doc.body;e.start&amp;&amp;(e.start.ctrl?(r=o.createControlRange(),r.addElement(t(e.start.indexes)),r.select()):(r=o.createTextRange(),n(!0),n(),r.select()))},this.addRange=function(t){function n(e){var t,n,a,d,h;a=i.create(&quot;a&quot;),t=e?s:c,n=e?l:u,d=r.duplicate(),(t==f||t==f.documentElement)&amp;&amp;(t=p,n=0),3==t.nodeType?(t.parentNode.insertBefore(a,t),d.moveToElementText(a),d.moveStart(&quot;character&quot;,n),i.remove(a),r.setEndPoint(e?&quot;StartToStart&quot;:&quot;EndToEnd&quot;,d)):(h=t.childNodes,h.length?(n&gt;=h.length?i.insertAfter(a,h[h.length-1]):t.insertBefore(a,h[n]),d.moveToElementText(a)):t.canHaveHTML&amp;&amp;(t.innerHTML=&quot;&lt;span&gt;&amp;#xFEFF;&lt;/span&gt;&quot;,a=t.firstChild,d.moveToElementText(a),d.collapse(o)),r.setEndPoint(e?&quot;StartToStart&quot;:&quot;EndToEnd&quot;,d),i.remove(a))}var r,a,s,l,c,u,d,f=e.dom.doc,p=f.body,h,m;if(s=t.startContainer,l=t.startOffset,c=t.endContainer,u=t.endOffset,r=p.createTextRange(),s==c&amp;&amp;1==s.nodeType){if(l==u&amp;&amp;!s.hasChildNodes()){if(s.canHaveHTML)return d=s.previousSibling,d&amp;&amp;!d.hasChildNodes()&amp;&amp;i.isBlock(d)?d.innerHTML=&quot;&amp;#xFEFF;&quot;:d=null,s.innerHTML=&quot;&lt;span&gt;&amp;#xFEFF;&lt;/span&gt;&lt;span&gt;&amp;#xFEFF;&lt;/span&gt;&quot;,r.moveToElementText(s.lastChild),r.select(),i.doc.selection.clear(),s.innerHTML=&quot;&quot;,void(d&amp;&amp;(d.innerHTML=&quot;&quot;));l=i.nodeIndex(s),s=s.parentNode}if(l==u-1)try{if(m=s.childNodes[l],a=p.createControlRange(),a.addElement(m),a.select(),h=e.getRng(),h.item&amp;&amp;m===h.item(0))return}catch(g){}}n(!0),n(),r.select()},this.getRangeAt=n}return e}),r(R,[g],function(e){return{BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,modifierPressed:function(e){return e.shiftKey||e.ctrlKey||e.altKey},metaKeyPressed:function(t){return(e.mac?t.metaKey:t.ctrlKey)&amp;&amp;!t.altKey}}}),r(A,[R,p,g],function(e,t,n){return function(r,i){function o(e){var t=i.settings.object_resizing;return t===!1||n.iOS?!1:(&quot;string&quot;!=typeof t&amp;&amp;(t=&quot;table,img,div&quot;),&quot;false&quot;===e.getAttribute(&quot;data-mce-resize&quot;)?!1:i.dom.is(e,t))}function a(t){var n,r;n=t.screenX-k,r=t.screenY-T,H=n*E[2]+B,P=r*E[3]+D,H=5&gt;H?5:H,P=5&gt;P?5:P,(e.modifierPressed(t)||&quot;IMG&quot;==w.nodeName&amp;&amp;E[2]*E[3]!==0)&amp;&amp;(H=Math.round(P/L),P=Math.round(H*L)),C.setStyles(_,{width:H,height:P}),E[2]&lt;0&amp;&amp;_.clientWidth&lt;=H&amp;&amp;C.setStyle(_,&quot;left&quot;,R+(B-H)),E[3]&lt;0&amp;&amp;_.clientHeight&lt;=P&amp;&amp;C.setStyle(_,&quot;top&quot;,A+(D-P)),M||(i.fire(&quot;ObjectResizeStart&quot;,{target:w,width:B,height:D}),M=!0)}function s(){function e(e,t){t&amp;&amp;(w.style[e]||!i.schema.isValid(w.nodeName.toLowerCase(),e)?C.setStyle(w,e,t):C.setAttrib(w,e,t))}M=!1,e(&quot;width&quot;,H),e(&quot;height&quot;,P),C.unbind(O,&quot;mousemove&quot;,a),C.unbind(O,&quot;mouseup&quot;,s),I!=O&amp;&amp;(C.unbind(I,&quot;mousemove&quot;,a),C.unbind(I,&quot;mouseup&quot;,s)),C.remove(_),F&amp;&amp;&quot;TABLE&quot;!=w.nodeName||l(w),i.fire(&quot;ObjectResized&quot;,{target:w,width:H,height:P}),i.nodeChanged()}function l(e,t,r){var l,u,d,f,p,h=i.getBody();g(),l=C.getPos(e,h),R=l.x,A=l.y,p=e.getBoundingClientRect(),u=p.width||p.right-p.left,d=p.height||p.bottom-p.top,w!=e&amp;&amp;(m(),w=e,H=P=0),f=i.fire(&quot;ObjectSelected&quot;,{target:e}),o(e)&amp;&amp;!f.isDefaultPrevented()?x(N,function(e,o){function l(t){k=t.screenX,T=t.screenY,B=w.clientWidth,D=w.clientHeight,L=D/B,E=e,_=w.cloneNode(!0),C.addClass(_,&quot;mce-clonedresizable&quot;),_.contentEditable=!1,_.unSelectabe=!0,C.setStyles(_,{left:R,top:A,margin:0}),_.removeAttribute(&quot;data-mce-selected&quot;),i.getBody().appendChild(_),C.bind(O,&quot;mousemove&quot;,a),C.bind(O,&quot;mouseup&quot;,s),I!=O&amp;&amp;(C.bind(I,&quot;mousemove&quot;,a),C.bind(I,&quot;mouseup&quot;,s))}var c,f;return t?void(o==t&amp;&amp;l(r)):(c=C.get(&quot;mceResizeHandle&quot;+o),c?C.show(c):(f=i.getBody(),c=C.add(f,&quot;div&quot;,{id:&quot;mceResizeHandle&quot;+o,&quot;data-mce-bogus&quot;:!0,&quot;class&quot;:&quot;mce-resizehandle&quot;,unselectable:!0,style:&quot;cursor:&quot;+o+&quot;-resize; margin:0; padding:0&quot;}),n.ie&amp;&amp;(c.contentEditable=!1)),e.elm||(C.bind(c,&quot;mousedown&quot;,function(e){e.stopImmediatePropagation(),e.preventDefault(),l(e)}),e.elm=c),void C.setStyles(c,{left:u*e[0]+R-c.offsetWidth/2,top:d*e[1]+A-c.offsetHeight/2}))}):c(),w.setAttribute(&quot;data-mce-selected&quot;,&quot;1&quot;)}function c(){var e,t;g(),w&amp;&amp;w.removeAttribute(&quot;data-mce-selected&quot;);for(e in N)t=C.get(&quot;mceResizeHandle&quot;+e),t&amp;&amp;(C.unbind(t),C.remove(t))}function u(e){function t(e,t){if(e)do if(e===t)return!0;while(e=e.parentNode)}var n;return x(C.select(&quot;img[data-mce-selected],hr[data-mce-selected]&quot;),function(e){e.removeAttribute(&quot;data-mce-selected&quot;)}),n=&quot;mousedown&quot;==e.type?e.target:r.getNode(),n=C.getParent(n,F?&quot;table&quot;:&quot;table,img,hr&quot;),t(n,i.getBody())&amp;&amp;(v(),t(r.getStart(),n)&amp;&amp;t(r.getEnd(),n)&amp;&amp;(!F||n!=r.getStart()&amp;&amp;&quot;IMG&quot;!==r.getStart().nodeName))?void l(n):void c()}function d(e,t,n){e&amp;&amp;e.attachEvent&amp;&amp;e.attachEvent(&quot;on&quot;+t,n)}function f(e,t,n){e&amp;&amp;e.detachEvent&amp;&amp;e.detachEvent(&quot;on&quot;+t,n)}function p(e){var t=e.srcElement,n,r,o,a,s,c,u;n=t.getBoundingClientRect(),c=S.clientX-n.left,u=S.clientY-n.top;for(r in N)if(o=N[r],a=t.offsetWidth*o[0],s=t.offsetHeight*o[1],Math.abs(a-c)&lt;8&amp;&amp;Math.abs(s-u)&lt;8){E=o;break}M=!0,i.getDoc().selection.empty(),l(t,r,S)}function h(e){var t=e.srcElement;if(t!=w){if(m(),0===t.id.indexOf(&quot;mceResizeHandle&quot;))return void(e.returnValue=!1);(&quot;IMG&quot;==t.nodeName||&quot;TABLE&quot;==t.nodeName)&amp;&amp;(c(),w=t,d(t,&quot;resizestart&quot;,p))}}function m(){f(w,&quot;resizestart&quot;,p)}function g(){for(var e in N){var t=N[e];t.elm&amp;&amp;(C.unbind(t.elm),delete t.elm)}}function v(){try{i.getDoc().execCommand(&quot;enableObjectResizing&quot;,!1,!1)}catch(e){}}function y(e){var t;if(F){t=O.body.createControlRange();try{return t.addElement(e),t.select(),!0}catch(n){}}}function b(){w=_=null,F&amp;&amp;(m(),f(i.getBody(),&quot;controlselect&quot;,h))}var C=i.dom,x=t.each,w,_,N,E,S,k,T,R,A,B,D,L,M,H,P,O=i.getDoc(),I=document,F=n.ie&amp;&amp;n.ie&lt;11;N={n:[.5,0,0,-1],e:[1,.5,1,0],s:[.5,1,0,1],w:[0,.5,-1,0],nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]};var z=&quot;.mce-content-body&quot;;return i.contentStyles.push(z+&quot; div.mce-resizehandle {position: absolute;border: 1px solid black;background: #FFF;width: 5px;height: 5px;z-index: 10000}&quot;+z+&quot; .mce-resizehandle:hover {background: #000}&quot;+z+&quot; img[data-mce-selected], hr[data-mce-selected] {outline: 1px solid black;resize: none}&quot;+z+&quot; .mce-clonedresizable {position: absolute;&quot;+(n.gecko?&quot;&quot;:&quot;outline: 1px dashed black;&quot;)+&quot;opacity: .5;filter: alpha(opacity=50);z-index: 10000}&quot;),i.on(&quot;init&quot;,function(){F?(i.on(&quot;ObjectResized&quot;,function(e){&quot;TABLE&quot;!=e.target.nodeName&amp;&amp;(c(),y(e.target))}),d(i.getBody(),&quot;controlselect&quot;,h),i.on(&quot;mousedown&quot;,function(e){S=e})):(v(),n.ie&gt;=11&amp;&amp;(i.on(&quot;mouseup&quot;,function(e){var t=e.target.nodeName;/^(TABLE|IMG|HR)$/.test(t)&amp;&amp;(i.selection.select(e.target,&quot;TABLE&quot;==t),i.nodeChanged())}),i.dom.bind(i.getBody(),&quot;mscontrolselect&quot;,function(e){/^(TABLE|IMG|HR)$/.test(e.target.nodeName)&amp;&amp;(e.preventDefault(),&quot;IMG&quot;==e.target.tagName&amp;&amp;window.setTimeout(function(){i.selection.select(e.target)},0))}))),i.on(&quot;nodechange mousedown mouseup ResizeEditor&quot;,u),i.on(&quot;keydown keyup&quot;,function(e){w&amp;&amp;&quot;TABLE&quot;==w.nodeName&amp;&amp;u(e)}),i.on(&quot;hide&quot;,c)}),i.on(&quot;remove&quot;,g),{isResizable:o,showResizeRect:l,hideResizeRect:c,updateResizeRect:u,controlSelect:y,destroy:b}}}),r(B,[p,f],function(e,t){function n(e){this.walk=function(t,n){function i(e){var t;return t=e[0],3===t.nodeType&amp;&amp;t===l&amp;&amp;c&gt;=t.nodeValue.length&amp;&amp;e.splice(0,1),t=e[e.length-1],0===d&amp;&amp;e.length&gt;0&amp;&amp;t===u&amp;&amp;3===t.nodeType&amp;&amp;e.splice(e.length-1,1),e}function o(e,t,n){for(var r=[];e&amp;&amp;e!=n;e=e[t])r.push(e);return r}function a(e,t){do{if(e.parentNode==t)return e;e=e.parentNode}while(e)}function s(e,t,r){var a=r?&quot;nextSibling&quot;:&quot;previousSibling&quot;;for(m=e,g=m.parentNode;m&amp;&amp;m!=t;m=g)g=m.parentNode,v=o(m==e?m:m[a],a),v.length&amp;&amp;(r||v.reverse(),n(i(v)))}var l=t.startContainer,c=t.startOffset,u=t.endContainer,d=t.endOffset,f,p,h,m,g,v,y;if(y=e.select(&quot;td.mce-item-selected,th.mce-item-selected&quot;),y.length&gt;0)return void r(y,function(e){n([e])});if(1==l.nodeType&amp;&amp;l.hasChildNodes()&amp;&amp;(l=l.childNodes[c]),1==u.nodeType&amp;&amp;u.hasChildNodes()&amp;&amp;(u=u.childNodes[Math.min(d-1,u.childNodes.length-1)]),l==u)return n(i([l]));for(f=e.findCommonAncestor(l,u),m=l;m;m=m.parentNode){if(m===u)return s(l,f,!0);if(m===f)break}for(m=u;m;m=m.parentNode){if(m===l)return s(u,f);if(m===f)break}p=a(l,f)||l,h=a(u,f)||u,s(l,p,!0),v=o(p==l?p:p.nextSibling,&quot;nextSibling&quot;,h==u?h.nextSibling:h),v.length&amp;&amp;n(i(v)),s(u,h)},this.split=function(e){function t(e,t){return e.splitText(t)}var n=e.startContainer,r=e.startOffset,i=e.endContainer,o=e.endOffset;return n==i&amp;&amp;3==n.nodeType?r&gt;0&amp;&amp;r&lt;n.nodeValue.length&amp;&amp;(i=t(n,r),n=i.previousSibling,o&gt;r?(o-=r,n=i=t(i,o).previousSibling,o=i.nodeValue.length,r=0):o=0):(3==n.nodeType&amp;&amp;r&gt;0&amp;&amp;r&lt;n.nodeValue.length&amp;&amp;(n=t(n,r),r=0),3==i.nodeType&amp;&amp;o&gt;0&amp;&amp;o&lt;i.nodeValue.length&amp;&amp;(i=t(i,o).previousSibling,o=i.nodeValue.length)),{startContainer:n,startOffset:r,endContainer:i,endOffset:o}},this.normalize=function(n){function r(r){function a(n,r){for(var i=new t(n,e.getParent(n.parentNode,e.isBlock)||f);n=i[r?&quot;prev&quot;:&quot;next&quot;]();)if(&quot;BR&quot;===n.nodeName)return!0}function s(e,t){return e.previousSibling&amp;&amp;e.previousSibling.nodeName==t}function l(n,r){var a,s,l;if(r=r||c,l=e.getParent(r.parentNode,e.isBlock)||f,n&amp;&amp;&quot;BR&quot;==r.nodeName&amp;&amp;g&amp;&amp;e.isEmpty(l))return c=r.parentNode,u=e.nodeIndex(r),void(i=!0);for(a=new t(r,l);p=a[n?&quot;prev&quot;:&quot;next&quot;]();){if(&quot;false&quot;===e.getContentEditableParent(p))return;if(3===p.nodeType&amp;&amp;p.nodeValue.length&gt;0)return c=p,u=n?p.nodeValue.length:0,void(i=!0);if(e.isBlock(p)||h[p.nodeName.toLowerCase()])return;s=p}o&amp;&amp;s&amp;&amp;(c=s,i=!0,u=0)}var c,u,d,f=e.getRoot(),p,h,m,g;if(c=n[(r?&quot;start&quot;:&quot;end&quot;)+&quot;Container&quot;],u=n[(r?&quot;start&quot;:&quot;end&quot;)+&quot;Offset&quot;],g=1==c.nodeType&amp;&amp;u===c.childNodes.length,h=e.schema.getNonEmptyElements(),m=r,1==c.nodeType&amp;&amp;u&gt;c.childNodes.length-1&amp;&amp;(m=!1),9===c.nodeType&amp;&amp;(c=e.getRoot(),u=0),c===f){if(m&amp;&amp;(p=c.childNodes[u&gt;0?u-1:0],p&amp;&amp;(h[p.nodeName]||&quot;TABLE&quot;==p.nodeName)))return;if(c.hasChildNodes()&amp;&amp;(u=Math.min(!m&amp;&amp;u&gt;0?u-1:u,c.childNodes.length-1),c=c.childNodes[u],u=0,c.hasChildNodes()&amp;&amp;!/TABLE/.test(c.nodeName))){p=c,d=new t(c,f);do{if(3===p.nodeType&amp;&amp;p.nodeValue.length&gt;0){u=m?0:p.nodeValue.length,c=p,i=!0;break}if(h[p.nodeName.toLowerCase()]){u=e.nodeIndex(p),c=p.parentNode,&quot;IMG&quot;!=p.nodeName||m||u++,i=!0;break}}while(p=m?d.next():d.prev())}}o&amp;&amp;(3===c.nodeType&amp;&amp;0===u&amp;&amp;l(!0),1===c.nodeType&amp;&amp;(p=c.childNodes[u],p||(p=c.childNodes[u-1]),!p||&quot;BR&quot;!==p.nodeName||s(p,&quot;A&quot;)||a(p)||a(p,!0)||l(!0,p))),m&amp;&amp;!o&amp;&amp;3===c.nodeType&amp;&amp;u===c.nodeValue.length&amp;&amp;l(!1),i&amp;&amp;n[&quot;set&quot;+(r?&quot;Start&quot;:&quot;End&quot;)](c,u)}var i,o;return o=n.collapsed,r(!0),o||r(),i&amp;&amp;o&amp;&amp;n.collapse(!0),i}}var r=e.each;return n.compareRanges=function(e,t){if(e&amp;&amp;t){if(!e.item&amp;&amp;!e.duplicate)return e.startContainer==t.startContainer&amp;&amp;e.startOffset==t.startOffset;if(e.item&amp;&amp;t.item&amp;&amp;e.item(0)===t.item(0))return!0;if(e.isEqual&amp;&amp;t.isEqual&amp;&amp;t.isEqual(e))return!0}return!1},n}),r(D,[f,T,A,B,g,p],function(e,n,r,i,o,a){function s(e,t,i,o){var a=this;a.dom=e,a.win=t,a.serializer=i,a.editor=o,a.controlSelection=new r(a,o),a.win.getSelection||(a.tridentSel=new n(a))}var l=a.each,c=a.grep,u=a.trim,d=o.ie,f=o.opera;return s.prototype={setCursorLocation:function(e,t){var n=this,r=n.dom.createRng();e?(r.setStart(e,t),r.setEnd(e,t),n.setRng(r),n.collapse(!1)):(n._moveEndPoint(r,n.editor.getBody(),!0),n.setRng(r))},getContent:function(e){var n=this,r=n.getRng(),i=n.dom.create(&quot;body&quot;),o=n.getSel(),a,s,l;return e=e||{},a=s=&quot;&quot;,e.get=!0,e.format=e.format||&quot;html&quot;,e.selection=!0,n.editor.fire(&quot;BeforeGetContent&quot;,e),&quot;text&quot;==e.format?n.isCollapsed()?&quot;&quot;:r.text||(o.toString?o.toString():&quot;&quot;):(r.cloneContents?(l=r.cloneContents(),l&amp;&amp;i.appendChild(l)):r.item!==t||r.htmlText!==t?(i.innerHTML=&quot;&lt;br&gt;&quot;+(r.item?r.item(0).outerHTML:r.htmlText),i.removeChild(i.firstChild)):i.innerHTML=r.toString(),/^\s/.test(i.innerHTML)&amp;&amp;(a=&quot; &quot;),/\s+$/.test(i.innerHTML)&amp;&amp;(s=&quot; &quot;),e.getInner=!0,e.content=n.isCollapsed()?&quot;&quot;:a+n.serializer.serialize(i,e)+s,n.editor.fire(&quot;GetContent&quot;,e),e.content)},setContent:function(e,t){var n=this,r=n.getRng(),i,o=n.win.document,a,s;if(t=t||{format:&quot;html&quot;},t.set=!0,t.selection=!0,e=t.content=e,t.no_events||n.editor.fire(&quot;BeforeSetContent&quot;,t),e=t.content,r.insertNode){e+=&#039;&lt;span id=&quot;__caret&quot;&gt;_&lt;/span&gt;&#039;,r.startContainer==o&amp;&amp;r.endContainer==o?o.body.innerHTML=e:(r.deleteContents(),0===o.body.childNodes.length?o.body.innerHTML=e:r.createContextualFragment?r.insertNode(r.createContextualFragment(e)):(a=o.createDocumentFragment(),s=o.createElement(&quot;div&quot;),a.appendChild(s),s.outerHTML=e,r.insertNode(a))),i=n.dom.get(&quot;__caret&quot;),r=o.createRange(),r.setStartBefore(i),r.setEndBefore(i),n.setRng(r),n.dom.remove(&quot;__caret&quot;);try{n.setRng(r)}catch(l){}}else r.item&amp;&amp;(o.execCommand(&quot;Delete&quot;,!1,null),r=n.getRng()),/^\s+/.test(e)?(r.pasteHTML(&#039;&lt;span id=&quot;__mce_tmp&quot;&gt;_&lt;/span&gt;&#039;+e),n.dom.remove(&quot;__mce_tmp&quot;)):r.pasteHTML(e);t.no_events||n.editor.fire(&quot;SetContent&quot;,t)},getStart:function(){var e=this,t=e.getRng(),n,r,i,o;if(t.duplicate||t.item){if(t.item)return t.item(0);for(i=t.duplicate(),i.collapse(1),n=i.parentElement(),n.ownerDocument!==e.dom.doc&amp;&amp;(n=e.dom.getRoot()),r=o=t.parentElement();o=o.parentNode;)if(o==n){n=r;break}return n}return n=t.startContainer,1==n.nodeType&amp;&amp;n.hasChildNodes()&amp;&amp;(n=n.childNodes[Math.min(n.childNodes.length-1,t.startOffset)]),n&amp;&amp;3==n.nodeType?n.parentNode:n},getEnd:function(){var e=this,t=e.getRng(),n,r;return t.duplicate||t.item?t.item?t.item(0):(t=t.duplicate(),t.collapse(0),n=t.parentElement(),n.ownerDocument!==e.dom.doc&amp;&amp;(n=e.dom.getRoot()),n&amp;&amp;&quot;BODY&quot;==n.nodeName?n.lastChild||n:n):(n=t.endContainer,r=t.endOffset,1==n.nodeType&amp;&amp;n.hasChildNodes()&amp;&amp;(n=n.childNodes[r&gt;0?r-1:r]),n&amp;&amp;3==n.nodeType?n.parentNode:n)},getBookmark:function(e,t){function n(e,t){var n=0;return l(a.select(e),function(e,r){e==t&amp;&amp;(n=r)}),n}function r(e){function t(t){var n,r,i,o=t?&quot;start&quot;:&quot;end&quot;;n=e[o+&quot;Container&quot;],r=e[o+&quot;Offset&quot;],1==n.nodeType&amp;&amp;&quot;TR&quot;==n.nodeName&amp;&amp;(i=n.childNodes,n=i[Math.min(t?r:r-1,i.length-1)],n&amp;&amp;(r=t?0:n.childNodes.length,e[&quot;set&quot;+(t?&quot;Start&quot;:&quot;End&quot;)](n,r)))}return t(!0),t(),e}function i(){function e(e,n){var i=e[n?&quot;startContainer&quot;:&quot;endContainer&quot;],a=e[n?&quot;startOffset&quot;:&quot;endOffset&quot;],s=[],l,c,u=0;if(3==i.nodeType){if(t)for(l=i.previousSibling;l&amp;&amp;3==l.nodeType;l=l.previousSibling)a+=l.nodeValue.length;s.push(a)}else c=i.childNodes,a&gt;=c.length&amp;&amp;c.length&amp;&amp;(u=1,a=Math.max(0,c.length-1)),s.push(o.dom.nodeIndex(c[a],t)+u);for(;i&amp;&amp;i!=r;i=i.parentNode)s.push(o.dom.nodeIndex(i,t));return s}var n=o.getRng(!0),r=a.getRoot(),i={};return i.start=e(n,!0),o.isCollapsed()||(i.end=e(n)),i}var o=this,a=o.dom,s,c,u,d,f,p,h=&quot;&amp;#xFEFF;&quot;,m;if(2==e)return p=o.getNode(),f=p?p.nodeName:null,&quot;IMG&quot;==f?{name:f,index:n(f,p)}:o.tridentSel?o.tridentSel.getBookmark(e):i();if(e)return{rng:o.getRng()};if(s=o.getRng(),u=a.uniqueId(),d=o.isCollapsed(),m=&quot;overflow:hidden;line-height:0px&quot;,s.duplicate||s.item){if(s.item)return p=s.item(0),f=p.nodeName,{name:f,index:n(f,p)};c=s.duplicate();try{s.collapse(),s.pasteHTML(&#039;&lt;span data-mce-type=&quot;bookmark&quot; id=&quot;&#039;+u+&#039;_start&quot; style=&quot;&#039;+m+&#039;&quot;&gt;&#039;+h+&quot;&lt;/span&gt;&quot;),d||(c.collapse(!1),s.moveToElementText(c.parentElement()),0===s.compareEndPoints(&quot;StartToEnd&quot;,c)&amp;&amp;c.move(&quot;character&quot;,-1),c.pasteHTML(&#039;&lt;span data-mce-type=&quot;bookmark&quot; id=&quot;&#039;+u+&#039;_end&quot; style=&quot;&#039;+m+&#039;&quot;&gt;&#039;+h+&quot;&lt;/span&gt;&quot;))}catch(g){return null}}else{if(p=o.getNode(),f=p.nodeName,&quot;IMG&quot;==f)return{name:f,index:n(f,p)};c=r(s.cloneRange()),d||(c.collapse(!1),c.insertNode(a.create(&quot;span&quot;,{&quot;data-mce-type&quot;:&quot;bookmark&quot;,id:u+&quot;_end&quot;,style:m},h))),s=r(s),s.collapse(!0),s.insertNode(a.create(&quot;span&quot;,{&quot;data-mce-type&quot;:&quot;bookmark&quot;,id:u+&quot;_start&quot;,style:m},h))}return o.moveToBookmark({id:u,keep:1}),{id:u}},moveToBookmark:function(e){function t(t){var n=e[t?&quot;start&quot;:&quot;end&quot;],r,i,o,l;if(n){for(o=n[0],i=s,r=n.length-1;r&gt;=1;r--){if(l=i.childNodes,n[r]&gt;l.length-1)return;i=l[n[r]]}3===i.nodeType&amp;&amp;(o=Math.min(n[0],i.nodeValue.length)),1===i.nodeType&amp;&amp;(o=Math.min(n[0],i.childNodes.length)),t?a.setStart(i,o):a.setEnd(i,o)}return!0}function n(t){var n=o.get(e.id+&quot;_&quot;+t),r,i,a,s,d=e.keep;if(n&amp;&amp;(r=n.parentNode,&quot;start&quot;==t?(d?(r=n.firstChild,i=1):i=o.nodeIndex(n),u=p=r,h=m=i):(d?(r=n.firstChild,i=1):i=o.nodeIndex(n),p=r,m=i),!d)){for(s=n.previousSibling,a=n.nextSibling,l(c(n.childNodes),function(e){3==e.nodeType&amp;&amp;(e.nodeValue=e.nodeValue.replace(/\uFEFF/g,&quot;&quot;))});n=o.get(e.id+&quot;_&quot;+t);)o.remove(n,1);s&amp;&amp;a&amp;&amp;s.nodeType==a.nodeType&amp;&amp;3==s.nodeType&amp;&amp;!f&amp;&amp;(i=s.nodeValue.length,s.appendData(a.nodeValue),o.remove(a),&quot;start&quot;==t?(u=p=s,h=m=i):(p=s,m=i))}}function r(e){return!o.isBlock(e)||e.innerHTML||d||(e.innerHTML=&#039;&lt;br data-mce-bogus=&quot;1&quot; /&gt;&#039;),e}var i=this,o=i.dom,a,s,u,p,h,m;if(e)if(e.start){if(a=o.createRng(),s=o.getRoot(),i.tridentSel)return i.tridentSel.moveToBookmark(e);t(!0)&amp;&amp;t()&amp;&amp;i.setRng(a)}else e.id?(n(&quot;start&quot;),n(&quot;end&quot;),u&amp;&amp;(a=o.createRng(),a.setStart(r(u),h),a.setEnd(r(p),m),i.setRng(a))):e.name?i.select(o.select(e.name)[e.index]):e.rng&amp;&amp;i.setRng(e.rng)},select:function(e,t){var n=this,r=n.dom,i=r.createRng(),o;if(n.lastFocusBookmark=null,e){if(!t&amp;&amp;n.controlSelection.controlSelect(e))return;o=r.nodeIndex(e),i.setStart(e.parentNode,o),i.setEnd(e.parentNode,o+1),t&amp;&amp;(n._moveEndPoint(i,e,!0),n._moveEndPoint(i,e)),n.setRng(i)}return e},isCollapsed:function(){var e=this,t=e.getRng(),n=e.getSel();return!t||t.item?!1:t.compareEndPoints?0===t.compareEndPoints(&quot;StartToEnd&quot;,t):!n||t.collapsed},collapse:function(e){var t=this,n=t.getRng(),r;n.item&amp;&amp;(r=n.item(0),n=t.win.document.body.createTextRange(),n.moveToElementText(r)),n.collapse(!!e),t.setRng(n)},getSel:function(){var e=this.win;return e.getSelection?e.getSelection():e.document.selection},getRng:function(e){function t(e,t,n){try{return t.compareBoundaryPoints(e,n)}catch(r){return-1}}var n=this,r,i,o,a=n.win.document,s;if(!e&amp;&amp;n.lastFocusBookmark){var l=n.lastFocusBookmark;return l.startContainer?(i=a.createRange(),i.setStart(l.startContainer,l.startOffset),i.setEnd(l.endContainer,l.endOffset)):i=l,i}if(e&amp;&amp;n.tridentSel)return n.tridentSel.getRangeAt(0);try{(r=n.getSel())&amp;&amp;(i=r.rangeCount&gt;0?r.getRangeAt(0):r.createRange?r.createRange():a.createRange())}catch(c){}if(d&amp;&amp;i&amp;&amp;i.setStart&amp;&amp;a.selection){try{s=a.selection.createRange()}catch(c){}s&amp;&amp;s.item&amp;&amp;(o=s.item(0),i=a.createRange(),i.setStartBefore(o),i.setEndAfter(o))}return i||(i=a.createRange?a.createRange():a.body.createTextRange()),i.setStart&amp;&amp;9===i.startContainer.nodeType&amp;&amp;i.collapsed&amp;&amp;(o=n.dom.getRoot(),i.setStart(o,0),i.setEnd(o,0)),n.selectedRange&amp;&amp;n.explicitRange&amp;&amp;(0===t(i.START_TO_START,i,n.selectedRange)&amp;&amp;0===t(i.END_TO_END,i,n.selectedRange)?i=n.explicitRange:(n.selectedRange=null,n.explicitRange=null)),i},setRng:function(e,t){var n=this,r;if(e.select)try{e.select()}catch(i){}else if(n.tridentSel){if(e.cloneRange)try{return void n.tridentSel.addRange(e)}catch(i){}}else if(r=n.getSel()){n.explicitRange=e;try{r.removeAllRanges(),r.addRange(e)}catch(i){}t===!1&amp;&amp;r.extend&amp;&amp;(r.collapse(e.endContainer,e.endOffset),r.extend(e.startContainer,e.startOffset)),n.selectedRange=r.rangeCount&gt;0?r.getRangeAt(0):null}},setNode:function(e){var t=this;return t.setContent(t.dom.getOuterHTML(e)),e},getNode:function(){function e(e,t){for(var n=e;e&amp;&amp;3===e.nodeType&amp;&amp;0===e.length;)e=t?e.nextSibling:e.previousSibling;return e||n}var t=this,n=t.getRng(),r,i=n.startContainer,o=n.endContainer,a=n.startOffset,s=n.endOffset,l=t.dom.getRoot();return n?n.setStart?(r=n.commonAncestorContainer,!n.collapsed&amp;&amp;(i==o&amp;&amp;2&gt;s-a&amp;&amp;i.hasChildNodes()&amp;&amp;(r=i.childNodes[a]),3===i.nodeType&amp;&amp;3===o.nodeType&amp;&amp;(i=i.length===a?e(i.nextSibling,!0):i.parentNode,o=0===s?e(o.previousSibling,!1):o.parentNode,i&amp;&amp;i===o))?i:r&amp;&amp;3==r.nodeType?r.parentNode:r):(r=n.item?n.item(0):n.parentElement(),r.ownerDocument!==t.win.document&amp;&amp;(r=l),r):l},getSelectedBlocks:function(t,n){var r=this,i=r.dom,o,a,s=[];if(a=i.getRoot(),t=i.getParent(t||r.getStart(),i.isBlock),n=i.getParent(n||r.getEnd(),i.isBlock),t&amp;&amp;t!=a&amp;&amp;s.push(t),t&amp;&amp;n&amp;&amp;t!=n){o=t;for(var l=new e(t,a);(o=l.next())&amp;&amp;o!=n;)i.isBlock(o)&amp;&amp;s.push(o)}return n&amp;&amp;t!=n&amp;&amp;n!=a&amp;&amp;s.push(n),s},isForward:function(){var e=this.dom,t=this.getSel(),n,r;return t&amp;&amp;t.anchorNode&amp;&amp;t.focusNode?(n=e.createRng(),n.setStart(t.anchorNode,t.anchorOffset),n.collapse(!0),r=e.createRng(),r.setStart(t.focusNode,t.focusOffset),r.collapse(!0),n.compareBoundaryPoints(n.START_TO_START,r)&lt;=0):!0},normalize:function(){var e=this,t=e.getRng();return!d&amp;&amp;new i(e.dom).normalize(t)&amp;&amp;e.setRng(t,e.isForward()),t},selectorChanged:function(e,t){var n=this,r;return n.selectorChangedData||(n.selectorChangedData={},r={},n.editor.on(&quot;NodeChange&quot;,function(e){var t=e.element,i=n.dom,o=i.getParents(t,null,i.getRoot()),a={};l(n.selectorChangedData,function(e,t){l(o,function(n){return i.is(n,t)?(r[t]||(l(e,function(e){e(!0,{node:n,selector:t,parents:o})}),r[t]=e),a[t]=e,!1):void 0})}),l(r,function(e,n){a[n]||(delete r[n],l(e,function(e){e(!1,{node:t,selector:n,parents:o})}))})})),n.selectorChangedData[e]||(n.selectorChangedData[e]=[]),n.selectorChangedData[e].push(t),n},getScrollContainer:function(){for(var e,t=this.dom.getRoot();t&amp;&amp;&quot;BODY&quot;!=t.nodeName;){if(t.scrollHeight&gt;t.clientHeight){e=t;break}t=t.parentNode}return e},scrollIntoView:function(e){function t(e){for(var t=0,n=0,r=e;r&amp;&amp;r.nodeType;)t+=r.offsetLeft||0,n+=r.offsetTop||0,r=r.offsetParent;return{x:t,y:n}}var n,r,i=this,o=i.dom,a=o.getRoot(),s,l;if(&quot;BODY&quot;!=a.nodeName){var c=i.getScrollContainer();if(c)return n=t(e).y-t(c).y,l=c.clientHeight,s=c.scrollTop,void((s&gt;n||n+25&gt;s+l)&amp;&amp;(c.scrollTop=s&gt;n?n:n-l+25))}r=o.getViewPort(i.editor.getWin()),n=o.getPos(e).y,s=r.y,l=r.h,(n&lt;r.y||n+25&gt;s+l)&amp;&amp;i.editor.getWin().scrollTo(0,s&gt;n?n:n-l+25)},_moveEndPoint:function(t,n,r){var i=n,a=new e(n,i),s=this.dom.schema.getNonEmptyElements();do{if(3==n.nodeType&amp;&amp;0!==u(n.nodeValue).length)return void(r?t.setStart(n,0):t.setEnd(n,n.nodeValue.length));if(s[n.nodeName])return void(r?t.setStartBefore(n):&quot;BR&quot;==n.nodeName?t.setEndBefore(n):t.setEndAfter(n));if(o.ie&amp;&amp;o.ie&lt;11&amp;&amp;this.dom.isBlock(n)&amp;&amp;this.dom.isEmpty(n))return void(r?t.setStart(n,0):t.setEnd(n,0))}while(n=r?a.next():a.prev());&quot;BODY&quot;==i.nodeName&amp;&amp;(r?t.setStart(i,0):t.setEnd(i,i.childNodes.length))},destroy:function(){this.win=null,this.controlSelection.destroy()}},s}),r(L,[p],function(e){function t(e,t){function r(e){return e.replace(/%(\w+)/g,&quot;&quot;)}var i,o,a=e.dom,s=&quot;&quot;,l,c;if(c=e.settings.preview_styles,c===!1)return&quot;&quot;;if(c||(c=&quot;font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow&quot;),&quot;string&quot;==typeof t){if(t=e.formatter.get(t),!t)return;t=t[0]}return i=t.block||t.inline||&quot;span&quot;,o=a.create(i),n(t.styles,function(e,t){e=r(e),e&amp;&amp;a.setStyle(o,t,e)}),n(t.attributes,function(e,t){e=r(e),e&amp;&amp;a.setAttrib(o,t,e)}),n(t.classes,function(e){e=r(e),a.hasClass(o,e)||a.addClass(o,e)}),e.fire(&quot;PreviewFormats&quot;),a.setStyles(o,{position:&quot;absolute&quot;,left:-65535}),e.getBody().appendChild(o),l=a.getStyle(e.getBody(),&quot;fontSize&quot;,!0),l=/px$/.test(l)?parseInt(l,10):0,n(c.split(&quot; &quot;),function(t){var n=a.getStyle(o,t,!0);if(!(&quot;background-color&quot;==t&amp;&amp;/transparent|rgba\s*\([^)]+,\s*0\)/.test(n)&amp;&amp;(n=a.getStyle(e.getBody(),t,!0),&quot;#ffffff&quot;==a.toHex(n).toLowerCase())||&quot;color&quot;==t&amp;&amp;&quot;#000000&quot;==a.toHex(n).toLowerCase())){if(&quot;font-size&quot;==t&amp;&amp;/em|%$/.test(n)){if(0===l)return;n=parseFloat(n,10)/(/%$/.test(n)?100:1),n=n*l+&quot;px&quot;}&quot;border&quot;==t&amp;&amp;n&amp;&amp;(s+=&quot;padding:0 2px;&quot;),s+=t+&quot;:&quot;+n+&quot;;&quot;}}),e.fire(&quot;AfterPreviewFormats&quot;),a.remove(o),s}var n=e.each;return{getCssText:t}}),r(M,[f,B,p,L],function(e,t,n,r){return function(i){function o(e){return e.nodeType&amp;&amp;(e=e.nodeName),!!i.schema.getTextBlockElements()[e.toLowerCase()]}function a(e,t){return z.getParents(e,t,z.getRoot())}function s(e){return 1===e.nodeType&amp;&amp;&quot;_mce_caret&quot;===e.id}function l(){d({valigntop:[{selector:&quot;td,th&quot;,styles:{verticalAlign:&quot;top&quot;}}],valignmiddle:[{selector:&quot;td,th&quot;,styles:{verticalAlign:&quot;middle&quot;}}],valignbottom:[{selector:&quot;td,th&quot;,styles:{verticalAlign:&quot;bottom&quot;}}],alignleft:[{selector:&quot;figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li&quot;,styles:{textAlign:&quot;left&quot;},defaultBlock:&quot;div&quot;},{selector:&quot;img,table&quot;,collapsed:!1,styles:{&quot;float&quot;:&quot;left&quot;}}],aligncenter:[{selector:&quot;figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li&quot;,styles:{textAlign:&quot;center&quot;},defaultBlock:&quot;div&quot;},{selector:&quot;img&quot;,collapsed:!1,styles:{display:&quot;block&quot;,marginLeft:&quot;auto&quot;,marginRight:&quot;auto&quot;}},{selector:&quot;table&quot;,collapsed:!1,styles:{marginLeft:&quot;auto&quot;,marginRight:&quot;auto&quot;}}],alignright:[{selector:&quot;figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li&quot;,styles:{textAlign:&quot;right&quot;},defaultBlock:&quot;div&quot;},{selector:&quot;img,table&quot;,collapsed:!1,styles:{&quot;float&quot;:&quot;right&quot;}}],alignjustify:[{selector:&quot;figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li&quot;,styles:{textAlign:&quot;justify&quot;},defaultBlock:&quot;div&quot;}],bold:[{inline:&quot;strong&quot;,remove:&quot;all&quot;},{inline:&quot;span&quot;,styles:{fontWeight:&quot;bold&quot;}},{inline:&quot;b&quot;,remove:&quot;all&quot;}],italic:[{inline:&quot;em&quot;,remove:&quot;all&quot;},{inline:&quot;span&quot;,styles:{fontStyle:&quot;italic&quot;}},{inline:&quot;i&quot;,remove:&quot;all&quot;}],underline:[{inline:&quot;span&quot;,styles:{textDecoration:&quot;underline&quot;},exact:!0},{inline:&quot;u&quot;,remove:&quot;all&quot;}],strikethrough:[{inline:&quot;span&quot;,styles:{textDecoration:&quot;line-through&quot;},exact:!0},{inline:&quot;strike&quot;,remove:&quot;all&quot;}],forecolor:{inline:&quot;span&quot;,styles:{color:&quot;%value&quot;},wrap_links:!1},hilitecolor:{inline:&quot;span&quot;,styles:{backgroundColor:&quot;%value&quot;},wrap_links:!1},fontname:{inline:&quot;span&quot;,styles:{fontFamily:&quot;%value&quot;}},fontsize:{inline:&quot;span&quot;,styles:{fontSize:&quot;%value&quot;}},fontsize_class:{inline:&quot;span&quot;,attributes:{&quot;class&quot;:&quot;%value&quot;}},blockquote:{block:&quot;blockquote&quot;,wrapper:1,remove:&quot;all&quot;},subscript:{inline:&quot;sub&quot;},superscript:{inline:&quot;sup&quot;},code:{inline:&quot;code&quot;},link:{inline:&quot;a&quot;,selector:&quot;a&quot;,remove:&quot;all&quot;,split:!0,deep:!0,onmatch:function(){return!0},onformat:function(e,t,n){nt(n,function(t,n){z.setAttrib(e,n,t)})}},removeformat:[{selector:&quot;b,strong,em,i,font,u,strike,sub,sup,dfn,code,samp,kbd,var,cite,mark,q&quot;,remove:&quot;all&quot;,split:!0,expand:!1,block_expand:!0,deep:!0},{selector:&quot;span&quot;,attributes:[&quot;style&quot;,&quot;class&quot;],remove:&quot;empty&quot;,split:!0,expand:!1,deep:!0},{selector:&quot;*&quot;,attributes:[&quot;style&quot;,&quot;class&quot;],split:!1,expand:!1,deep:!0}]}),nt(&quot;p h1 h2 h3 h4 h5 h6 div address pre div dt dd samp&quot;.split(/\s/),function(e){d(e,{block:e,remove:&quot;all&quot;})}),d(i.settings.formats)}function c(){i.addShortcut(&quot;ctrl+b&quot;,&quot;bold_desc&quot;,&quot;Bold&quot;),i.addShortcut(&quot;ctrl+i&quot;,&quot;italic_desc&quot;,&quot;Italic&quot;),i.addShortcut(&quot;ctrl+u&quot;,&quot;underline_desc&quot;,&quot;Underline&quot;);for(var e=1;6&gt;=e;e++)i.addShortcut(&quot;ctrl+&quot;+e,&quot;&quot;,[&quot;FormatBlock&quot;,!1,&quot;h&quot;+e]);i.addShortcut(&quot;ctrl+7&quot;,&quot;&quot;,[&quot;FormatBlock&quot;,!1,&quot;p&quot;]),i.addShortcut(&quot;ctrl+8&quot;,&quot;&quot;,[&quot;FormatBlock&quot;,!1,&quot;div&quot;]),i.addShortcut(&quot;ctrl+9&quot;,&quot;&quot;,[&quot;FormatBlock&quot;,!1,&quot;address&quot;])}function u(e){return e?F[e]:F}function d(e,t){e&amp;&amp;(&quot;string&quot;!=typeof e?nt(e,function(e,t){d(t,e)}):(t=t.length?t:[t],nt(t,function(e){e.deep===Q&amp;&amp;(e.deep=!e.selector),e.split===Q&amp;&amp;(e.split=!e.selector||e.inline),e.remove===Q&amp;&amp;e.selector&amp;&amp;!e.inline&amp;&amp;(e.remove=&quot;none&quot;),e.selector&amp;&amp;e.inline&amp;&amp;(e.mixed=!0,e.block_expand=!0),&quot;string&quot;==typeof e.classes&amp;&amp;(e.classes=e.classes.split(/\s+/))}),F[e]=t))}function f(e){var t;return i.dom.getParent(e,function(e){return t=i.dom.getStyle(e,&quot;text-decoration&quot;),t&amp;&amp;&quot;none&quot;!==t}),t}function p(e){var t;1===e.nodeType&amp;&amp;e.parentNode&amp;&amp;1===e.parentNode.nodeType&amp;&amp;(t=f(e.parentNode),i.dom.getStyle(e,&quot;color&quot;)&amp;&amp;t?i.dom.setStyle(e,&quot;text-decoration&quot;,t):i.dom.getStyle(e,&quot;textdecoration&quot;)===t&amp;&amp;i.dom.setStyle(e,&quot;text-decoration&quot;,null))}function h(t,n,r){function a(e,t){if(t=t||m,e){if(t.onformat&amp;&amp;t.onformat(e,t,n,r),nt(t.styles,function(t,r){z.setStyle(e,r,k(t,n))}),t.styles){var i=z.getAttrib(e,&quot;style&quot;);i&amp;&amp;e.setAttribute(&quot;data-mce-style&quot;,i)}nt(t.attributes,function(t,r){z.setAttrib(e,r,k(t,n))}),nt(t.classes,function(t){t=k(t,n),z.hasClass(e,t)||z.addClass(e,t)})}}function l(){function t(t,n){var i=new e(n);for(r=i.current();r;r=i.prev())if(r.childNodes.length&gt;1||r==t||&quot;BR&quot;==r.tagName)return r}var n=i.selection.getRng(),o=n.startContainer,a=n.endContainer;if(o!=a&amp;&amp;0===n.endOffset){var s=t(o,a),l=3==s.nodeType?s.length:s.childNodes.length;n.setEnd(s,l)}return n}function c(e,t,n,r,i){var o=[],a=-1,s,l=-1,c=-1,u;return nt(e.childNodes,function(e,t){return&quot;UL&quot;===e.nodeName||&quot;OL&quot;===e.nodeName?(a=t,s=e,!1):void 0}),nt(e.childNodes,function(e,n){&quot;SPAN&quot;===e.nodeName&amp;&amp;&quot;bookmark&quot;==z.getAttrib(e,&quot;data-mce-type&quot;)&amp;&amp;(e.id==t.id+&quot;_start&quot;?l=n:e.id==t.id+&quot;_end&quot;&amp;&amp;(c=n))}),0&gt;=a||a&gt;l&amp;&amp;c&gt;a?(nt(rt(e.childNodes),i),0):(u=z.clone(n,Y),nt(rt(e.childNodes),function(e,t){(a&gt;l&amp;&amp;a&gt;t||l&gt;a&amp;&amp;t&gt;a)&amp;&amp;(o.push(e),e.parentNode.removeChild(e))}),a&gt;l?e.insertBefore(u,s):l&gt;a&amp;&amp;e.insertBefore(u,s.nextSibling),r.push(u),nt(o,function(e){u.appendChild(e)}),u)}function d(e,r,i){var l=[],u,d,p=!0;u=m.inline||m.block,d=z.create(u),a(d),V.walk(e,function(e){function h(e){var y,C,x,w,_;return _=p,y=e.nodeName.toLowerCase(),C=e.parentNode.nodeName.toLowerCase(),1===e.nodeType&amp;&amp;Z(e)&amp;&amp;(_=p,p=&quot;true&quot;===Z(e),w=!0),N(y,&quot;br&quot;)?(g=0,void(m.block&amp;&amp;z.remove(e))):m.wrapper&amp;&amp;v(e,t,n)?void(g=0):p&amp;&amp;!w&amp;&amp;m.block&amp;&amp;!m.wrapper&amp;&amp;o(y)&amp;&amp;U(C,u)?(e=z.rename(e,u),a(e),l.push(e),void(g=0)):m.selector&amp;&amp;(nt(f,function(t){&quot;collapsed&quot;in t&amp;&amp;t.collapsed!==b||z.is(e,t.selector)&amp;&amp;!s(e)&amp;&amp;(a(e,t),x=!0)}),!m.inline||x)?void(g=0):void(!p||w||!U(u,y)||!U(C,u)||!i&amp;&amp;3===e.nodeType&amp;&amp;1===e.nodeValue.length&amp;&amp;65279===e.nodeValue.charCodeAt(0)||s(e)||m.inline&amp;&amp;q(e)?&quot;li&quot;==y&amp;&amp;r?g=c(e,r,d,l,h):(g=0,nt(rt(e.childNodes),h),w&amp;&amp;(p=_),g=0):(g||(g=z.clone(d,Y),e.parentNode.insertBefore(g,e),l.push(g)),g.appendChild(e)))}var g;nt(e,h)}),m.wrap_links===!1&amp;&amp;nt(l,function(e){function t(e){var n,r,i;if(&quot;A&quot;===e.nodeName){for(r=z.clone(d,Y),l.push(r),i=rt(e.childNodes),n=0;n&lt;i.length;n++)r.appendChild(i[n]);e.appendChild(r)}nt(rt(e.childNodes),t)}t(e)}),nt(l,function(e){function r(e){var t=0;return nt(e.childNodes,function(e){T(e)||M(e)||t++}),t}function i(e){var t,n;return nt(e.childNodes,function(e){return 1!=e.nodeType||M(e)||s(e)?void 0:(t=e,Y)
}),t&amp;&amp;!M(t)&amp;&amp;_(t,m)&amp;&amp;(n=z.clone(t,Y),a(n),z.replace(n,e,X),z.remove(t,1)),n||e}var o;if(o=r(e),(l.length&gt;1||!q(e))&amp;&amp;0===o)return void z.remove(e,1);if(m.inline||m.wrapper){if(m.exact||1!==o||(e=i(e)),nt(f,function(t){nt(z.select(t.inline,e),function(e){var r;if(!M(e)){if(t.wrap_links===!1){r=e.parentNode;do if(&quot;A&quot;===r.nodeName)return;while(r=r.parentNode)}B(t,n,e,t.exact?e:null)}})}),v(e.parentNode,t,n))return z.remove(e,1),e=0,X;m.merge_with_parents&amp;&amp;z.getParent(e.parentNode,function(r){return v(r,t,n)?(z.remove(e,1),e=0,X):void 0}),e&amp;&amp;m.merge_siblings!==!1&amp;&amp;(e=H(L(e),e),e=H(e,L(e,X)))}})}var f=u(t),m=f[0],g,y,b=!r&amp;&amp;W.isCollapsed();if(m)if(r)r.nodeType?(y=z.createRng(),y.setStartBefore(r),y.setEndAfter(r),d(A(y,f),null,!0)):d(r,null,!0);else if(b&amp;&amp;m.inline&amp;&amp;!z.select(&quot;td.mce-item-selected,th.mce-item-selected&quot;).length)O(&quot;apply&quot;,t,n);else{var C=i.selection.getNode();$||!f[0].defaultBlock||z.getParent(C,z.isBlock)||h(f[0].defaultBlock),i.selection.setRng(l()),g=W.getBookmark(),d(A(W.getRng(X),f),g),m.styles&amp;&amp;(m.styles.color||m.styles.textDecoration)&amp;&amp;(it(C,p,&quot;childNodes&quot;),p(C)),W.moveToBookmark(g),I(W.getRng(X)),i.nodeChanged()}}function m(e,t,n){function r(e){var n,i,o,a,s;if(1===e.nodeType&amp;&amp;Z(e)&amp;&amp;(a=b,b=&quot;true&quot;===Z(e),s=!0),n=rt(e.childNodes),b&amp;&amp;!s)for(i=0,o=p.length;o&gt;i&amp;&amp;!B(p[i],t,e,e);i++);if(h.deep&amp;&amp;n.length){for(i=0,o=n.length;o&gt;i;i++)r(n[i]);s&amp;&amp;(b=a)}}function o(n){var r;return nt(a(n.parentNode).reverse(),function(n){var i;r||&quot;_start&quot;==n.id||&quot;_end&quot;==n.id||(i=v(n,e,t),i&amp;&amp;i.split!==!1&amp;&amp;(r=n))}),r}function s(e,n,r,i){var o,a,s,l,c,u;if(e){for(u=e.parentNode,o=n.parentNode;o&amp;&amp;o!=u;o=o.parentNode){for(a=z.clone(o,Y),c=0;c&lt;p.length;c++)if(B(p[c],t,a,a)){a=0;break}a&amp;&amp;(s&amp;&amp;a.appendChild(s),l||(l=a),s=a)}!i||h.mixed&amp;&amp;q(e)||(n=z.split(e,n)),s&amp;&amp;(r.parentNode.insertBefore(s,r),l.appendChild(r))}return n}function l(e){return s(o(e),e,e,!0)}function c(e){var t=z.get(e?&quot;_start&quot;:&quot;_end&quot;),n=t[e?&quot;firstChild&quot;:&quot;lastChild&quot;];return M(n)&amp;&amp;(n=n[e?&quot;firstChild&quot;:&quot;lastChild&quot;]),z.remove(t,!0),n}function d(e){var t,n,o=e.commonAncestorContainer;e=A(e,p,X),h.split&amp;&amp;(t=P(e,X),n=P(e),t!=n?(/^(TR|TH|TD)$/.test(t.nodeName)&amp;&amp;t.firstChild&amp;&amp;(t=&quot;TR&quot;==t.nodeName?t.firstChild.firstChild||t:t.firstChild||t),o&amp;&amp;/^T(HEAD|BODY|FOOT|R)$/.test(o.nodeName)&amp;&amp;/^(TH|TD)$/.test(n.nodeName)&amp;&amp;n.firstChild&amp;&amp;(n=n.firstChild||n),t=R(t,&quot;span&quot;,{id:&quot;_start&quot;,&quot;data-mce-type&quot;:&quot;bookmark&quot;}),n=R(n,&quot;span&quot;,{id:&quot;_end&quot;,&quot;data-mce-type&quot;:&quot;bookmark&quot;}),l(t),l(n),t=c(X),n=c()):t=n=l(t),e.startContainer=t.parentNode,e.startOffset=j(t),e.endContainer=n.parentNode,e.endOffset=j(n)+1),V.walk(e,function(e){nt(e,function(e){r(e),1===e.nodeType&amp;&amp;&quot;underline&quot;===i.dom.getStyle(e,&quot;text-decoration&quot;)&amp;&amp;e.parentNode&amp;&amp;&quot;underline&quot;===f(e.parentNode)&amp;&amp;B({deep:!1,exact:!0,inline:&quot;span&quot;,styles:{textDecoration:&quot;underline&quot;}},null,e)})})}var p=u(e),h=p[0],m,g,b=!0;return n?void(n.nodeType?(g=z.createRng(),g.setStartBefore(n),g.setEndAfter(n),d(g)):d(n)):void(W.isCollapsed()&amp;&amp;h.inline&amp;&amp;!z.select(&quot;td.mce-item-selected,th.mce-item-selected&quot;).length?O(&quot;remove&quot;,e,t):(m=W.getBookmark(),d(W.getRng(X)),W.moveToBookmark(m),h.inline&amp;&amp;y(e,t,W.getStart())&amp;&amp;I(W.getRng(!0)),i.nodeChanged()))}function g(e,t,n){var r=u(e);!y(e,t,n)||&quot;toggle&quot;in r[0]&amp;&amp;!r[0].toggle?h(e,t,n):m(e,t,n)}function v(e,t,n,r){function i(e,t,i){var o,a,s=t[i],l;if(t.onmatch)return t.onmatch(e,t,i);if(s)if(s.length===Q){for(o in s)if(s.hasOwnProperty(o)){if(a=&quot;attributes&quot;===i?z.getAttrib(e,o):E(e,o),r&amp;&amp;!a&amp;&amp;!t.exact)return;if((!r||t.exact)&amp;&amp;!N(a,S(k(s[o],n),o)))return}}else for(l=0;l&lt;s.length;l++)if(&quot;attributes&quot;===i?z.getAttrib(e,s[l]):E(e,s[l]))return t;return t}var o=u(t),a,s,l;if(o&amp;&amp;e)for(s=0;s&lt;o.length;s++)if(a=o[s],_(e,a)&amp;&amp;i(e,a,&quot;attributes&quot;)&amp;&amp;i(e,a,&quot;styles&quot;)){if(l=a.classes)for(s=0;s&lt;l.length;s++)if(!z.hasClass(e,l[s]))return;return a}}function y(e,t,n){function r(n){var r=z.getRoot();return n===r?!1:(n=z.getParent(n,function(n){return n.parentNode===r||!!v(n,e,t,!0)}),v(n,e,t))}var i;return n?r(n):(n=W.getNode(),r(n)?X:(i=W.getStart(),i!=n&amp;&amp;r(i)?X:Y))}function b(e,t){var n,r=[],i={};return n=W.getStart(),z.getParent(n,function(n){var o,a;for(o=0;o&lt;e.length;o++)a=e[o],!i[a]&amp;&amp;v(n,a,t)&amp;&amp;(i[a]=!0,r.push(a))},z.getRoot()),r}function C(e){var t=u(e),n,r,i,o,s;if(t)for(n=W.getStart(),r=a(n),o=t.length-1;o&gt;=0;o--){if(s=t[o].selector,!s||t[o].defaultBlock)return X;for(i=r.length-1;i&gt;=0;i--)if(z.is(r[i],s))return X}return Y}function x(e,t,n){var r;return J||(J={},r={},i.on(&quot;NodeChange&quot;,function(e){var t=a(e.element),n={};nt(J,function(e,i){nt(t,function(o){return v(o,i,{},e.similar)?(r[i]||(nt(e,function(e){e(!0,{node:o,format:i,parents:t})}),r[i]=e),n[i]=e,!1):void 0})}),nt(r,function(i,o){n[o]||(delete r[o],nt(i,function(n){n(!1,{node:e.element,format:o,parents:t})}))})})),nt(e.split(&quot;,&quot;),function(e){J[e]||(J[e]=[],J[e].similar=n),J[e].push(t)}),this}function w(e){return r.getCssText(i,e)}function _(e,t){return N(e,t.inline)?X:N(e,t.block)?X:t.selector?1==e.nodeType&amp;&amp;z.is(e,t.selector):void 0}function N(e,t){return e=e||&quot;&quot;,t=t||&quot;&quot;,e=&quot;&quot;+(e.nodeName||e),t=&quot;&quot;+(t.nodeName||t),e.toLowerCase()==t.toLowerCase()}function E(e,t){return S(z.getStyle(e,t),t)}function S(e,t){return(&quot;color&quot;==t||&quot;backgroundColor&quot;==t)&amp;&amp;(e=z.toHex(e)),&quot;fontWeight&quot;==t&amp;&amp;700==e&amp;&amp;(e=&quot;bold&quot;),&quot;fontFamily&quot;==t&amp;&amp;(e=e.replace(/[\&#039;\&quot;]/g,&quot;&quot;).replace(/,\s+/g,&quot;,&quot;)),&quot;&quot;+e}function k(e,t){return&quot;string&quot;!=typeof e?e=e(t):t&amp;&amp;(e=e.replace(/%(\w+)/g,function(e,n){return t[n]||e})),e}function T(e){return e&amp;&amp;3===e.nodeType&amp;&amp;/^([\t \r\n]+|)$/.test(e.nodeValue)}function R(e,t,n){var r=z.create(t,n);return e.parentNode.insertBefore(r,e),r.appendChild(e),r}function A(t,n,r){function s(e){function t(e){return&quot;BR&quot;==e.nodeName&amp;&amp;e.getAttribute(&quot;data-mce-bogus&quot;)&amp;&amp;!e.nextSibling}var r,i,o,a,s;if(r=i=e?g:y,a=e?&quot;previousSibling&quot;:&quot;nextSibling&quot;,s=z.getRoot(),3==r.nodeType&amp;&amp;!T(r)&amp;&amp;(e?v&gt;0:b&lt;r.nodeValue.length))return r;for(;;){if(!n[0].block_expand&amp;&amp;q(i))return i;for(o=i[a];o;o=o[a])if(!M(o)&amp;&amp;!T(o)&amp;&amp;!t(o))return i;if(i.parentNode==s){r=i;break}i=i.parentNode}return r}function l(e,t){for(t===Q&amp;&amp;(t=3===e.nodeType?e.length:e.childNodes.length);e&amp;&amp;e.hasChildNodes();)e=e.childNodes[t],e&amp;&amp;(t=3===e.nodeType?e.length:e.childNodes.length);return{node:e,offset:t}}function c(e){for(var t=e;t;){if(1===t.nodeType&amp;&amp;Z(t))return&quot;false&quot;===Z(t)?t:e;t=t.parentNode}return e}function u(t,n,o){function a(e,t){var n,i,a=e.nodeValue;return&quot;undefined&quot;==typeof t&amp;&amp;(t=o?a.length:0),o?(n=a.lastIndexOf(&quot; &quot;,t),i=a.lastIndexOf(&quot;\xa0&quot;,t),n=n&gt;i?n:i,-1===n||r||n++):(n=a.indexOf(&quot; &quot;,t),i=a.indexOf(&quot;\xa0&quot;,t),n=-1!==n&amp;&amp;(-1===i||i&gt;n)?n:i),n}var s,l,c,u;if(3===t.nodeType){if(c=a(t,n),-1!==c)return{container:t,offset:c};u=t}for(s=new e(t,z.getParent(t,q)||i.getBody());l=s[o?&quot;prev&quot;:&quot;next&quot;]();)if(3===l.nodeType){if(u=l,c=a(l),-1!==c)return{container:l,offset:c}}else if(q(l))break;return u?(n=o?0:u.length,{container:u,offset:n}):void 0}function d(e,r){var i,o,s,l;for(3==e.nodeType&amp;&amp;0===e.nodeValue.length&amp;&amp;e[r]&amp;&amp;(e=e[r]),i=a(e),o=0;o&lt;i.length;o++)for(s=0;s&lt;n.length;s++)if(l=n[s],!(&quot;collapsed&quot;in l&amp;&amp;l.collapsed!==t.collapsed)&amp;&amp;z.is(i[o],l.selector))return i[o];return e}function f(e,t){var r,i=z.getRoot();if(n[0].wrapper||(r=z.getParent(e,n[0].block,i)),r||(r=z.getParent(3==e.nodeType?e.parentNode:e,function(e){return e!=i&amp;&amp;o(e)})),r&amp;&amp;n[0].wrapper&amp;&amp;(r=a(r,&quot;ul,ol&quot;).reverse()[0]||r),!r)for(r=e;r[t]&amp;&amp;!q(r[t])&amp;&amp;(r=r[t],!N(r,&quot;br&quot;)););return r||e}var p,h,m,g=t.startContainer,v=t.startOffset,y=t.endContainer,b=t.endOffset;if(1==g.nodeType&amp;&amp;g.hasChildNodes()&amp;&amp;(p=g.childNodes.length-1,g=g.childNodes[v&gt;p?p:v],3==g.nodeType&amp;&amp;(v=0)),1==y.nodeType&amp;&amp;y.hasChildNodes()&amp;&amp;(p=y.childNodes.length-1,y=y.childNodes[b&gt;p?p:b-1],3==y.nodeType&amp;&amp;(b=y.nodeValue.length)),g=c(g),y=c(y),(M(g.parentNode)||M(g))&amp;&amp;(g=M(g)?g:g.parentNode,g=g.nextSibling||g,3==g.nodeType&amp;&amp;(v=0)),(M(y.parentNode)||M(y))&amp;&amp;(y=M(y)?y:y.parentNode,y=y.previousSibling||y,3==y.nodeType&amp;&amp;(b=y.length)),n[0].inline&amp;&amp;(t.collapsed&amp;&amp;(m=u(g,v,!0),m&amp;&amp;(g=m.container,v=m.offset),m=u(y,b),m&amp;&amp;(y=m.container,b=m.offset)),h=l(y,b),h.node)){for(;h.node&amp;&amp;0===h.offset&amp;&amp;h.node.previousSibling;)h=l(h.node.previousSibling);h.node&amp;&amp;h.offset&gt;0&amp;&amp;3===h.node.nodeType&amp;&amp;&quot; &quot;===h.node.nodeValue.charAt(h.offset-1)&amp;&amp;h.offset&gt;1&amp;&amp;(y=h.node,y.splitText(h.offset-1))}return(n[0].inline||n[0].block_expand)&amp;&amp;(n[0].inline&amp;&amp;3==g.nodeType&amp;&amp;0!==v||(g=s(!0)),n[0].inline&amp;&amp;3==y.nodeType&amp;&amp;b!==y.nodeValue.length||(y=s())),n[0].selector&amp;&amp;n[0].expand!==Y&amp;&amp;!n[0].inline&amp;&amp;(g=d(g,&quot;previousSibling&quot;),y=d(y,&quot;nextSibling&quot;)),(n[0].block||n[0].selector)&amp;&amp;(g=f(g,&quot;previousSibling&quot;),y=f(y,&quot;nextSibling&quot;),n[0].block&amp;&amp;(q(g)||(g=s(!0)),q(y)||(y=s()))),1==g.nodeType&amp;&amp;(v=j(g),g=g.parentNode),1==y.nodeType&amp;&amp;(b=j(y)+1,y=y.parentNode),{startContainer:g,startOffset:v,endContainer:y,endOffset:b}}function B(e,t,n,r){var i,o,a;if(!_(n,e))return Y;if(&quot;all&quot;!=e.remove)for(nt(e.styles,function(e,i){e=S(k(e,t),i),&quot;number&quot;==typeof i&amp;&amp;(i=e,r=0),(!r||N(E(r,i),e))&amp;&amp;z.setStyle(n,i,&quot;&quot;),a=1}),a&amp;&amp;&quot;&quot;===z.getAttrib(n,&quot;style&quot;)&amp;&amp;(n.removeAttribute(&quot;style&quot;),n.removeAttribute(&quot;data-mce-style&quot;)),nt(e.attributes,function(e,i){var o;if(e=k(e,t),&quot;number&quot;==typeof i&amp;&amp;(i=e,r=0),!r||N(z.getAttrib(r,i),e)){if(&quot;class&quot;==i&amp;&amp;(e=z.getAttrib(n,i),e&amp;&amp;(o=&quot;&quot;,nt(e.split(/\s+/),function(e){/mce\w+/.test(e)&amp;&amp;(o+=(o?&quot; &quot;:&quot;&quot;)+e)}),o)))return void z.setAttrib(n,i,o);&quot;class&quot;==i&amp;&amp;n.removeAttribute(&quot;className&quot;),G.test(i)&amp;&amp;n.removeAttribute(&quot;data-mce-&quot;+i),n.removeAttribute(i)}}),nt(e.classes,function(e){e=k(e,t),(!r||z.hasClass(r,e))&amp;&amp;z.removeClass(n,e)}),o=z.getAttribs(n),i=0;i&lt;o.length;i++)if(0!==o[i].nodeName.indexOf(&quot;_&quot;))return Y;return&quot;none&quot;!=e.remove?(D(n,e),X):void 0}function D(e,t){function n(e,t,n){return e=L(e,t,n),!e||&quot;BR&quot;==e.nodeName||q(e)}var r=e.parentNode,o;t.block&amp;&amp;($?r==z.getRoot()&amp;&amp;(t.list_block&amp;&amp;N(e,t.list_block)||nt(rt(e.childNodes),function(e){U($,e.nodeName.toLowerCase())?o?o.appendChild(e):(o=R(e,$),z.setAttribs(o,i.settings.forced_root_block_attrs)):o=0})):q(e)&amp;&amp;!q(r)&amp;&amp;(n(e,Y)||n(e.firstChild,X,1)||e.insertBefore(z.create(&quot;br&quot;),e.firstChild),n(e,X)||n(e.lastChild,Y,1)||e.appendChild(z.create(&quot;br&quot;)))),t.selector&amp;&amp;t.inline&amp;&amp;!N(t.inline,e)||z.remove(e,1)}function L(e,t,n){if(e)for(t=t?&quot;nextSibling&quot;:&quot;previousSibling&quot;,e=n?e:e[t];e;e=e[t])if(1==e.nodeType||!T(e))return e}function M(e){return e&amp;&amp;1==e.nodeType&amp;&amp;&quot;bookmark&quot;==e.getAttribute(&quot;data-mce-type&quot;)}function H(e,t){function n(e,t){function n(e){var t={};return nt(z.getAttribs(e),function(n){var r=n.nodeName.toLowerCase();0!==r.indexOf(&quot;_&quot;)&amp;&amp;&quot;style&quot;!==r&amp;&amp;&quot;data-mce-style&quot;!==r&amp;&amp;(t[r]=z.getAttrib(e,r))}),t}function r(e,t){var n,r;for(r in e)if(e.hasOwnProperty(r)){if(n=t[r],n===Q)return Y;if(e[r]!=n)return Y;delete t[r]}for(r in t)if(t.hasOwnProperty(r))return Y;return X}return e.nodeName!=t.nodeName?Y:r(n(e),n(t))&amp;&amp;r(z.parseStyle(z.getAttrib(e,&quot;style&quot;)),z.parseStyle(z.getAttrib(t,&quot;style&quot;)))?!M(e)&amp;&amp;!M(t):Y}function r(e,t){for(i=e;i;i=i[t]){if(3==i.nodeType&amp;&amp;0!==i.nodeValue.length)return e;if(1==i.nodeType&amp;&amp;!M(i))return i}return e}var i,o;if(e&amp;&amp;t&amp;&amp;(e=r(e,&quot;previousSibling&quot;),t=r(t,&quot;nextSibling&quot;),n(e,t))){for(i=e.nextSibling;i&amp;&amp;i!=t;)o=i,i=i.nextSibling,e.appendChild(o);return z.remove(t),nt(rt(t.childNodes),function(t){e.appendChild(t)}),e}return t}function P(t,n){var r,o,a;return r=t[n?&quot;startContainer&quot;:&quot;endContainer&quot;],o=t[n?&quot;startOffset&quot;:&quot;endOffset&quot;],1==r.nodeType&amp;&amp;(a=r.childNodes.length-1,!n&amp;&amp;o&amp;&amp;o--,r=r.childNodes[o&gt;a?a:o]),3===r.nodeType&amp;&amp;n&amp;&amp;o&gt;=r.nodeValue.length&amp;&amp;(r=new e(r,i.getBody()).next()||r),3!==r.nodeType||n||0!==o||(r=new e(r,i.getBody()).prev()||r),r}function O(t,n,r){function a(e){var t=z.create(&quot;span&quot;,{id:y,&quot;data-mce-bogus&quot;:!0,style:b?&quot;color:red&quot;:&quot;&quot;});return e&amp;&amp;t.appendChild(i.getDoc().createTextNode(K)),t}function s(e,t){for(;e;){if(3===e.nodeType&amp;&amp;e.nodeValue!==K||e.childNodes.length&gt;1)return!1;t&amp;&amp;1===e.nodeType&amp;&amp;t.push(e),e=e.firstChild}return!0}function l(e){for(;e;){if(e.id===y)return e;e=e.parentNode}}function c(t){var n;if(t)for(n=new e(t,t),t=n.current();t;t=n.next())if(3===t.nodeType)return t}function d(e,t){var n,r;if(e)r=W.getRng(!0),s(e)?(t!==!1&amp;&amp;(r.setStartBefore(e),r.setEndBefore(e)),z.remove(e)):(n=c(e),n.nodeValue.charAt(0)===K&amp;&amp;(n=n.deleteData(0,1)),z.remove(e,1)),W.setRng(r);else if(e=l(W.getStart()),!e)for(;e=z.get(y);)d(e,!1)}function f(){var e,t,i,o,s,d,f;e=W.getRng(!0),o=e.startOffset,d=e.startContainer,f=d.nodeValue,t=l(W.getStart()),t&amp;&amp;(i=c(t)),f&amp;&amp;o&gt;0&amp;&amp;o&lt;f.length&amp;&amp;/\w/.test(f.charAt(o))&amp;&amp;/\w/.test(f.charAt(o-1))?(s=W.getBookmark(),e.collapse(!0),e=A(e,u(n)),e=V.split(e),h(n,r,e),W.moveToBookmark(s)):(t&amp;&amp;i.nodeValue===K?h(n,r,t):(t=a(!0),i=t.firstChild,e.insertNode(t),o=1,h(n,r,t)),W.setCursorLocation(i,o))}function p(){var e=W.getRng(!0),t,i,s,l,c,d,f=[],p,h;for(t=e.startContainer,i=e.startOffset,c=t,3==t.nodeType&amp;&amp;((i!=t.nodeValue.length||t.nodeValue===K)&amp;&amp;(l=!0),c=c.parentNode);c;){if(v(c,n,r)){d=c;break}c.nextSibling&amp;&amp;(l=!0),f.push(c),c=c.parentNode}if(d)if(l)s=W.getBookmark(),e.collapse(!0),e=A(e,u(n),!0),e=V.split(e),m(n,r,e),W.moveToBookmark(s);else{for(h=a(),c=h,p=f.length-1;p&gt;=0;p--)c.appendChild(z.clone(f[p],!1)),c=c.firstChild;c.appendChild(z.doc.createTextNode(K)),c=c.firstChild;var g=z.getParent(d,o);g&amp;&amp;z.isEmpty(g)?d.parentNode.replaceChild(h,d):z.insertAfter(h,d),W.setCursorLocation(c,1),z.isEmpty(d)&amp;&amp;z.remove(d)}}function g(){var e;e=l(W.getStart()),e&amp;&amp;!z.isEmpty(e)&amp;&amp;it(e,function(e){1!=e.nodeType||e.id===y||z.isEmpty(e)||z.setAttrib(e,&quot;data-mce-bogus&quot;,null)},&quot;childNodes&quot;)}var y=&quot;_mce_caret&quot;,b=i.settings.caret_debug;i._hasCaretEvents||(tt=function(){var e=[],t;if(s(l(W.getStart()),e))for(t=e.length;t--;)z.setAttrib(e[t],&quot;data-mce-bogus&quot;,&quot;1&quot;)},et=function(e){var t=e.keyCode;d(),(8==t||37==t||39==t)&amp;&amp;d(l(W.getStart())),g()},i.on(&quot;SetContent&quot;,function(e){e.selection&amp;&amp;g()}),i._hasCaretEvents=!0),&quot;apply&quot;==t?f():p()}function I(t){var n=t.startContainer,r=t.startOffset,i,o,a,s,l;if(3==n.nodeType&amp;&amp;r&gt;=n.nodeValue.length&amp;&amp;(r=j(n),n=n.parentNode,i=!0),1==n.nodeType)for(s=n.childNodes,n=s[Math.min(r,s.length-1)],o=new e(n,z.getParent(n,z.isBlock)),(r&gt;s.length-1||i)&amp;&amp;o.next(),a=o.current();a;a=o.next())if(3==a.nodeType&amp;&amp;!T(a))return l=z.create(&quot;a&quot;,null,K),a.parentNode.insertBefore(l,a),t.setStart(a,0),W.setRng(t),void z.remove(l)}var F={},z=i.dom,W=i.selection,V=new t(z),U=i.schema.isValidChild,q=z.isBlock,$=i.settings.forced_root_block,j=z.nodeIndex,K=&quot;\ufeff&quot;,G=/^(src|href|style)$/,Y=!1,X=!0,J,Q,Z=z.getContentEditable,et,tt,nt=n.each,rt=n.grep,it=n.walk,ot=n.extend;ot(this,{get:u,register:d,apply:h,remove:m,toggle:g,match:y,matchAll:b,matchNode:v,canApply:C,formatChanged:x,getCssText:w}),l(),c(),i.on(&quot;BeforeGetContent&quot;,function(){tt&amp;&amp;tt()}),i.on(&quot;mouseup keydown&quot;,function(e){et&amp;&amp;et(e)})}}),r(H,[g,p],function(e,t){var n=t.trim,r;return r=new RegExp([&quot;&lt;span[^&gt;]+data-mce-bogus[^&gt;]+&gt;[\u200b\ufeff]+&lt;\\/span&gt;&quot;,&quot;&lt;div[^&gt;]+data-mce-bogus[^&gt;]+&gt;&lt;\\/div&gt;&quot;,&#039;\\s?data-mce-selected=&quot;[^&quot;]+&quot;&#039;].join(&quot;|&quot;),&quot;gi&quot;),function(t){function i(){return n(t.getContent({format:&quot;raw&quot;,no_events:1}).replace(r,&quot;&quot;))}function o(e){a.typing=!1,a.add({},e)}var a=this,s=0,l=[],c,u,d=0;return t.on(&quot;init&quot;,function(){a.add()}),t.on(&quot;BeforeExecCommand&quot;,function(e){var t=e.command;&quot;Undo&quot;!=t&amp;&amp;&quot;Redo&quot;!=t&amp;&amp;&quot;mceRepaint&quot;!=t&amp;&amp;a.beforeChange()}),t.on(&quot;ExecCommand&quot;,function(e){var t=e.command;&quot;Undo&quot;!=t&amp;&amp;&quot;Redo&quot;!=t&amp;&amp;&quot;mceRepaint&quot;!=t&amp;&amp;o(e)}),t.on(&quot;ObjectResizeStart&quot;,function(){a.beforeChange()}),t.on(&quot;SaveContent ObjectResized blur&quot;,o),t.on(&quot;DragEnd&quot;,o),t.on(&quot;KeyUp&quot;,function(n){var r=n.keyCode;(r&gt;=33&amp;&amp;36&gt;=r||r&gt;=37&amp;&amp;40&gt;=r||45==r||13==r||n.ctrlKey)&amp;&amp;(o(),t.nodeChanged()),(46==r||8==r||e.mac&amp;&amp;(91==r||93==r))&amp;&amp;t.nodeChanged(),u&amp;&amp;a.typing&amp;&amp;(t.isDirty()||(t.isNotDirty=!l[0]||i()==l[0].content,t.isNotDirty||t.fire(&quot;change&quot;,{level:l[0],lastLevel:null})),t.fire(&quot;TypingUndo&quot;),u=!1,t.nodeChanged())}),t.on(&quot;KeyDown&quot;,function(e){var t=e.keyCode;return t&gt;=33&amp;&amp;36&gt;=t||t&gt;=37&amp;&amp;40&gt;=t||45==t?void(a.typing&amp;&amp;o(e)):void((16&gt;t||t&gt;20)&amp;&amp;224!=t&amp;&amp;91!=t&amp;&amp;!a.typing&amp;&amp;(a.beforeChange(),a.typing=!0,a.add({},e),u=!0))}),t.on(&quot;MouseDown&quot;,function(e){a.typing&amp;&amp;o(e)}),t.addShortcut(&quot;ctrl+z&quot;,&quot;&quot;,&quot;Undo&quot;),t.addShortcut(&quot;ctrl+y,ctrl+shift+z&quot;,&quot;&quot;,&quot;Redo&quot;),t.on(&quot;AddUndo Undo Redo ClearUndos MouseUp&quot;,function(e){e.isDefaultPrevented()||t.nodeChanged()}),a={data:l,typing:!1,beforeChange:function(){d||(c=t.selection.getBookmark(2,!0))},add:function(e,n){var r,o=t.settings,a;if(e=e||{},e.content=i(),d||t.removed)return null;if(a=l[s],t.fire(&quot;BeforeAddUndo&quot;,{level:e,lastLevel:a,originalEvent:n}).isDefaultPrevented())return null;if(a&amp;&amp;a.content==e.content)return null;if(l[s]&amp;&amp;(l[s].beforeBookmark=c),o.custom_undo_redo_levels&amp;&amp;l.length&gt;o.custom_undo_redo_levels){for(r=0;r&lt;l.length-1;r++)l[r]=l[r+1];l.length--,s=l.length}e.bookmark=t.selection.getBookmark(2,!0),s&lt;l.length-1&amp;&amp;(l.length=s+1),l.push(e),s=l.length-1;var u={level:e,lastLevel:a,originalEvent:n};return t.fire(&quot;AddUndo&quot;,u),s&gt;0&amp;&amp;(t.isNotDirty=!1,t.fire(&quot;change&quot;,u)),e},undo:function(){var e;return a.typing&amp;&amp;(a.add(),a.typing=!1),s&gt;0&amp;&amp;(e=l[--s],0===s&amp;&amp;(t.isNotDirty=!0),t.setContent(e.content,{format:&quot;raw&quot;}),t.selection.moveToBookmark(e.beforeBookmark),t.fire(&quot;undo&quot;,{level:e})),e},redo:function(){var e;return s&lt;l.length-1&amp;&amp;(e=l[++s],t.setContent(e.content,{format:&quot;raw&quot;}),t.selection.moveToBookmark(e.bookmark),t.fire(&quot;redo&quot;,{level:e})),e},clear:function(){l=[],s=0,a.typing=!1,t.fire(&quot;ClearUndos&quot;)},hasUndo:function(){return s&gt;0||a.typing&amp;&amp;l[0]&amp;&amp;i()!=l[0].content},hasRedo:function(){return s&lt;l.length-1&amp;&amp;!this.typing},transact:function(e){a.beforeChange();try{d++,e()}finally{d--}a.add()}}}}),r(P,[f,B,g],function(e,t,n){var r=n.ie&amp;&amp;n.ie&lt;11;return function(i){function o(o){function f(e){return e&amp;&amp;a.isBlock(e)&amp;&amp;!/^(TD|TH|CAPTION|FORM)$/.test(e.nodeName)&amp;&amp;!/^(fixed|absolute)/i.test(e.style.position)&amp;&amp;&quot;true&quot;!==a.getContentEditable(e)}function p(e){var t;a.isBlock(e)&amp;&amp;(t=s.getRng(),e.appendChild(a.create(&quot;span&quot;,null,&quot;\xa0&quot;)),s.select(e),e.lastChild.outerHTML=&quot;&quot;,s.setRng(t))}function h(e){for(var t=e,n=[],r;t=t.firstChild;){if(a.isBlock(t))return;1!=t.nodeType||d[t.nodeName.toLowerCase()]||n.push(t)}for(r=n.length;r--;)t=n[r],!t.hasChildNodes()||t.firstChild==t.lastChild&amp;&amp;&quot;&quot;===t.firstChild.nodeValue?a.remove(t):&quot;A&quot;==t.nodeName&amp;&amp;&quot; &quot;===(t.innerText||t.textContent)&amp;&amp;a.remove(t)}function m(t){function r(e){for(;e;){if(1==e.nodeType||3==e.nodeType&amp;&amp;e.data&amp;&amp;/[\r\n\s]/.test(e.data))return e;e=e.nextSibling}}var i,o,l,c=t,u;if(n.ie&amp;&amp;n.ie&lt;9&amp;&amp;B&amp;&amp;B.firstChild&amp;&amp;B.firstChild==B.lastChild&amp;&amp;&quot;BR&quot;==B.firstChild.tagName&amp;&amp;a.remove(B.firstChild),&quot;LI&quot;==t.nodeName){var f=r(t.firstChild);f&amp;&amp;/^(UL|OL)$/.test(f.nodeName)&amp;&amp;t.insertBefore(a.doc.createTextNode(&quot;\xa0&quot;),t.firstChild)}if(l=a.createRng(),t.hasChildNodes()){for(i=new e(t,t);o=i.current();){if(3==o.nodeType){l.setStart(o,0),l.setEnd(o,0);break}if(d[o.nodeName.toLowerCase()]){l.setStartBefore(o),l.setEndBefore(o);break}c=o,o=i.next()}o||(l.setStart(c,0),l.setEnd(c,0))}else&quot;BR&quot;==t.nodeName?t.nextSibling&amp;&amp;a.isBlock(t.nextSibling)?((!D||9&gt;D)&amp;&amp;(u=a.create(&quot;br&quot;),t.parentNode.insertBefore(u,t)),l.setStartBefore(t),l.setEndBefore(t)):(l.setStartAfter(t),l.setEndAfter(t)):(l.setStart(t,0),l.setEnd(t,0));s.setRng(l),a.remove(u),s.scrollIntoView(t)}function g(e){var t=l.forced_root_block;t&amp;&amp;t.toLowerCase()===e.tagName.toLowerCase()&amp;&amp;a.setAttribs(e,l.forced_root_block_attrs)}function v(e){var t=R,n,i,o;if(e||&quot;TABLE&quot;==O?(n=a.create(e||F),g(n)):n=B.cloneNode(!1),o=n,l.keep_styles!==!1)do if(/^(SPAN|STRONG|B|EM|I|FONT|STRIKE|U|VAR|CITE|DFN|CODE|MARK|Q|SUP|SUB|SAMP)$/.test(t.nodeName)){if(&quot;_mce_caret&quot;==t.id)continue;i=t.cloneNode(!1),a.setAttrib(i,&quot;id&quot;,&quot;&quot;),n.hasChildNodes()?(i.appendChild(n.firstChild),n.appendChild(i)):(o=i,n.appendChild(i))}while(t=t.parentNode);return r||(o.innerHTML=&#039;&lt;br data-mce-bogus=&quot;1&quot;&gt;&#039;),n}function y(t){var n,r,i;if(3==R.nodeType&amp;&amp;(t?A&gt;0:A&lt;R.nodeValue.length))return!1;if(R.parentNode==B&amp;&amp;z&amp;&amp;!t)return!0;if(t&amp;&amp;1==R.nodeType&amp;&amp;R==B.firstChild)return!0;if(&quot;TABLE&quot;===R.nodeName||R.previousSibling&amp;&amp;&quot;TABLE&quot;==R.previousSibling.nodeName)return z&amp;&amp;!t||!z&amp;&amp;t;for(n=new e(R,B),3==R.nodeType&amp;&amp;(t&amp;&amp;0===A?n.prev():t||A!=R.nodeValue.length||n.next());r=n.current();){if(1===r.nodeType){if(!r.getAttribute(&quot;data-mce-bogus&quot;)&amp;&amp;(i=r.nodeName.toLowerCase(),d[i]&amp;&amp;&quot;br&quot;!==i))return!1}else if(3===r.nodeType&amp;&amp;!/^[ \t\r\n]*$/.test(r.nodeValue))return!1;t?n.prev():n.next()}return!0}function b(e,t){var n,r,o,s,l,c,d=F||&quot;P&quot;;if(r=a.getParent(e,a.isBlock),c=i.getBody().nodeName.toLowerCase(),!r||!f(r)){if(r=r||T,!r.hasChildNodes())return n=a.create(d),g(n),r.appendChild(n),S.setStart(n,0),S.setEnd(n,0),n;for(s=e;s.parentNode!=r;)s=s.parentNode;for(;s&amp;&amp;!a.isBlock(s);)o=s,s=s.previousSibling;if(o&amp;&amp;u.isValidChild(c,d.toLowerCase())){for(n=a.create(d),g(n),o.parentNode.insertBefore(n,o),s=o;s&amp;&amp;!a.isBlock(s);)l=s.nextSibling,n.appendChild(s),s=l;S.setStart(e,t),S.setEnd(e,t)}}return e}function C(){function e(e){for(var t=P[e?&quot;firstChild&quot;:&quot;lastChild&quot;];t&amp;&amp;1!=t.nodeType;)t=t[e?&quot;nextSibling&quot;:&quot;previousSibling&quot;];return t===B}function t(){var e=P.parentNode;return&quot;LI&quot;==e.nodeName?e:P}var n=P.parentNode.nodeName;/^(OL|UL|LI)$/.test(n)&amp;&amp;(F=&quot;LI&quot;),M=F?v(F):a.create(&quot;BR&quot;),e(!0)&amp;&amp;e()?&quot;LI&quot;==n?a.insertAfter(M,t()):a.replace(M,P):e(!0)?&quot;LI&quot;==n?(a.insertAfter(M,t()),M.appendChild(a.doc.createTextNode(&quot; &quot;)),M.appendChild(P)):P.parentNode.insertBefore(M,P):e()?(a.insertAfter(M,t()),p(M)):(P=t(),k=S.cloneRange(),k.setStartAfter(B),k.setEndAfter(P),H=k.extractContents(),&quot;LI&quot;==F&amp;&amp;&quot;LI&quot;==H.firstChild.nodeName?(M=H.firstChild,a.insertAfter(H,P)):(a.insertAfter(H,P),a.insertAfter(M,P))),a.remove(B),m(M),c.add()}function x(){for(var t=new e(R,B),n;n=t.next();)if(d[n.nodeName.toLowerCase()]||n.length&gt;0)return!0}function w(){var e,t,n;R&amp;&amp;3==R.nodeType&amp;&amp;A&gt;=R.nodeValue.length&amp;&amp;(r||x()||(e=a.create(&quot;br&quot;),S.insertNode(e),S.setStartAfter(e),S.setEndAfter(e),t=!0)),e=a.create(&quot;br&quot;),S.insertNode(e),r&amp;&amp;&quot;PRE&quot;==O&amp;&amp;(!D||8&gt;D)&amp;&amp;e.parentNode.insertBefore(a.doc.createTextNode(&quot;\r&quot;),e),n=a.create(&quot;span&quot;,{},&quot;&amp;nbsp;&quot;),e.parentNode.insertBefore(n,e),s.scrollIntoView(n),a.remove(n),t?(S.setStartBefore(e),S.setEndBefore(e)):(S.setStartAfter(e),S.setEndAfter(e)),s.setRng(S),c.add()}function _(e){do 3===e.nodeType&amp;&amp;(e.nodeValue=e.nodeValue.replace(/^[\r\n]+/,&quot;&quot;)),e=e.firstChild;while(e)}function N(e){var t=a.getRoot(),n,r;for(n=e;n!==t&amp;&amp;&quot;false&quot;!==a.getContentEditable(n);)&quot;true&quot;===a.getContentEditable(n)&amp;&amp;(r=n),n=n.parentNode;return n!==t?r:t}function E(e){var t;r||(e.normalize(),t=e.lastChild,(!t||/^(left|right)$/gi.test(a.getStyle(t,&quot;float&quot;,!0)))&amp;&amp;a.add(e,&quot;br&quot;))}var S,k,T,R,A,B,D,L,M,H,P,O,I,F,z;if(S=s.getRng(!0),!o.isDefaultPrevented()){if(!S.collapsed)return void i.execCommand(&quot;Delete&quot;);if(new t(a).normalize(S),R=S.startContainer,A=S.startOffset,F=(l.force_p_newlines?&quot;p&quot;:&quot;&quot;)||l.forced_root_block,F=F?F.toUpperCase():&quot;&quot;,D=a.doc.documentMode,L=o.shiftKey,1==R.nodeType&amp;&amp;R.hasChildNodes()&amp;&amp;(z=A&gt;R.childNodes.length-1,R=R.childNodes[Math.min(A,R.childNodes.length-1)]||R,A=z&amp;&amp;3==R.nodeType?R.nodeValue.length:0),T=N(R)){if(c.beforeChange(),!a.isBlock(T)&amp;&amp;T!=a.getRoot())return void((!F||L)&amp;&amp;w());if((F&amp;&amp;!L||!F&amp;&amp;L)&amp;&amp;(R=b(R,A)),B=a.getParent(R,a.isBlock),P=B?a.getParent(B.parentNode,a.isBlock):null,O=B?B.nodeName.toUpperCase():&quot;&quot;,I=P?P.nodeName.toUpperCase():&quot;&quot;,&quot;LI&quot;!=I||o.ctrlKey||(B=P,O=I),&quot;LI&quot;==O){if(!F&amp;&amp;L)return void w();if(a.isEmpty(B))return void C()}if(&quot;PRE&quot;==O&amp;&amp;l.br_in_pre!==!1){if(!L)return void w()}else if(!F&amp;&amp;!L&amp;&amp;&quot;LI&quot;!=O||F&amp;&amp;L)return void w();F&amp;&amp;B===i.getBody()||(F=F||&quot;P&quot;,y()?(M=/^(H[1-6]|PRE|FIGURE)$/.test(O)&amp;&amp;&quot;HGROUP&quot;!=I?v(F):v(),l.end_container_on_empty_block&amp;&amp;f(P)&amp;&amp;a.isEmpty(B)?M=a.split(P,B):a.insertAfter(M,B),m(M)):y(!0)?(M=B.parentNode.insertBefore(v(),B),p(M),m(B)):(k=S.cloneRange(),k.setEndAfter(B),H=k.extractContents(),_(H),M=H.firstChild,a.insertAfter(H,B),h(M),E(B),m(M)),a.setAttrib(M,&quot;id&quot;,&quot;&quot;),i.fire(&quot;NewBlock&quot;,{newBlock:M}),c.add())}}}var a=i.dom,s=i.selection,l=i.settings,c=i.undoManager,u=i.schema,d=u.getNonEmptyElements();i.on(&quot;keydown&quot;,function(e){13==e.keyCode&amp;&amp;o(e)!==!1&amp;&amp;e.preventDefault()})}}),r(O,[],function(){return function(e){function t(){var t=i.getStart(),s=e.getBody(),l,c,u,d,f,p,h,m=-16777215,g,v,y,b,C;if(C=n.forced_root_block,t&amp;&amp;1===t.nodeType&amp;&amp;C){for(;t&amp;&amp;t!=s;){if(a[t.nodeName])return;t=t.parentNode}if(l=i.getRng(),l.setStart){c=l.startContainer,u=l.startOffset,d=l.endContainer,f=l.endOffset;try{v=e.getDoc().activeElement===s}catch(x){}}else l.item&amp;&amp;(t=l.item(0),l=e.getDoc().body.createTextRange(),l.moveToElementText(t)),v=l.parentElement().ownerDocument===e.getDoc(),y=l.duplicate(),y.collapse(!0),u=-1*y.move(&quot;character&quot;,m),y.collapsed||(y=l.duplicate(),y.collapse(!1),f=-1*y.move(&quot;character&quot;,m)-u);for(t=s.firstChild,b=s.nodeName.toLowerCase();t;)if((3===t.nodeType||1==t.nodeType&amp;&amp;!a[t.nodeName])&amp;&amp;o.isValidChild(b,C.toLowerCase())){if(3===t.nodeType&amp;&amp;0===t.nodeValue.length){h=t,t=t.nextSibling,r.remove(h);continue}p||(p=r.create(C,e.settings.forced_root_block_attrs),t.parentNode.insertBefore(p,t),g=!0),h=t,t=t.nextSibling,p.appendChild(h)}else p=null,t=t.nextSibling;if(g&amp;&amp;v){if(l.setStart)l.setStart(c,u),l.setEnd(d,f),i.setRng(l);else try{l=e.getDoc().body.createTextRange(),l.moveToElementText(s),l.collapse(!0),l.moveStart(&quot;character&quot;,u),f&gt;0&amp;&amp;l.moveEnd(&quot;character&quot;,f),l.select()}catch(x){}e.nodeChanged()}}}var n=e.settings,r=e.dom,i=e.selection,o=e.schema,a=o.getBlockElements();n.forced_root_block&amp;&amp;e.on(&quot;NodeChange&quot;,t)}}),r(I,[S,g,p],function(e,n,r){var i=r.each,o=r.extend,a=r.map,s=r.inArray,l=r.explode,c=n.gecko,u=n.ie,d=!0,f=!1;return function(r){function p(e,t,n){var r;return e=e.toLowerCase(),(r=N.exec[e])?(r(e,t,n),d):f}function h(e){var t;return e=e.toLowerCase(),(t=N.state[e])?t(e):-1}function m(e){var t;return e=e.toLowerCase(),(t=N.value[e])?t(e):f}function g(e,t){t=t||&quot;exec&quot;,i(e,function(e,n){i(n.toLowerCase().split(&quot;,&quot;),function(n){N[t][n]=e})})}function v(e,n,i){return n===t&amp;&amp;(n=f),i===t&amp;&amp;(i=null),r.getDoc().execCommand(e,n,i)}function y(e){return S.match(e)}function b(e,n){S.toggle(e,n?{value:n}:t),r.nodeChanged()}function C(e){k=_.getBookmark(e)}function x(){_.moveToBookmark(k)}var w=r.dom,_=r.selection,N={state:{},exec:{},value:{}},E=r.settings,S=r.formatter,k;o(this,{execCommand:p,queryCommandState:h,queryCommandValue:m,addCommands:g}),g({&quot;mceResetDesignMode,mceBeginUndoLevel&quot;:function(){},&quot;mceEndUndoLevel,mceAddUndoLevel&quot;:function(){r.undoManager.add()},&quot;Cut,Copy,Paste&quot;:function(e){var t=r.getDoc(),i;try{v(e)}catch(o){i=d}if(i||!t.queryCommandSupported(e)){var a=r.translate(&quot;Your browser doesn&#039;t support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.&quot;);n.mac&amp;&amp;(a=a.replace(/Ctrl\+/g,&quot;\u2318+&quot;)),r.windowManager.alert(a)}},unlink:function(){if(_.isCollapsed()){var e=_.getNode();return void(&quot;A&quot;==e.tagName&amp;&amp;r.dom.remove(e,!0))}S.remove(&quot;link&quot;)},&quot;JustifyLeft,JustifyCenter,JustifyRight,JustifyFull&quot;:function(e){var t=e.substring(7);&quot;full&quot;==t&amp;&amp;(t=&quot;justify&quot;),i(&quot;left,center,right,justify&quot;.split(&quot;,&quot;),function(e){t!=e&amp;&amp;S.remove(&quot;align&quot;+e)}),b(&quot;align&quot;+t),p(&quot;mceRepaint&quot;)},&quot;InsertUnorderedList,InsertOrderedList&quot;:function(e){var t,n;v(e),t=w.getParent(_.getNode(),&quot;ol,ul&quot;),t&amp;&amp;(n=t.parentNode,/^(H[1-6]|P|ADDRESS|PRE)$/.test(n.nodeName)&amp;&amp;(C(),w.split(n,t),x()))},&quot;Bold,Italic,Underline,Strikethrough,Superscript,Subscript&quot;:function(e){b(e)},&quot;ForeColor,HiliteColor,FontName&quot;:function(e,t,n){b(e,n)},FontSize:function(e,t,n){var r,i;n&gt;=1&amp;&amp;7&gt;=n&amp;&amp;(i=l(E.font_size_style_values),r=l(E.font_size_classes),n=r?r[n-1]||n:i[n-1]||n),b(e,n)},RemoveFormat:function(e){S.remove(e)},mceBlockQuote:function(){b(&quot;blockquote&quot;)},FormatBlock:function(e,t,n){return b(n||&quot;p&quot;)},mceCleanup:function(){var e=_.getBookmark();r.setContent(r.getContent({cleanup:d}),{cleanup:d}),_.moveToBookmark(e)},mceRemoveNode:function(e,t,n){var i=n||_.getNode();i!=r.getBody()&amp;&amp;(C(),r.dom.remove(i,d),x())},mceSelectNodeDepth:function(e,t,n){var i=0;w.getParent(_.getNode(),function(e){return 1==e.nodeType&amp;&amp;i++==n?(_.select(e),f):void 0},r.getBody())},mceSelectNode:function(e,t,n){_.select(n)},mceInsertContent:function(t,n,i){function o(e){function t(e){return r[e]&amp;&amp;3==r[e].nodeType}var n,r,i;return n=_.getRng(!0),r=n.startContainer,i=n.startOffset,3==r.nodeType&amp;&amp;(i&gt;0?e=e.replace(/^&amp;nbsp;/,&quot; &quot;):t(&quot;previousSibling&quot;)||(e=e.replace(/^ /,&quot;&amp;nbsp;&quot;)),i&lt;r.length?e=e.replace(/&amp;nbsp;(&lt;br&gt;|)$/,&quot; &quot;):t(&quot;nextSibling&quot;)||(e=e.replace(/(&amp;nbsp;| )(&lt;br&gt;|)$/,&quot;&amp;nbsp;&quot;))),e}var a,s,l,c,d,f,p,h,m,g,v;/^ | $/.test(i)&amp;&amp;(i=o(i)),a=r.parser,s=new e({},r.schema),v=&#039;&lt;span id=&quot;mce_marker&quot; data-mce-type=&quot;bookmark&quot;&gt;&amp;#xFEFF;&amp;#200B;&lt;/span&gt;&#039;,f={content:i,format:&quot;html&quot;,selection:!0},r.fire(&quot;BeforeSetContent&quot;,f),i=f.content,-1==i.indexOf(&quot;{$caret}&quot;)&amp;&amp;(i+=&quot;{$caret}&quot;),i=i.replace(/\{\$caret\}/,v),h=_.getRng();var y=h.startContainer||(h.parentElement?h.parentElement():null),b=r.getBody();y===b&amp;&amp;_.isCollapsed()&amp;&amp;w.isBlock(b.firstChild)&amp;&amp;w.isEmpty(b.firstChild)&amp;&amp;(h=w.createRng(),h.setStart(b.firstChild,0),h.setEnd(b.firstChild,0),_.setRng(h)),_.isCollapsed()||r.getDoc().execCommand(&quot;Delete&quot;,!1,null),l=_.getNode();var C={context:l.nodeName.toLowerCase()};if(d=a.parse(i,C),m=d.lastChild,&quot;mce_marker&quot;==m.attr(&quot;id&quot;))for(p=m,m=m.prev;m;m=m.walk(!0))if(3==m.type||!w.isBlock(m.name)){m.parent.insert(p,m,&quot;br&quot;===m.name);break}if(C.invalid){for(_.setContent(v),l=_.getNode(),c=r.getBody(),9==l.nodeType?l=m=c:m=l;m!==c;)l=m,m=m.parentNode;i=l==c?c.innerHTML:w.getOuterHTML(l),i=s.serialize(a.parse(i.replace(/&lt;span (id=&quot;mce_marker&quot;|id=mce_marker).+?&lt;\/span&gt;/i,function(){return s.serialize(d)}))),l==c?w.setHTML(c,i):w.setOuterHTML(l,i)}else i=s.serialize(d),m=l.firstChild,g=l.lastChild,!m||m===g&amp;&amp;&quot;BR&quot;===m.nodeName?w.setHTML(l,i):_.setContent(i);p=w.get(&quot;mce_marker&quot;),_.scrollIntoView(p),h=w.createRng(),m=p.previousSibling,m&amp;&amp;3==m.nodeType?(h.setStart(m,m.nodeValue.length),u||(g=p.nextSibling,g&amp;&amp;3==g.nodeType&amp;&amp;(m.appendData(g.data),g.parentNode.removeChild(g)))):(h.setStartBefore(p),h.setEndBefore(p)),w.remove(p),_.setRng(h),r.fire(&quot;SetContent&quot;,f),r.addVisual()},mceInsertRawHTML:function(e,t,n){_.setContent(&quot;tiny_mce_marker&quot;),r.setContent(r.getContent().replace(/tiny_mce_marker/g,function(){return n}))},mceToggleFormat:function(e,t,n){b(n)},mceSetContent:function(e,t,n){r.setContent(n)},&quot;Indent,Outdent&quot;:function(e){var t,n,o;t=E.indentation,n=/[a-z%]+$/i.exec(t),t=parseInt(t,10),h(&quot;InsertUnorderedList&quot;)||h(&quot;InsertOrderedList&quot;)?v(e):(E.forced_root_block||w.getParent(_.getNode(),w.isBlock)||S.apply(&quot;div&quot;),i(_.getSelectedBlocks(),function(i){if(&quot;LI&quot;!=i.nodeName){var a=r.getParam(&quot;indent_use_margin&quot;,!1)?&quot;margin&quot;:&quot;padding&quot;;a+=&quot;rtl&quot;==w.getStyle(i,&quot;direction&quot;,!0)?&quot;Right&quot;:&quot;Left&quot;,&quot;outdent&quot;==e?(o=Math.max(0,parseInt(i.style[a]||0,10)-t),w.setStyle(i,a,o?o+n:&quot;&quot;)):(o=parseInt(i.style[a]||0,10)+t+n,w.setStyle(i,a,o))}}))},mceRepaint:function(){if(c)try{C(d),_.getSel()&amp;&amp;_.getSel().selectAllChildren(r.getBody()),_.collapse(d),x()}catch(e){}},InsertHorizontalRule:function(){r.execCommand(&quot;mceInsertContent&quot;,!1,&quot;&lt;hr /&gt;&quot;)},mceToggleVisualAid:function(){r.hasVisual=!r.hasVisual,r.addVisual()},mceReplaceContent:function(e,t,n){r.execCommand(&quot;mceInsertContent&quot;,!1,n.replace(/\{\$selection\}/g,_.getContent({format:&quot;text&quot;})))},mceInsertLink:function(e,t,n){var r;&quot;string&quot;==typeof n&amp;&amp;(n={href:n}),r=w.getParent(_.getNode(),&quot;a&quot;),n.href=n.href.replace(&quot; &quot;,&quot;%20&quot;),r&amp;&amp;n.href||S.remove(&quot;link&quot;),n.href&amp;&amp;S.apply(&quot;link&quot;,n,r)},selectAll:function(){var e=w.getRoot(),t;_.getRng().setStart?(t=w.createRng(),t.setStart(e,0),t.setEnd(e,e.childNodes.length),_.setRng(t)):(t=_.getRng(),t.item||(t.moveToElementText(e),t.select()))},&quot;delete&quot;:function(){v(&quot;Delete&quot;);var e=r.getBody();w.isEmpty(e)&amp;&amp;(r.setContent(&quot;&quot;),e.firstChild&amp;&amp;w.isBlock(e.firstChild)?r.selection.setCursorLocation(e.firstChild,0):r.selection.setCursorLocation(e,0))},mceNewDocument:function(){r.setContent(&quot;&quot;)}}),g({&quot;JustifyLeft,JustifyCenter,JustifyRight,JustifyFull&quot;:function(e){var t=&quot;align&quot;+e.substring(7),n=_.isCollapsed()?[w.getParent(_.getNode(),w.isBlock)]:_.getSelectedBlocks(),r=a(n,function(e){return!!S.matchNode(e,t)});return-1!==s(r,d)},&quot;Bold,Italic,Underline,Strikethrough,Superscript,Subscript&quot;:function(e){return y(e)},mceBlockQuote:function(){return y(&quot;blockquote&quot;)},Outdent:function(){var e;if(E.inline_styles){if((e=w.getParent(_.getStart(),w.isBlock))&amp;&amp;parseInt(e.style.paddingLeft,10)&gt;0)return d;if((e=w.getParent(_.getEnd(),w.isBlock))&amp;&amp;parseInt(e.style.paddingLeft,10)&gt;0)return d
}return h(&quot;InsertUnorderedList&quot;)||h(&quot;InsertOrderedList&quot;)||!E.inline_styles&amp;&amp;!!w.getParent(_.getNode(),&quot;BLOCKQUOTE&quot;)},&quot;InsertUnorderedList,InsertOrderedList&quot;:function(e){var t=w.getParent(_.getNode(),&quot;ul,ol&quot;);return t&amp;&amp;(&quot;insertunorderedlist&quot;===e&amp;&amp;&quot;UL&quot;===t.tagName||&quot;insertorderedlist&quot;===e&amp;&amp;&quot;OL&quot;===t.tagName)}},&quot;state&quot;),g({&quot;FontSize,FontName&quot;:function(e){var t=0,n;return(n=w.getParent(_.getNode(),&quot;span&quot;))&amp;&amp;(t=&quot;fontsize&quot;==e?n.style.fontSize:n.style.fontFamily.replace(/, /g,&quot;,&quot;).replace(/[\&#039;\&quot;]/g,&quot;&quot;).toLowerCase()),t}},&quot;value&quot;),g({Undo:function(){r.undoManager.undo()},Redo:function(){r.undoManager.redo()}})}}),r(F,[p],function(e){function t(e,i){var o=this,a,s;if(e=r(e),i=o.settings=i||{},/^([\w\-]+):([^\/]{2})/i.test(e)||/^\s*#/.test(e))return void(o.source=e);var l=0===e.indexOf(&quot;//&quot;);0!==e.indexOf(&quot;/&quot;)||l||(e=(i.base_uri?i.base_uri.protocol||&quot;http&quot;:&quot;http&quot;)+&quot;://mce_host&quot;+e),/^[\w\-]*:?\/\//.test(e)||(s=i.base_uri?i.base_uri.path:new t(location.href).directory,e=&quot;&quot;===i.base_uri.protocol?&quot;//mce_host&quot;+o.toAbsPath(s,e):(i.base_uri&amp;&amp;i.base_uri.protocol||&quot;http&quot;)+&quot;://mce_host&quot;+o.toAbsPath(s,e)),e=e.replace(/@@/g,&quot;(mce_at)&quot;),e=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(e),n([&quot;source&quot;,&quot;protocol&quot;,&quot;authority&quot;,&quot;userInfo&quot;,&quot;user&quot;,&quot;password&quot;,&quot;host&quot;,&quot;port&quot;,&quot;relative&quot;,&quot;path&quot;,&quot;directory&quot;,&quot;file&quot;,&quot;query&quot;,&quot;anchor&quot;],function(t,n){var r=e[n];r&amp;&amp;(r=r.replace(/\(mce_at\)/g,&quot;@@&quot;)),o[t]=r}),a=i.base_uri,a&amp;&amp;(o.protocol||(o.protocol=a.protocol),o.userInfo||(o.userInfo=a.userInfo),o.port||&quot;mce_host&quot;!==o.host||(o.port=a.port),o.host&amp;&amp;&quot;mce_host&quot;!==o.host||(o.host=a.host),o.source=&quot;&quot;),l&amp;&amp;(o.protocol=&quot;&quot;)}var n=e.each,r=e.trim,i={ftp:21,http:80,https:443,mailto:25};return t.prototype={setPath:function(e){var t=this;e=/^(.*?)\/?(\w+)?$/.exec(e),t.path=e[0],t.directory=e[1],t.file=e[2],t.source=&quot;&quot;,t.getURI()},toRelative:function(e){var n=this,r;if(&quot;./&quot;===e)return e;if(e=new t(e,{base_uri:n}),&quot;mce_host&quot;!=e.host&amp;&amp;n.host!=e.host&amp;&amp;e.host||n.port!=e.port||n.protocol!=e.protocol&amp;&amp;&quot;&quot;!==e.protocol)return e.getURI();var i=n.getURI(),o=e.getURI();return i==o||&quot;/&quot;==i.charAt(i.length-1)&amp;&amp;i.substr(0,i.length-1)==o?i:(r=n.toRelPath(n.path,e.path),e.query&amp;&amp;(r+=&quot;?&quot;+e.query),e.anchor&amp;&amp;(r+=&quot;#&quot;+e.anchor),r)},toAbsolute:function(e,n){return e=new t(e,{base_uri:this}),e.getURI(n&amp;&amp;this.isSameOrigin(e))},isSameOrigin:function(e){if(this.host==e.host&amp;&amp;this.protocol==e.protocol){if(this.port==e.port)return!0;var t=i[this.protocol];if(t&amp;&amp;(this.port||t)==(e.port||t))return!0}return!1},toRelPath:function(e,t){var n,r=0,i=&quot;&quot;,o,a;if(e=e.substring(0,e.lastIndexOf(&quot;/&quot;)),e=e.split(&quot;/&quot;),n=t.split(&quot;/&quot;),e.length&gt;=n.length)for(o=0,a=e.length;a&gt;o;o++)if(o&gt;=n.length||e[o]!=n[o]){r=o+1;break}if(e.length&lt;n.length)for(o=0,a=n.length;a&gt;o;o++)if(o&gt;=e.length||e[o]!=n[o]){r=o+1;break}if(1===r)return t;for(o=0,a=e.length-(r-1);a&gt;o;o++)i+=&quot;../&quot;;for(o=r-1,a=n.length;a&gt;o;o++)i+=o!=r-1?&quot;/&quot;+n[o]:n[o];return i},toAbsPath:function(e,t){var r,i=0,o=[],a,s;for(a=/\/$/.test(t)?&quot;/&quot;:&quot;&quot;,e=e.split(&quot;/&quot;),t=t.split(&quot;/&quot;),n(e,function(e){e&amp;&amp;o.push(e)}),e=o,r=t.length-1,o=[];r&gt;=0;r--)0!==t[r].length&amp;&amp;&quot;.&quot;!==t[r]&amp;&amp;(&quot;..&quot;!==t[r]?i&gt;0?i--:o.push(t[r]):i++);return r=e.length-i,s=0&gt;=r?o.reverse().join(&quot;/&quot;):e.slice(0,r).join(&quot;/&quot;)+&quot;/&quot;+o.reverse().join(&quot;/&quot;),0!==s.indexOf(&quot;/&quot;)&amp;&amp;(s=&quot;/&quot;+s),a&amp;&amp;s.lastIndexOf(&quot;/&quot;)!==s.length-1&amp;&amp;(s+=a),s},getURI:function(e){var t,n=this;return(!n.source||e)&amp;&amp;(t=&quot;&quot;,e||(t+=n.protocol?n.protocol+&quot;://&quot;:&quot;//&quot;,n.userInfo&amp;&amp;(t+=n.userInfo+&quot;@&quot;),n.host&amp;&amp;(t+=n.host),n.port&amp;&amp;(t+=&quot;:&quot;+n.port)),n.path&amp;&amp;(t+=n.path),n.query&amp;&amp;(t+=&quot;?&quot;+n.query),n.anchor&amp;&amp;(t+=&quot;#&quot;+n.anchor),n.source=t),n.source}},t}),r(z,[p],function(e){function t(){}var n=e.each,r=e.extend,i,o;return t.extend=i=function(e){function t(){var e,t,n,r=this;if(!o&amp;&amp;(r.init&amp;&amp;r.init.apply(r,arguments),t=r.Mixins))for(e=t.length;e--;)n=t[e],n.init&amp;&amp;n.init.apply(r,arguments)}function a(){return this}function s(e,t){return function(){var n=this,r=n._super,i;return n._super=c[e],i=t.apply(n,arguments),n._super=r,i}}var l=this,c=l.prototype,u,d,f;o=!0,u=new l,o=!1,e.Mixins&amp;&amp;(n(e.Mixins,function(t){t=t;for(var n in t)&quot;init&quot;!==n&amp;&amp;(e[n]=t[n])}),c.Mixins&amp;&amp;(e.Mixins=c.Mixins.concat(e.Mixins))),e.Methods&amp;&amp;n(e.Methods.split(&quot;,&quot;),function(t){e[t]=a}),e.Properties&amp;&amp;n(e.Properties.split(&quot;,&quot;),function(t){var n=&quot;_&quot;+t;e[t]=function(e){var t=this,r;return e!==r?(t[n]=e,t):t[n]}}),e.Statics&amp;&amp;n(e.Statics,function(e,n){t[n]=e}),e.Defaults&amp;&amp;c.Defaults&amp;&amp;(e.Defaults=r({},c.Defaults,e.Defaults));for(d in e)f=e[d],u[d]=&quot;function&quot;==typeof f&amp;&amp;c[d]?s(d,f):f;return t.prototype=u,t.constructor=t,t.extend=i,t},t}),r(W,[p],function(e){function t(e){function t(){return!1}function n(){return!0}function r(r,i){var o,a,s,u;if(r=r.toLowerCase(),i=i||{},i.type=r,i.target||(i.target=l),i.preventDefault||(i.preventDefault=function(){i.isDefaultPrevented=n},i.stopPropagation=function(){i.isPropagationStopped=n},i.stopImmediatePropagation=function(){i.isImmediatePropagationStopped=n},i.isDefaultPrevented=t,i.isPropagationStopped=t,i.isImmediatePropagationStopped=t),e.beforeFire&amp;&amp;e.beforeFire(i),o=c[r])for(a=0,s=o.length;s&gt;a;a++){if(o[a]=u=o[a],i.isImmediatePropagationStopped())return i.stopPropagation(),i;if(u.call(l,i)===!1)return i.preventDefault(),i}return i}function i(e,n,r){var i,o,a;if(n===!1&amp;&amp;(n=t),n)for(o=e.toLowerCase().split(&quot; &quot;),a=o.length;a--;)e=o[a],i=c[e],i||(i=c[e]=[],u(e,!0)),r?i.unshift(n):i.push(n);return s}function o(e,t){var n,r,i,o,a;if(e)for(o=e.toLowerCase().split(&quot; &quot;),n=o.length;n--;){if(e=o[n],r=c[e],!e){for(i in c)u(i,!1),delete c[i];return s}if(r){if(t)for(a=r.length;a--;)r[a]===t&amp;&amp;r.splice(a,1);else r.length=0;r.length||(u(e,!1),delete c[e])}}else{for(e in c)u(e,!1);c={}}return s}function a(e){return e=e.toLowerCase(),!(!c[e]||0===c[e].length)}var s=this,l,c={},u;e=e||{},l=e.scope||s,u=e.toggleEvent||t,s.fire=r,s.on=i,s.off=o,s.has=a}var n=e.makeMap(&quot;focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit&quot;,&quot; &quot;);return t.isNative=function(e){return!!n[e.toLowerCase()]},t}),r(V,[z],function(e){function t(e){for(var t=[],n=e.length,r;n--;)r=e[n],r.__checked||(t.push(r),r.__checked=1);for(n=t.length;n--;)delete t[n].__checked;return t}var n=/^([\w\\*]+)?(?:#([\w\\]+))?(?:\.([\w\\\.]+))?(?:\[\@?([\w\\]+)([\^\$\*!~]?=)([\w\\]+)\])?(?:\:(.+))?/i,r=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|[&#039;&quot;][^&#039;&quot;]*[&#039;&quot;]|[^\[\]&#039;&quot;]+)+\]|\\.|[^ &gt;+~,(\[\\]+)+|[&gt;+~])(\s*,\s*)?((?:.|\r|\n)*)/g,i=/^\s*|\s*$/g,o,a=e.extend({init:function(e){function t(e){return e?(e=e.toLowerCase(),function(t){return&quot;*&quot;===e||t.type===e}):void 0}function o(e){return e?function(t){return t._name===e}:void 0}function a(e){return e?(e=e.split(&quot;.&quot;),function(t){for(var n=e.length;n--;)if(!t.hasClass(e[n]))return!1;return!0}):void 0}function s(e,t,n){return e?function(r){var i=r[e]?r[e]():&quot;&quot;;return t?&quot;=&quot;===t?i===n:&quot;*=&quot;===t?i.indexOf(n)&gt;=0:&quot;~=&quot;===t?(&quot; &quot;+i+&quot; &quot;).indexOf(&quot; &quot;+n+&quot; &quot;)&gt;=0:&quot;!=&quot;===t?i!=n:&quot;^=&quot;===t?0===i.indexOf(n):&quot;$=&quot;===t?i.substr(i.length-n.length)===n:!1:!!n}:void 0}function l(e){var t;return e?(e=/(?:not\((.+)\))|(.+)/i.exec(e),e[1]?(t=u(e[1],[]),function(e){return!d(e,t)}):(e=e[2],function(t,n,r){return&quot;first&quot;===e?0===n:&quot;last&quot;===e?n===r-1:&quot;even&quot;===e?n%2===0:&quot;odd&quot;===e?n%2===1:t[e]?t[e]():!1})):void 0}function c(e,r,c){function u(e){e&amp;&amp;r.push(e)}var d;return d=n.exec(e.replace(i,&quot;&quot;)),u(t(d[1])),u(o(d[2])),u(a(d[3])),u(s(d[4],d[5],d[6])),u(l(d[7])),r.psuedo=!!d[7],r.direct=c,r}function u(e,t){var n=[],i,o,a;do if(r.exec(&quot;&quot;),o=r.exec(e),o&amp;&amp;(e=o[3],n.push(o[1]),o[2])){i=o[3];break}while(o);for(i&amp;&amp;u(i,t),e=[],a=0;a&lt;n.length;a++)&quot;&gt;&quot;!=n[a]&amp;&amp;e.push(c(n[a],[],&quot;&gt;&quot;===n[a-1]));return t.push(e),t}var d=this.match;this._selectors=u(e,[])},match:function(e,t){var n,r,i,o,a,s,l,c,u,d,f,p,h;for(t=t||this._selectors,n=0,r=t.length;r&gt;n;n++){for(a=t[n],o=a.length,h=e,p=0,i=o-1;i&gt;=0;i--)for(c=a[i];h;){if(c.psuedo)for(f=h.parent().items(),u=d=f.length;u--&amp;&amp;f[u]!==h;);for(s=0,l=c.length;l&gt;s;s++)if(!c[s](h,u,d)){s=l+1;break}if(s===l){p++;break}if(i===o-1)break;h=h.parent()}if(p===o)return!0}return!1},find:function(e){function n(e,t,i){var o,a,s,l,c,u=t[i];for(o=0,a=e.length;a&gt;o;o++){for(c=e[o],s=0,l=u.length;l&gt;s;s++)if(!u[s](c,o,a)){s=l+1;break}if(s===l)i==t.length-1?r.push(c):c.items&amp;&amp;n(c.items(),t,i+1);else if(u.direct)return;c.items&amp;&amp;n(c.items(),t,i)}}var r=[],i,s,l=this._selectors;if(e.items){for(i=0,s=l.length;s&gt;i;i++)n(e.items(),l[i],0);s&gt;1&amp;&amp;(r=t(r))}return o||(o=a.Collection),new o(r)}});return a}),r(U,[p,V,z],function(e,t,n){var r,i,o=Array.prototype.push,a=Array.prototype.slice;return i={length:0,init:function(e){e&amp;&amp;this.add(e)},add:function(t){var n=this;return e.isArray(t)?o.apply(n,t):t instanceof r?n.add(t.toArray()):o.call(n,t),n},set:function(e){var t=this,n=t.length,r;for(t.length=0,t.add(e),r=t.length;n&gt;r;r++)delete t[r];return t},filter:function(e){var n=this,i,o,a=[],s,l;for(&quot;string&quot;==typeof e?(e=new t(e),l=function(t){return e.match(t)}):l=e,i=0,o=n.length;o&gt;i;i++)s=n[i],l(s)&amp;&amp;a.push(s);return new r(a)},slice:function(){return new r(a.apply(this,arguments))},eq:function(e){return-1===e?this.slice(e):this.slice(e,+e+1)},each:function(t){return e.each(this,t),this},toArray:function(){return e.toArray(this)},indexOf:function(e){for(var t=this,n=t.length;n--&amp;&amp;t[n]!==e;);return n},reverse:function(){return new r(e.toArray(this).reverse())},hasClass:function(e){return this[0]?this[0].hasClass(e):!1},prop:function(e,t){var n=this,r,i;return t!==r?(n.each(function(n){n[e]&amp;&amp;n[e](t)}),n):(i=n[0],i&amp;&amp;i[e]?i[e]():void 0)},exec:function(t){var n=this,r=e.toArray(arguments).slice(1);return n.each(function(e){e[t]&amp;&amp;e[t].apply(e,r)}),n},remove:function(){for(var e=this.length;e--;)this[e].remove();return this}},e.each(&quot;fire on off show hide addClass removeClass append prepend before after reflow&quot;.split(&quot; &quot;),function(t){i[t]=function(){var n=e.toArray(arguments);return this.each(function(e){t in e&amp;&amp;e[t].apply(e,n)}),this}}),e.each(&quot;text name disabled active selected checked visible parent value data&quot;.split(&quot; &quot;),function(e){i[e]=function(t){return this.prop(e,t)}}),r=n.extend(i),t.Collection=r,r}),r(q,[p,y],function(e,t){return{id:function(){return t.DOM.uniqueId()},createFragment:function(e){return t.DOM.createFragment(e)},getWindowSize:function(){return t.DOM.getViewPort()},getSize:function(e){var t,n;if(e.getBoundingClientRect){var r=e.getBoundingClientRect();t=Math.max(r.width||r.right-r.left,e.offsetWidth),n=Math.max(r.height||r.bottom-r.bottom,e.offsetHeight)}else t=e.offsetWidth,n=e.offsetHeight;return{width:t,height:n}},getPos:function(e,n){return t.DOM.getPos(e,n)},getViewPort:function(e){return t.DOM.getViewPort(e)},get:function(e){return document.getElementById(e)},addClass:function(e,n){return t.DOM.addClass(e,n)},removeClass:function(e,n){return t.DOM.removeClass(e,n)},hasClass:function(e,n){return t.DOM.hasClass(e,n)},toggleClass:function(e,n,r){return t.DOM.toggleClass(e,n,r)},css:function(e,n,r){return t.DOM.setStyle(e,n,r)},on:function(e,n,r,i){return t.DOM.bind(e,n,r,i)},off:function(e,n,r){return t.DOM.unbind(e,n,r)},fire:function(e,n,r){return t.DOM.fire(e,n,r)},innerHtml:function(e,n){t.DOM.setHTML(e,n)}}}),r($,[z,p,W,U,q],function(e,t,n,r,i){function o(e){return e._eventDispatcher||(e._eventDispatcher=new n({scope:e,toggleEvent:function(t,r){r&amp;&amp;n.isNative(t)&amp;&amp;(e._nativeEvents||(e._nativeEvents={}),e._nativeEvents[t]=!0,e._rendered&amp;&amp;e.bindPendingEvents())}})),e._eventDispatcher}var a={},s=&quot;onmousewheel&quot;in document,l=!1,c=&quot;mce-&quot;,u=e.extend({Statics:{elementIdCache:a,classPrefix:c},isRtl:function(){return u.rtl},classPrefix:c,init:function(e){var n=this,r,o;if(n.settings=e=t.extend({},n.Defaults,e),n._id=e.id||i.id(),n._text=n._name=&quot;&quot;,n._width=n._height=0,n._aria={role:e.role},r=e.classes)for(r=r.split(&quot; &quot;),r.map={},o=r.length;o--;)r.map[r[o]]=!0;n._classes=r||[],n.visible(!0),t.each(&quot;title text width height name classes visible disabled active value&quot;.split(&quot; &quot;),function(t){var r=e[t],i;r!==i?n[t](r):n[&quot;_&quot;+t]===i&amp;&amp;(n[&quot;_&quot;+t]=!1)}),n.on(&quot;click&quot;,function(){return n.disabled()?!1:void 0}),e.classes&amp;&amp;t.each(e.classes.split(&quot; &quot;),function(e){n.addClass(e)}),n.settings=e,n._borderBox=n.parseBox(e.border),n._paddingBox=n.parseBox(e.padding),n._marginBox=n.parseBox(e.margin),e.hidden&amp;&amp;n.hide()},Properties:&quot;parent,title,text,width,height,disabled,active,name,value&quot;,Methods:&quot;renderHtml&quot;,getContainerElm:function(){return document.body},getParentCtrl:function(e){for(var t,n=this.getRoot().controlIdLookup;e&amp;&amp;n&amp;&amp;!(t=n[e.id]);)e=e.parentNode;return t},parseBox:function(e){var t,n=10;if(e)return&quot;number&quot;==typeof e?(e=e||0,{top:e,left:e,bottom:e,right:e}):(e=e.split(&quot; &quot;),t=e.length,1===t?e[1]=e[2]=e[3]=e[0]:2===t?(e[2]=e[0],e[3]=e[1]):3===t&amp;&amp;(e[3]=e[1]),{top:parseInt(e[0],n)||0,right:parseInt(e[1],n)||0,bottom:parseInt(e[2],n)||0,left:parseInt(e[3],n)||0})},borderBox:function(){return this._borderBox},paddingBox:function(){return this._paddingBox},marginBox:function(){return this._marginBox},measureBox:function(e,t){function n(t){var n=document.defaultView;return n?(t=t.replace(/[A-Z]/g,function(e){return&quot;-&quot;+e}),n.getComputedStyle(e,null).getPropertyValue(t)):e.currentStyle[t]}function r(e){var t=parseFloat(n(e),10);return isNaN(t)?0:t}return{top:r(t+&quot;TopWidth&quot;),right:r(t+&quot;RightWidth&quot;),bottom:r(t+&quot;BottomWidth&quot;),left:r(t+&quot;LeftWidth&quot;)}},initLayoutRect:function(){var e=this,t=e.settings,n,r,o=e.getEl(),a,s,l,c,u,d,f,p;n=e._borderBox=e._borderBox||e.measureBox(o,&quot;border&quot;),e._paddingBox=e._paddingBox||e.measureBox(o,&quot;padding&quot;),e._marginBox=e._marginBox||e.measureBox(o,&quot;margin&quot;),p=i.getSize(o),d=t.minWidth,f=t.minHeight,l=d||p.width,c=f||p.height,a=t.width,s=t.height,u=t.autoResize,u=&quot;undefined&quot;!=typeof u?u:!a&amp;&amp;!s,a=a||l,s=s||c;var h=n.left+n.right,m=n.top+n.bottom,g=t.maxWidth||65535,v=t.maxHeight||65535;return e._layoutRect=r={x:t.x||0,y:t.y||0,w:a,h:s,deltaW:h,deltaH:m,contentW:a-h,contentH:s-m,innerW:a-h,innerH:s-m,startMinWidth:d||0,startMinHeight:f||0,minW:Math.min(l,g),minH:Math.min(c,v),maxW:g,maxH:v,autoResize:u,scrollW:0},e._lastLayoutRect={},r},layoutRect:function(e){var t=this,n=t._layoutRect,r,i,o,a,s,l;return n||(n=t.initLayoutRect()),e?(o=n.deltaW,a=n.deltaH,e.x!==s&amp;&amp;(n.x=e.x),e.y!==s&amp;&amp;(n.y=e.y),e.minW!==s&amp;&amp;(n.minW=e.minW),e.minH!==s&amp;&amp;(n.minH=e.minH),i=e.w,i!==s&amp;&amp;(i=i&lt;n.minW?n.minW:i,i=i&gt;n.maxW?n.maxW:i,n.w=i,n.innerW=i-o),i=e.h,i!==s&amp;&amp;(i=i&lt;n.minH?n.minH:i,i=i&gt;n.maxH?n.maxH:i,n.h=i,n.innerH=i-a),i=e.innerW,i!==s&amp;&amp;(i=i&lt;n.minW-o?n.minW-o:i,i=i&gt;n.maxW-o?n.maxW-o:i,n.innerW=i,n.w=i+o),i=e.innerH,i!==s&amp;&amp;(i=i&lt;n.minH-a?n.minH-a:i,i=i&gt;n.maxH-a?n.maxH-a:i,n.innerH=i,n.h=i+a),e.contentW!==s&amp;&amp;(n.contentW=e.contentW),e.contentH!==s&amp;&amp;(n.contentH=e.contentH),r=t._lastLayoutRect,(r.x!==n.x||r.y!==n.y||r.w!==n.w||r.h!==n.h)&amp;&amp;(l=u.repaintControls,l&amp;&amp;l.map&amp;&amp;!l.map[t._id]&amp;&amp;(l.push(t),l.map[t._id]=!0),r.x=n.x,r.y=n.y,r.w=n.w,r.h=n.h),t):n},repaint:function(){var e=this,t,n,r,i,o=0,a=0,s,l;l=document.createRange?function(e){return e}:Math.round,t=e.getEl().style,r=e._layoutRect,s=e._lastRepaintRect||{},i=e._borderBox,o=i.left+i.right,a=i.top+i.bottom,r.x!==s.x&amp;&amp;(t.left=l(r.x)+&quot;px&quot;,s.x=r.x),r.y!==s.y&amp;&amp;(t.top=l(r.y)+&quot;px&quot;,s.y=r.y),r.w!==s.w&amp;&amp;(t.width=l(r.w-o)+&quot;px&quot;,s.w=r.w),r.h!==s.h&amp;&amp;(t.height=l(r.h-a)+&quot;px&quot;,s.h=r.h),e._hasBody&amp;&amp;r.innerW!==s.innerW&amp;&amp;(n=e.getEl(&quot;body&quot;).style,n.width=l(r.innerW)+&quot;px&quot;,s.innerW=r.innerW),e._hasBody&amp;&amp;r.innerH!==s.innerH&amp;&amp;(n=n||e.getEl(&quot;body&quot;).style,n.height=l(r.innerH)+&quot;px&quot;,s.innerH=r.innerH),e._lastRepaintRect=s,e.fire(&quot;repaint&quot;,{},!1)},on:function(e,t){function n(e){var t,n;return&quot;string&quot;!=typeof e?e:function(i){return t||r.parentsAndSelf().each(function(r){var i=r.settings.callbacks;return i&amp;&amp;(t=i[e])?(n=r,!1):void 0}),t.call(n,i)}}var r=this;return o(r).on(e,n(t)),r},off:function(e,t){return o(this).off(e,t),this},fire:function(e,t,n){var r=this;if(t=t||{},t.control||(t.control=r),t=o(r).fire(e,t),n!==!1&amp;&amp;r.parent)for(var i=r.parent();i&amp;&amp;!t.isPropagationStopped();)i.fire(e,t,!1),i=i.parent();return t},hasEventListeners:function(e){return o(this).has(e)},parents:function(e){var t=this,n,i=new r;for(n=t.parent();n;n=n.parent())i.add(n);return e&amp;&amp;(i=i.filter(e)),i},parentsAndSelf:function(e){return new r(this).add(this.parents(e))},next:function(){var e=this.parent().items();return e[e.indexOf(this)+1]},prev:function(){var e=this.parent().items();return e[e.indexOf(this)-1]},findCommonAncestor:function(e,t){for(var n;e;){for(n=t;n&amp;&amp;e!=n;)n=n.parent();if(e==n)break;e=e.parent()}return e},hasClass:function(e,t){var n=this._classes[t||&quot;control&quot;];return e=this.classPrefix+e,n&amp;&amp;!!n.map[e]},addClass:function(e,t){var n=this,r,i;return e=this.classPrefix+e,r=n._classes[t||&quot;control&quot;],r||(r=[],r.map={},n._classes[t||&quot;control&quot;]=r),r.map[e]||(r.map[e]=e,r.push(e),n._rendered&amp;&amp;(i=n.getEl(t),i&amp;&amp;(i.className=r.join(&quot; &quot;)))),n},removeClass:function(e,t){var n=this,r,i,o;if(e=this.classPrefix+e,r=n._classes[t||&quot;control&quot;],r&amp;&amp;r.map[e])for(delete r.map[e],i=r.length;i--;)r[i]===e&amp;&amp;r.splice(i,1);return n._rendered&amp;&amp;(o=n.getEl(t),o&amp;&amp;(o.className=r.join(&quot; &quot;))),n},toggleClass:function(e,t,n){var r=this;return t?r.addClass(e,n):r.removeClass(e,n),r},classes:function(e){var t=this._classes[e||&quot;control&quot;];return t?t.join(&quot; &quot;):&quot;&quot;},innerHtml:function(e){return i.innerHtml(this.getEl(),e),this},getEl:function(e,t){var n,r=e?this._id+&quot;-&quot;+e:this._id;return n=a[r]=(t===!0?null:a[r])||i.get(r)},visible:function(e){var t=this,n;return&quot;undefined&quot;!=typeof e?(t._visible!==e&amp;&amp;(t._rendered&amp;&amp;(t.getEl().style.display=e?&quot;&quot;:&quot;none&quot;),t._visible=e,n=t.parent(),n&amp;&amp;(n._lastRect=null),t.fire(e?&quot;show&quot;:&quot;hide&quot;)),t):t._visible},show:function(){return this.visible(!0)},hide:function(){return this.visible(!1)},focus:function(){try{this.getEl().focus()}catch(e){}return this},blur:function(){return this.getEl().blur(),this},aria:function(e,t){var n=this,r=n.getEl(n.ariaTarget);return&quot;undefined&quot;==typeof t?n._aria[e]:(n._aria[e]=t,n._rendered&amp;&amp;r.setAttribute(&quot;role&quot;==e?e:&quot;aria-&quot;+e,t),n)},encode:function(e,t){return t!==!1&amp;&amp;(e=this.translate(e)),(e||&quot;&quot;).replace(/[&amp;&lt;&gt;&quot;]/g,function(e){return&quot;&amp;#&quot;+e.charCodeAt(0)+&quot;;&quot;})},translate:function(e){return u.translate?u.translate(e):e},before:function(e){var t=this,n=t.parent();return n&amp;&amp;n.insert(e,n.items().indexOf(t),!0),t},after:function(e){var t=this,n=t.parent();return n&amp;&amp;n.insert(e,n.items().indexOf(t)),t},remove:function(){var e=this,t=e.getEl(),n=e.parent(),r,o;if(e.items){var s=e.items().toArray();for(o=s.length;o--;)s[o].remove()}n&amp;&amp;n.items&amp;&amp;(r=[],n.items().each(function(t){t!==e&amp;&amp;r.push(t)}),n.items().set(r),n._lastRect=null),e._eventsRoot&amp;&amp;e._eventsRoot==e&amp;&amp;i.off(t);var l=e.getRoot().controlIdLookup;if(l&amp;&amp;delete l[e._id],delete a[e._id],t&amp;&amp;t.parentNode){var c=t.getElementsByTagName(&quot;*&quot;);for(o=c.length;o--;)delete a[c[o].id];t.parentNode.removeChild(t)}return e._rendered=!1,e},renderBefore:function(e){var t=this;return e.parentNode.insertBefore(i.createFragment(t.renderHtml()),e),t.postRender(),t},renderTo:function(e){var t=this;return e=e||t.getContainerElm(),e.appendChild(i.createFragment(t.renderHtml())),t.postRender(),t},postRender:function(){var e=this,t=e.settings,n,r,o,a,s;for(a in t)0===a.indexOf(&quot;on&quot;)&amp;&amp;e.on(a.substr(2),t[a]);if(e._eventsRoot){for(o=e.parent();!s&amp;&amp;o;o=o.parent())s=o._eventsRoot;if(s)for(a in s._nativeEvents)e._nativeEvents[a]=!0}e.bindPendingEvents(),t.style&amp;&amp;(n=e.getEl(),n&amp;&amp;(n.setAttribute(&quot;style&quot;,t.style),n.style.cssText=t.style)),e._visible||i.css(e.getEl(),&quot;display&quot;,&quot;none&quot;),e.settings.border&amp;&amp;(r=e.borderBox(),i.css(e.getEl(),{&quot;border-top-width&quot;:r.top,&quot;border-right-width&quot;:r.right,&quot;border-bottom-width&quot;:r.bottom,&quot;border-left-width&quot;:r.left}));var l=e.getRoot();l.controlIdLookup||(l.controlIdLookup={}),l.controlIdLookup[e._id]=e;for(var c in e._aria)e.aria(c,e._aria[c]);e.fire(&quot;postrender&quot;,{},!1)},scrollIntoView:function(e){function t(e,t){var n,r,i=e;for(n=r=0;i&amp;&amp;i!=t&amp;&amp;i.nodeType;)n+=i.offsetLeft||0,r+=i.offsetTop||0,i=i.offsetParent;return{x:n,y:r}}var n=this.getEl(),r=n.parentNode,i,o,a,s,l,c,u=t(n,r);return i=u.x,o=u.y,a=n.offsetWidth,s=n.offsetHeight,l=r.clientWidth,c=r.clientHeight,&quot;end&quot;==e?(i-=l-a,o-=c-s):&quot;center&quot;==e&amp;&amp;(i-=l/2-a/2,o-=c/2-s/2),r.scrollLeft=i,r.scrollTop=o,this},bindPendingEvents:function(){function e(e){var t=o.getParentCtrl(e.target);t&amp;&amp;t.fire(e.type,e)}function t(){var e=d._lastHoverCtrl;e&amp;&amp;(e.fire(&quot;mouseleave&quot;,{target:e.getEl()}),e.parents().each(function(e){e.fire(&quot;mouseleave&quot;,{target:e.getEl()})}),d._lastHoverCtrl=null)}function n(e){var t=o.getParentCtrl(e.target),n=d._lastHoverCtrl,r=0,i,a,s;if(t!==n){if(d._lastHoverCtrl=t,a=t.parents().toArray().reverse(),a.push(t),n){for(s=n.parents().toArray().reverse(),s.push(n),r=0;r&lt;s.length&amp;&amp;a[r]===s[r];r++);for(i=s.length-1;i&gt;=r;i--)n=s[i],n.fire(&quot;mouseleave&quot;,{target:n.getEl()})}for(i=r;i&lt;a.length;i++)t=a[i],t.fire(&quot;mouseenter&quot;,{target:t.getEl()})}}function r(e){e.preventDefault(),&quot;mousewheel&quot;==e.type?(e.deltaY=-1/40*e.wheelDelta,e.wheelDeltaX&amp;&amp;(e.deltaX=-1/40*e.wheelDeltaX)):(e.deltaX=0,e.deltaY=e.detail),e=o.fire(&quot;wheel&quot;,e)}var o=this,a,c,u,d,f,p;if(o._rendered=!0,f=o._nativeEvents){for(u=o.parents().toArray(),u.unshift(o),a=0,c=u.length;!d&amp;&amp;c&gt;a;a++)d=u[a]._eventsRoot;for(d||(d=u[u.length-1]||o),o._eventsRoot=d,c=a,a=0;c&gt;a;a++)u[a]._eventsRoot=d;var h=d._delegates;h||(h=d._delegates={});for(p in f){if(!f)return!1;&quot;wheel&quot;!==p||l?(&quot;mouseenter&quot;===p||&quot;mouseleave&quot;===p?d._hasMouseEnter||(i.on(d.getEl(),&quot;mouseleave&quot;,t),i.on(d.getEl(),&quot;mouseover&quot;,n),d._hasMouseEnter=1):h[p]||(i.on(d.getEl(),p,e),h[p]=!0),f[p]=!1):s?i.on(o.getEl(),&quot;mousewheel&quot;,r):i.on(o.getEl(),&quot;DOMMouseScroll&quot;,r)}}},getRoot:function(){for(var e=this,t,n=[];e;){if(e.rootControl){t=e.rootControl;break}n.push(e),t=e,e=e.parent()}t||(t=this);for(var r=n.length;r--;)n[r].rootControl=t;return t},reflow:function(){return this.repaint(),this}});return u}),r(j,[],function(){var e={},t;return{add:function(t,n){e[t.toLowerCase()]=n},has:function(t){return!!e[t.toLowerCase()]},create:function(n,r){var i,o,a;if(!t){a=tinymce.ui;for(o in a)e[o.toLowerCase()]=a[o];t=!0}if(&quot;string&quot;==typeof n?(r=r||{},r.type=n):(r=n,n=r.type),n=n.toLowerCase(),i=e[n],!i)throw new Error(&quot;Could not find control by type: &quot;+n);return i=new i(r),i.type=n,i}}}),r(K,[],function(){return function(e){function t(e){return e=e||b,e&amp;&amp;e.getAttribute(&quot;role&quot;)}function n(e){for(var n,r=e||b;r=r.parentNode;)if(n=t(r))return n}function r(e){var t=b;return t?t.getAttribute(&quot;aria-&quot;+e):void 0}function i(e){var t=e.tagName.toUpperCase();return&quot;INPUT&quot;==t||&quot;TEXTAREA&quot;==t}function o(e){return i(e)&amp;&amp;!e.hidden?!0:/^(button|menuitem|checkbox|tab|menuitemcheckbox|option|gridcell)$/.test(t(e))?!0:!1}function a(e){function t(e){if(1==e.nodeType&amp;&amp;&quot;none&quot;!=e.style.display){o(e)&amp;&amp;n.push(e);for(var r=0;r&lt;e.childNodes.length;r++)t(e.childNodes[r])}}var n=[];return t(e||y.getEl()),n}function s(e){var t,n;e=e||C,n=e.parents().toArray(),n.unshift(e);for(var r=0;r&lt;n.length&amp;&amp;(t=n[r],!t.settings.ariaRoot);r++);return t}function l(e){var t=s(e),n=a(t.getEl());t.settings.ariaRemember&amp;&amp;&quot;lastAriaIndex&quot;in t?c(t.lastAriaIndex,n):c(0,n)}function c(e,t){return 0&gt;e?e=t.length-1:e&gt;=t.length&amp;&amp;(e=0),t[e]&amp;&amp;t[e].focus(),e}function u(e,t){var n=-1,r=s();t=t||a(r.getEl());for(var i=0;i&lt;t.length;i++)t[i]===b&amp;&amp;(n=i);n+=e,r.lastAriaIndex=c(n,t)}function d(){var e=n();&quot;tablist&quot;==e?u(-1,a(b.parentNode)):C.parent().submenu?g():u(-1)}function f(){var e=t(),i=n();&quot;tablist&quot;==i?u(1,a(b.parentNode)):&quot;menuitem&quot;==e&amp;&amp;&quot;menu&quot;==i&amp;&amp;r(&quot;haspopup&quot;)?v():u(1)}function p(){u(-1)}function h(){var e=t(),i=n();&quot;menuitem&quot;==e&amp;&amp;&quot;menubar&quot;==i?v():&quot;button&quot;==e&amp;&amp;r(&quot;haspopup&quot;)?v({key:&quot;down&quot;}):u(1)}function m(e){var t=n();if(&quot;tablist&quot;==t){var r=a(C.getEl(&quot;body&quot;))[0];r&amp;&amp;r.focus()}else u(e.shiftKey?-1:1)}function g(){C.fire(&quot;cancel&quot;)}function v(e){e=e||{},C.fire(&quot;click&quot;,{target:b,aria:e})}var y=e.root,b,C;return b=document.activeElement,C=y.getParentCtrl(b),y.on(&quot;keydown&quot;,function(e){function t(e,t){i(b)||t(e)!==!1&amp;&amp;e.preventDefault()}if(!e.isDefaultPrevented())switch(e.keyCode){case 37:t(e,d);break;case 39:t(e,f);break;case 38:t(e,p);break;case 40:t(e,h);break;case 27:g();break;case 14:case 13:case 32:t(e,v);break;case 9:m(e)!==!1&amp;&amp;e.preventDefault()}}),y.on(&quot;focusin&quot;,function(e){b=e.target,C=e.control}),{focusFirst:l}}}),r(G,[$,U,V,j,K,p,q],function(e,t,n,r,i,o,a){var s={};return e.extend({layout:&quot;&quot;,innerClass:&quot;container-inner&quot;,init:function(e){var n=this;n._super(e),e=n.settings,n._fixed=e.fixed,n._items=new t,n.isRtl()&amp;&amp;n.addClass(&quot;rtl&quot;),n.addClass(&quot;container&quot;),n.addClass(&quot;container-body&quot;,&quot;body&quot;),e.containerCls&amp;&amp;n.addClass(e.containerCls),n._layout=r.create((e.layout||n.layout)+&quot;layout&quot;),n.settings.items&amp;&amp;n.add(n.settings.items),n._hasBody=!0},items:function(){return this._items},find:function(e){return e=s[e]=s[e]||new n(e),e.find(this)},add:function(e){var t=this;return t.items().add(t.create(e)).parent(t),t},focus:function(e){var t=this,n,r,i;return e&amp;&amp;(r=t.keyboardNav||t.parents().eq(-1)[0].keyboardNav)?void r.focusFirst(t):(i=t.find(&quot;*&quot;),t.statusbar&amp;&amp;i.add(t.statusbar.items()),i.each(function(e){return e.settings.autofocus?(n=null,!1):void(e.canFocus&amp;&amp;(n=n||e))}),n&amp;&amp;n.focus(),t)},replace:function(e,t){for(var n,r=this.items(),i=r.length;i--;)if(r[i]===e){r[i]=t;break}i&gt;=0&amp;&amp;(n=t.getEl(),n&amp;&amp;n.parentNode.removeChild(n),n=e.getEl(),n&amp;&amp;n.parentNode.removeChild(n)),t.parent(this)},create:function(t){var n=this,i,a=[];return o.isArray(t)||(t=[t]),o.each(t,function(t){t&amp;&amp;(t instanceof e||(&quot;string&quot;==typeof t&amp;&amp;(t={type:t}),i=o.extend({},n.settings.defaults,t),t.type=i.type=i.type||t.type||n.settings.defaultType||(i.defaults?i.defaults.type:null),t=r.create(i)),a.push(t))}),a},renderNew:function(){var e=this;return e.items().each(function(t,n){var r,i;t.parent(e),t._rendered||(r=e.getEl(&quot;body&quot;),i=a.createFragment(t.renderHtml()),r.hasChildNodes()&amp;&amp;n&lt;=r.childNodes.length-1?r.insertBefore(i,r.childNodes[n]):r.appendChild(i),t.postRender())}),e._layout.applyClasses(e),e._lastRect=null,e},append:function(e){return this.add(e).renderNew()},prepend:function(e){var t=this;return t.items().set(t.create(e).concat(t.items().toArray())),t.renderNew()},insert:function(e,t,n){var r=this,i,o,a;return e=r.create(e),i=r.items(),!n&amp;&amp;t&lt;i.length-1&amp;&amp;(t+=1),t&gt;=0&amp;&amp;t&lt;i.length&amp;&amp;(o=i.slice(0,t).toArray(),a=i.slice(t).toArray(),i.set(o.concat(e,a))),r.renderNew()},fromJSON:function(e){var t=this;for(var n in e)t.find(&quot;#&quot;+n).value(e[n]);return t},toJSON:function(){var e=this,t={};return e.find(&quot;*&quot;).each(function(e){var n=e.name(),r=e.value();n&amp;&amp;&quot;undefined&quot;!=typeof r&amp;&amp;(t[n]=r)}),t},preRender:function(){},renderHtml:function(){var e=this,t=e._layout,n=this.settings.role;return e.preRender(),t.preRender(e),&#039;&lt;div id=&quot;&#039;+e._id+&#039;&quot; class=&quot;&#039;+e.classes()+&#039;&quot;&#039;+(n?&#039; role=&quot;&#039;+this.settings.role+&#039;&quot;&#039;:&quot;&quot;)+&#039;&gt;&lt;div id=&quot;&#039;+e._id+&#039;-body&quot; class=&quot;&#039;+e.classes(&quot;body&quot;)+&#039;&quot;&gt;&#039;+(e.settings.html||&quot;&quot;)+t.renderHtml(e)+&quot;&lt;/div&gt;&lt;/div&gt;&quot;},postRender:function(){var e=this,t;return e.items().exec(&quot;postRender&quot;),e._super(),e._layout.postRender(e),e._rendered=!0,e.settings.style&amp;&amp;a.css(e.getEl(),e.settings.style),e.settings.border&amp;&amp;(t=e.borderBox(),a.css(e.getEl(),{&quot;border-top-width&quot;:t.top,&quot;border-right-width&quot;:t.right,&quot;border-bottom-width&quot;:t.bottom,&quot;border-left-width&quot;:t.left})),e.parent()||(e.keyboardNav=new i({root:e})),e},initLayoutRect:function(){var e=this,t=e._super();return e._layout.recalc(e),t},recalc:function(){var e=this,t=e._layoutRect,n=e._lastRect;return n&amp;&amp;n.w==t.w&amp;&amp;n.h==t.h?void 0:(e._layout.recalc(e),t=e.layoutRect(),e._lastRect={x:t.x,y:t.y,w:t.w,h:t.h},!0)},reflow:function(){var t;if(this.visible()){for(e.repaintControls=[],e.repaintControls.map={},this.recalc(),t=e.repaintControls.length;t--;)e.repaintControls[t].repaint();&quot;flow&quot;!==this.settings.layout&amp;&amp;&quot;stack&quot;!==this.settings.layout&amp;&amp;this.repaint(),e.repaintControls=[]}return this}})}),r(Y,[q],function(e){function t(){var e=document,t,n,r,i,o,a,s,l,c=Math.max;return t=e.documentElement,n=e.body,r=c(t.scrollWidth,n.scrollWidth),i=c(t.clientWidth,n.clientWidth),o=c(t.offsetWidth,n.offsetWidth),a=c(t.scrollHeight,n.scrollHeight),s=c(t.clientHeight,n.clientHeight),l=c(t.offsetHeight,n.offsetHeight),{width:o&gt;r?i:r,height:l&gt;a?s:a}}return function(n,r){function i(){return a.getElementById(r.handle||n)}var o,a=document,s,l,c,u,d,f;r=r||{},l=function(n){var l=t(),p,h;n.preventDefault(),s=n.button,p=i(),d=n.screenX,f=n.screenY,h=window.getComputedStyle?window.getComputedStyle(p,null).getPropertyValue(&quot;cursor&quot;):p.runtimeStyle.cursor,o=a.createElement(&quot;div&quot;),e.css(o,{position:&quot;absolute&quot;,top:0,left:0,width:l.width,height:l.height,zIndex:2147483647,opacity:1e-4,background:&quot;red&quot;,cursor:h}),a.body.appendChild(o),e.on(a,&quot;mousemove&quot;,u),e.on(a,&quot;mouseup&quot;,c),r.start(n)},u=function(e){return e.button!==s?c(e):(e.deltaX=e.screenX-d,e.deltaY=e.screenY-f,e.preventDefault(),void r.drag(e))},c=function(t){e.off(a,&quot;mousemove&quot;,u),e.off(a,&quot;mouseup&quot;,c),o.parentNode.removeChild(o),r.stop&amp;&amp;r.stop(t)},this.destroy=function(){e.off(i())},e.on(i(),&quot;mousedown&quot;,l)}}),r(X,[q,Y],function(e,t){return{init:function(){var e=this;e.on(&quot;repaint&quot;,e.renderScroll)},renderScroll:function(){function n(){function t(t,a,s,l,c,u){var d,f,p,h,m,g,v,y,b;if(f=i.getEl(&quot;scroll&quot;+t)){if(y=a.toLowerCase(),b=s.toLowerCase(),i.getEl(&quot;absend&quot;)&amp;&amp;e.css(i.getEl(&quot;absend&quot;),y,i.layoutRect()[l]-1),!c)return void e.css(f,&quot;display&quot;,&quot;none&quot;);e.css(f,&quot;display&quot;,&quot;block&quot;),d=i.getEl(&quot;body&quot;),p=i.getEl(&quot;scroll&quot;+t+&quot;t&quot;),h=d[&quot;client&quot;+s]-2*o,h-=n&amp;&amp;r?f[&quot;client&quot;+u]:0,m=d[&quot;scroll&quot;+s],g=h/m,v={},v[y]=d[&quot;offset&quot;+a]+o,v[b]=h,e.css(f,v),v={},v[y]=d[&quot;scroll&quot;+a]*g,v[b]=h*g,e.css(p,v)}}var n,r,a;a=i.getEl(&quot;body&quot;),n=a.scrollWidth&gt;a.clientWidth,r=a.scrollHeight&gt;a.clientHeight,t(&quot;h&quot;,&quot;Left&quot;,&quot;Width&quot;,&quot;contentW&quot;,n,&quot;Height&quot;),t(&quot;v&quot;,&quot;Top&quot;,&quot;Height&quot;,&quot;contentH&quot;,r,&quot;Width&quot;)}function r(){function n(n,r,a,s,l){var c,u=i._id+&quot;-scroll&quot;+n,d=i.classPrefix;i.getEl().appendChild(e.createFragment(&#039;&lt;div id=&quot;&#039;+u+&#039;&quot; class=&quot;&#039;+d+&quot;scrollbar &quot;+d+&quot;scrollbar-&quot;+n+&#039;&quot;&gt;&lt;div id=&quot;&#039;+u+&#039;t&quot; class=&quot;&#039;+d+&#039;scrollbar-thumb&quot;&gt;&lt;/div&gt;&lt;/div&gt;&#039;)),i.draghelper=new t(u+&quot;t&quot;,{start:function(){c=i.getEl(&quot;body&quot;)[&quot;scroll&quot;+r],e.addClass(e.get(u),d+&quot;active&quot;)},drag:function(e){var t,u,d,f,p=i.layoutRect();u=p.contentW&gt;p.innerW,d=p.contentH&gt;p.innerH,f=i.getEl(&quot;body&quot;)[&quot;client&quot;+a]-2*o,f-=u&amp;&amp;d?i.getEl(&quot;scroll&quot;+n)[&quot;client&quot;+l]:0,t=f/i.getEl(&quot;body&quot;)[&quot;scroll&quot;+a],i.getEl(&quot;body&quot;)[&quot;scroll&quot;+r]=c+e[&quot;delta&quot;+s]/t},stop:function(){e.removeClass(e.get(u),d+&quot;active&quot;)}})}i.addClass(&quot;scroll&quot;),n(&quot;v&quot;,&quot;Top&quot;,&quot;Height&quot;,&quot;Y&quot;,&quot;Width&quot;),n(&quot;h&quot;,&quot;Left&quot;,&quot;Width&quot;,&quot;X&quot;,&quot;Height&quot;)}var i=this,o=2;i.settings.autoScroll&amp;&amp;(i._hasScroll||(i._hasScroll=!0,r(),i.on(&quot;wheel&quot;,function(e){var t=i.getEl(&quot;body&quot;);t.scrollLeft+=10*(e.deltaX||0),t.scrollTop+=10*e.deltaY,n()}),e.on(i.getEl(&quot;body&quot;),&quot;scroll&quot;,n)),n())}}}),r(J,[G,X],function(e,t){return e.extend({Defaults:{layout:&quot;fit&quot;,containerCls:&quot;panel&quot;},Mixins:[t],renderHtml:function(){var e=this,t=e._layout,n=e.settings.html;return e.preRender(),t.preRender(e),&quot;undefined&quot;==typeof n?n=&#039;&lt;div id=&quot;&#039;+e._id+&#039;-body&quot; class=&quot;&#039;+e.classes(&quot;body&quot;)+&#039;&quot;&gt;&#039;+t.renderHtml(e)+&quot;&lt;/div&gt;&quot;:(&quot;function&quot;==typeof n&amp;&amp;(n=n.call(e)),e._hasBody=!1),&#039;&lt;div id=&quot;&#039;+e._id+&#039;&quot; class=&quot;&#039;+e.classes()+&#039;&quot; hidefocus=&quot;1&quot; tabindex=&quot;-1&quot; role=&quot;group&quot;&gt;&#039;+(e._preBodyHtml||&quot;&quot;)+n+&quot;&lt;/div&gt;&quot;}})}),r(Q,[q],function(e){function t(t,n,r){var i,o,a,s,l,c,u,d,f,p;return f=e.getViewPort(),o=e.getPos(n),a=o.x,s=o.y,t._fixed&amp;&amp;(a-=f.x,s-=f.y),i=t.getEl(),p=e.getSize(i),l=p.width,c=p.height,p=e.getSize(n),u=p.width,d=p.height,r=(r||&quot;&quot;).split(&quot;&quot;),&quot;b&quot;===r[0]&amp;&amp;(s+=d),&quot;r&quot;===r[1]&amp;&amp;(a+=u),&quot;c&quot;===r[0]&amp;&amp;(s+=Math.round(d/2)),&quot;c&quot;===r[1]&amp;&amp;(a+=Math.round(u/2)),&quot;b&quot;===r[3]&amp;&amp;(s-=c),&quot;r&quot;===r[4]&amp;&amp;(a-=l),&quot;c&quot;===r[3]&amp;&amp;(s-=Math.round(c/2)),&quot;c&quot;===r[4]&amp;&amp;(a-=Math.round(l/2)),{x:a,y:s,w:l,h:c}}return{testMoveRel:function(n,r){for(var i=e.getViewPort(),o=0;o&lt;r.length;o++){var a=t(this,n,r[o]);if(this._fixed){if(a.x&gt;0&amp;&amp;a.x+a.w&lt;i.w&amp;&amp;a.y&gt;0&amp;&amp;a.y+a.h&lt;i.h)return r[o]}else if(a.x&gt;i.x&amp;&amp;a.x+a.w&lt;i.w+i.x&amp;&amp;a.y&gt;i.y&amp;&amp;a.y+a.h&lt;i.h+i.y)return r[o]}return r[0]},moveRel:function(e,n){&quot;string&quot;!=typeof n&amp;&amp;(n=this.testMoveRel(e,n));
var r=t(this,e,n);return this.moveTo(r.x,r.y)},moveBy:function(e,t){var n=this,r=n.layoutRect();return n.moveTo(r.x+e,r.y+t),n},moveTo:function(t,n){function r(e,t,n){return 0&gt;e?0:e+n&gt;t?(e=t-n,0&gt;e?0:e):e}var i=this;if(i.settings.constrainToViewport){var o=e.getViewPort(window),a=i.layoutRect();t=r(t,o.w+o.x,a.w),n=r(n,o.h+o.y,a.h)}return i._rendered?i.layoutRect({x:t,y:n}).repaint():(i.settings.x=t,i.settings.y=n),i.fire(&quot;move&quot;,{x:t,y:n}),i}}}),r(Z,[q],function(e){return{resizeToContent:function(){this._layoutRect.autoResize=!0,this._lastRect=null,this.reflow()},resizeTo:function(t,n){if(1&gt;=t||1&gt;=n){var r=e.getWindowSize();t=1&gt;=t?t*r.w:t,n=1&gt;=n?n*r.h:n}return this._layoutRect.autoResize=!1,this.layoutRect({minW:t,minH:n,w:t,h:n}).reflow()},resizeBy:function(e,t){var n=this,r=n.layoutRect();return n.resizeTo(r.w+e,r.h+t)}}}),r(et,[J,Q,Z,q],function(e,t,n,r){function i(e){var t;for(t=s.length;t--;)s[t]===e&amp;&amp;s.splice(t,1);for(t=l.length;t--;)l[t]===e&amp;&amp;l.splice(t,1)}var o,a,s=[],l=[],c,u=e.extend({Mixins:[t,n],init:function(e){function t(){var e,t=u.zIndex||65535,n;if(l.length)for(e=0;e&lt;l.length;e++)l[e].modal&amp;&amp;(t++,n=l[e]),l[e].getEl().style.zIndex=t,l[e].zIndex=t,t++;var i=document.getElementById(d.classPrefix+&quot;modal-block&quot;);n?r.css(i,&quot;z-index&quot;,n.zIndex-1):i&amp;&amp;(i.parentNode.removeChild(i),c=!1),u.currentZIndex=t}function n(e,t){for(;e;){if(e==t)return!0;e=e.parent()}}function i(e){function t(t,n){for(var r,i=0;i&lt;s.length;i++)if(s[i]!=e)for(r=s[i].parent();r&amp;&amp;(r=r.parent());)r==e&amp;&amp;s[i].fixed(t).moveBy(0,n).repaint()}var n=r.getViewPort().y;e.settings.autofix&amp;&amp;(e._fixed?e._autoFixY&gt;n&amp;&amp;(e.fixed(!1).layoutRect({y:e._autoFixY}).repaint(),t(!1,e._autoFixY-n)):(e._autoFixY=e.layoutRect().y,e._autoFixY&lt;n&amp;&amp;(e.fixed(!0).layoutRect({y:0}).repaint(),t(!0,n-e._autoFixY))))}var d=this;d._super(e),d._eventsRoot=d,d.addClass(&quot;floatpanel&quot;),e.autohide&amp;&amp;(o||(o=function(e){for(var t=s.length;t--;){var r=s[t],i=r.getParentCtrl(e.target);if(r.settings.autohide){if(i&amp;&amp;(n(i,r)||r.parent()===i))continue;e=r.fire(&quot;autohide&quot;,{target:e.target}),e.isDefaultPrevented()||r.hide()}}},r.on(document,&quot;click&quot;,o)),s.push(d)),e.autofix&amp;&amp;(a||(a=function(){var e;for(e=s.length;e--;)i(s[e])},r.on(window,&quot;scroll&quot;,a)),d.on(&quot;move&quot;,function(){i(this)})),d.on(&quot;postrender show&quot;,function(e){if(e.control==d){var n,i=d.classPrefix;d.modal&amp;&amp;!c&amp;&amp;(n=r.createFragment(&#039;&lt;div id=&quot;&#039;+i+&#039;modal-block&quot; class=&quot;&#039;+i+&quot;reset &quot;+i+&#039;fade&quot;&gt;&lt;/div&gt;&#039;),n=n.firstChild,d.getContainerElm().appendChild(n),setTimeout(function(){r.addClass(n,i+&quot;in&quot;),r.addClass(d.getEl(),i+&quot;in&quot;)},0),c=!0),l.push(d),t()}}),d.on(&quot;close hide&quot;,function(e){if(e.control==d){for(var n=l.length;n--;)l[n]===d&amp;&amp;l.splice(n,1);t()}}),d.on(&quot;show&quot;,function(){d.parents().each(function(e){return e._fixed?(d.fixed(!0),!1):void 0})}),e.popover&amp;&amp;(d._preBodyHtml=&#039;&lt;div class=&quot;&#039;+d.classPrefix+&#039;arrow&quot;&gt;&lt;/div&gt;&#039;,d.addClass(&quot;popover&quot;).addClass(&quot;bottom&quot;).addClass(d.isRtl()?&quot;end&quot;:&quot;start&quot;))},fixed:function(e){var t=this;if(t._fixed!=e){if(t._rendered){var n=r.getViewPort();e?t.layoutRect().y-=n.y:t.layoutRect().y+=n.y}t.toggleClass(&quot;fixed&quot;,e),t._fixed=e}return t},show:function(){var e=this,t,n=e._super();for(t=s.length;t--&amp;&amp;s[t]!==e;);return-1===t&amp;&amp;s.push(e),n},hide:function(){return i(this),this._super()},hideAll:function(){u.hideAll()},close:function(){var e=this;return e.fire(&quot;close&quot;),e.remove()},remove:function(){i(this),this._super()},postRender:function(){var e=this;return e.settings.bodyRole&amp;&amp;this.getEl(&quot;body&quot;).setAttribute(&quot;role&quot;,e.settings.bodyRole),e._super()}});return u.hideAll=function(){for(var e=s.length;e--;){var t=s[e];t&amp;&amp;t.settings.autohide&amp;&amp;(t.hide(),s.splice(e,1))}},u}),r(tt,[et,J,q,Y],function(e,t,n,r){var i=e.extend({modal:!0,Defaults:{border:1,layout:&quot;flex&quot;,containerCls:&quot;panel&quot;,role:&quot;dialog&quot;,callbacks:{submit:function(){this.fire(&quot;submit&quot;,{data:this.toJSON()})},close:function(){this.close()}}},init:function(e){var n=this;n._super(e),n.isRtl()&amp;&amp;n.addClass(&quot;rtl&quot;),n.addClass(&quot;window&quot;),n._fixed=!0,e.buttons&amp;&amp;(n.statusbar=new t({layout:&quot;flex&quot;,border:&quot;1 0 0 0&quot;,spacing:3,padding:10,align:&quot;center&quot;,pack:n.isRtl()?&quot;start&quot;:&quot;end&quot;,defaults:{type:&quot;button&quot;},items:e.buttons}),n.statusbar.addClass(&quot;foot&quot;),n.statusbar.parent(n)),n.on(&quot;click&quot;,function(e){-1!=e.target.className.indexOf(n.classPrefix+&quot;close&quot;)&amp;&amp;n.close()}),n.on(&quot;cancel&quot;,function(){n.close()}),n.aria(&quot;describedby&quot;,n.describedBy||n._id+&quot;-none&quot;),n.aria(&quot;label&quot;,e.title),n._fullscreen=!1},recalc:function(){var e=this,t=e.statusbar,r,i,o,a;e._fullscreen&amp;&amp;(e.layoutRect(n.getWindowSize()),e.layoutRect().contentH=e.layoutRect().innerH),e._super(),r=e.layoutRect(),e.settings.title&amp;&amp;!e._fullscreen&amp;&amp;(i=r.headerW,i&gt;r.w&amp;&amp;(o=r.x-Math.max(0,i/2),e.layoutRect({w:i,x:o}),a=!0)),t&amp;&amp;(t.layoutRect({w:e.layoutRect().innerW}).recalc(),i=t.layoutRect().minW+r.deltaW,i&gt;r.w&amp;&amp;(o=r.x-Math.max(0,i-r.w),e.layoutRect({w:i,x:o}),a=!0)),a&amp;&amp;e.recalc()},initLayoutRect:function(){var e=this,t=e._super(),r=0,i;if(e.settings.title&amp;&amp;!e._fullscreen){i=e.getEl(&quot;head&quot;);var o=n.getSize(i);t.headerW=o.width,t.headerH=o.height,r+=t.headerH}e.statusbar&amp;&amp;(r+=e.statusbar.layoutRect().h),t.deltaH+=r,t.minH+=r,t.h+=r;var a=n.getWindowSize();return t.x=Math.max(0,a.w/2-t.w/2),t.y=Math.max(0,a.h/2-t.h/2),t},renderHtml:function(){var e=this,t=e._layout,n=e._id,r=e.classPrefix,i=e.settings,o=&quot;&quot;,a=&quot;&quot;,s=i.html;return e.preRender(),t.preRender(e),i.title&amp;&amp;(o=&#039;&lt;div id=&quot;&#039;+n+&#039;-head&quot; class=&quot;&#039;+r+&#039;window-head&quot;&gt;&lt;div id=&quot;&#039;+n+&#039;-title&quot; class=&quot;&#039;+r+&#039;title&quot;&gt;&#039;+e.encode(i.title)+&#039;&lt;/div&gt;&lt;button type=&quot;button&quot; class=&quot;&#039;+r+&#039;close&quot; aria-hidden=&quot;true&quot;&gt;\xd7&lt;/button&gt;&lt;div id=&quot;&#039;+n+&#039;-dragh&quot; class=&quot;&#039;+r+&#039;dragh&quot;&gt;&lt;/div&gt;&lt;/div&gt;&#039;),i.url&amp;&amp;(s=&#039;&lt;iframe src=&quot;&#039;+i.url+&#039;&quot; tabindex=&quot;-1&quot;&gt;&lt;/iframe&gt;&#039;),&quot;undefined&quot;==typeof s&amp;&amp;(s=t.renderHtml(e)),e.statusbar&amp;&amp;(a=e.statusbar.renderHtml()),&#039;&lt;div id=&quot;&#039;+n+&#039;&quot; class=&quot;&#039;+e.classes()+&#039;&quot; hidefocus=&quot;1&quot;&gt;&lt;div class=&quot;&#039;+e.classPrefix+&#039;reset&quot; role=&quot;application&quot;&gt;&#039;+o+&#039;&lt;div id=&quot;&#039;+n+&#039;-body&quot; class=&quot;&#039;+e.classes(&quot;body&quot;)+&#039;&quot;&gt;&#039;+s+&quot;&lt;/div&gt;&quot;+a+&quot;&lt;/div&gt;&lt;/div&gt;&quot;},fullscreen:function(e){var t=this,r=document.documentElement,i,o=t.classPrefix,a;if(e!=t._fullscreen)if(n.on(window,&quot;resize&quot;,function(){var e;if(t._fullscreen)if(i)t._timer||(t._timer=setTimeout(function(){var e=n.getWindowSize();t.moveTo(0,0).resizeTo(e.w,e.h),t._timer=0},50));else{e=(new Date).getTime();var r=n.getWindowSize();t.moveTo(0,0).resizeTo(r.w,r.h),(new Date).getTime()-e&gt;50&amp;&amp;(i=!0)}}),a=t.layoutRect(),t._fullscreen=e,e){t._initial={x:a.x,y:a.y,w:a.w,h:a.h},t._borderBox=t.parseBox(&quot;0&quot;),t.getEl(&quot;head&quot;).style.display=&quot;none&quot;,a.deltaH-=a.headerH+2,n.addClass(r,o+&quot;fullscreen&quot;),n.addClass(document.body,o+&quot;fullscreen&quot;),t.addClass(&quot;fullscreen&quot;);var s=n.getWindowSize();t.moveTo(0,0).resizeTo(s.w,s.h)}else t._borderBox=t.parseBox(t.settings.border),t.getEl(&quot;head&quot;).style.display=&quot;&quot;,a.deltaH+=a.headerH,n.removeClass(r,o+&quot;fullscreen&quot;),n.removeClass(document.body,o+&quot;fullscreen&quot;),t.removeClass(&quot;fullscreen&quot;),t.moveTo(t._initial.x,t._initial.y).resizeTo(t._initial.w,t._initial.h);return t.reflow()},postRender:function(){var e=this,t;setTimeout(function(){e.addClass(&quot;in&quot;)},0),e._super(),e.statusbar&amp;&amp;e.statusbar.postRender(),e.focus(),this.dragHelper=new r(e._id+&quot;-dragh&quot;,{start:function(){t={x:e.layoutRect().x,y:e.layoutRect().y}},drag:function(n){e.moveTo(t.x+n.deltaX,t.y+n.deltaY)}}),e.on(&quot;submit&quot;,function(t){t.isDefaultPrevented()||e.close()})},submit:function(){return this.fire(&quot;submit&quot;,{data:this.toJSON()})},remove:function(){var e=this,t=e.classPrefix;e.dragHelper.destroy(),e._super(),e.statusbar&amp;&amp;this.statusbar.remove(),e._fullscreen&amp;&amp;(n.removeClass(document.documentElement,t+&quot;fullscreen&quot;),n.removeClass(document.body,t+&quot;fullscreen&quot;))},getContentWindow:function(){var e=this.getEl().getElementsByTagName(&quot;iframe&quot;)[0];return e?e.contentWindow:null}});return i}),r(nt,[tt],function(e){var t=e.extend({init:function(e){e={border:1,padding:20,layout:&quot;flex&quot;,pack:&quot;center&quot;,align:&quot;center&quot;,containerCls:&quot;panel&quot;,autoScroll:!0,buttons:{type:&quot;button&quot;,text:&quot;Ok&quot;,action:&quot;ok&quot;},items:{type:&quot;label&quot;,multiline:!0,maxWidth:500,maxHeight:200}},this._super(e)},Statics:{OK:1,OK_CANCEL:2,YES_NO:3,YES_NO_CANCEL:4,msgBox:function(n){var r,i=n.callback||function(){};switch(n.buttons){case t.OK_CANCEL:r=[{type:&quot;button&quot;,text:&quot;Ok&quot;,subtype:&quot;primary&quot;,onClick:function(e){e.control.parents()[1].close(),i(!0)}},{type:&quot;button&quot;,text:&quot;Cancel&quot;,onClick:function(e){e.control.parents()[1].close(),i(!1)}}];break;case t.YES_NO:r=[{type:&quot;button&quot;,text:&quot;Ok&quot;,subtype:&quot;primary&quot;,onClick:function(e){e.control.parents()[1].close(),i(!0)}}];break;case t.YES_NO_CANCEL:r=[{type:&quot;button&quot;,text:&quot;Ok&quot;,subtype:&quot;primary&quot;,onClick:function(e){e.control.parents()[1].close()}}];break;default:r=[{type:&quot;button&quot;,text:&quot;Ok&quot;,subtype:&quot;primary&quot;,onClick:function(e){e.control.parents()[1].close(),i(!0)}}]}return new e({padding:20,x:n.x,y:n.y,minWidth:300,minHeight:100,layout:&quot;flex&quot;,pack:&quot;center&quot;,align:&quot;center&quot;,buttons:r,title:n.title,role:&quot;alertdialog&quot;,items:{type:&quot;label&quot;,multiline:!0,maxWidth:500,maxHeight:200,text:n.text},onPostRender:function(){this.aria(&quot;describedby&quot;,this.items()[0]._id)},onClose:n.onClose,onCancel:function(){i(!1)}}).renderTo(document.body).reflow()},alert:function(e,n){return&quot;string&quot;==typeof e&amp;&amp;(e={text:e}),e.callback=n,t.msgBox(e)},confirm:function(e,n){return&quot;string&quot;==typeof e&amp;&amp;(e={text:e}),e.callback=n,e.buttons=t.OK_CANCEL,t.msgBox(e)}}});return t}),r(rt,[tt,nt],function(e,t){return function(n){function r(){return o.length?o[o.length-1]:void 0}var i=this,o=[];i.windows=o,i.open=function(t,r){var i;return n.editorManager.activeEditor=n,t.title=t.title||&quot; &quot;,t.url=t.url||t.file,t.url&amp;&amp;(t.width=parseInt(t.width||320,10),t.height=parseInt(t.height||240,10)),t.body&amp;&amp;(t.items={defaults:t.defaults,type:t.bodyType||&quot;form&quot;,items:t.body}),t.url||t.buttons||(t.buttons=[{text:&quot;Ok&quot;,subtype:&quot;primary&quot;,onclick:function(){i.find(&quot;form&quot;)[0].submit()}},{text:&quot;Cancel&quot;,onclick:function(){i.close()}}]),i=new e(t),o.push(i),i.on(&quot;close&quot;,function(){for(var e=o.length;e--;)o[e]===i&amp;&amp;o.splice(e,1);n.focus()}),t.data&amp;&amp;i.on(&quot;postRender&quot;,function(){this.find(&quot;*&quot;).each(function(e){var n=e.name();n in t.data&amp;&amp;e.value(t.data[n])})}),i.features=t||{},i.params=r||{},n.nodeChanged(),i.renderTo().reflow()},i.alert=function(e,r,i){t.alert(e,function(){r?r.call(i||this):n.focus()})},i.confirm=function(e,n,r){t.confirm(e,function(e){n.call(r||this,e)})},i.close=function(){r()&amp;&amp;r().close()},i.getParams=function(){return r()?r().params:null},i.setParams=function(e){r()&amp;&amp;(r().params=e)},i.getWindows=function(){return o}}}),r(it,[R,B,x,m,g,p],function(e,t,n,r,i,o){return function(a){function s(e,t){try{a.getDoc().execCommand(e,!1,t)}catch(n){}}function l(){var e=a.getDoc().documentMode;return e?e:6}function c(e){return e.isDefaultPrevented()}function u(){function t(e){var t=new i(function(){});o.each(a.getBody().getElementsByTagName(&quot;*&quot;),function(e){&quot;SPAN&quot;==e.tagName&amp;&amp;e.setAttribute(&quot;mce-data-marked&quot;,1),!e.hasAttribute(&quot;data-mce-style&quot;)&amp;&amp;e.hasAttribute(&quot;style&quot;)&amp;&amp;a.dom.setAttrib(e,&quot;style&quot;,e.getAttribute(&quot;style&quot;))}),t.observe(a.getDoc(),{childList:!0,attributes:!0,subtree:!0,attributeFilter:[&quot;style&quot;]}),a.getDoc().execCommand(e?&quot;ForwardDelete&quot;:&quot;Delete&quot;,!1,null);var n=a.selection.getRng(),r=n.startContainer.parentNode;o.each(t.takeRecords(),function(e){if(q.isChildOf(e.target,a.getBody())){if(&quot;style&quot;==e.attributeName){var t=e.target.getAttribute(&quot;data-mce-style&quot;);t?e.target.setAttribute(&quot;style&quot;,t):e.target.removeAttribute(&quot;style&quot;)}o.each(e.addedNodes,function(e){if(&quot;SPAN&quot;==e.nodeName&amp;&amp;!e.getAttribute(&quot;mce-data-marked&quot;)){var t,i;e==r&amp;&amp;(t=n.startOffset,i=e.firstChild),q.remove(e,!0),i&amp;&amp;(n.setStart(i,t),n.setEnd(i,t),a.selection.setRng(n))}})}}),t.disconnect(),o.each(a.dom.select(&quot;span[mce-data-marked]&quot;),function(e){e.removeAttribute(&quot;mce-data-marked&quot;)})}var n=a.getDoc(),r=&quot;data:text/mce-internal,&quot;,i=window.MutationObserver,s,l;i||(s=!0,i=function(){function e(e){var t=e.relatedNode||e.target;n.push({target:t,addedNodes:[t]})}function t(e){var t=e.relatedNode||e.target;n.push({target:t,attributeName:e.attrName})}var n=[],r;this.observe=function(n){r=n,r.addEventListener(&quot;DOMSubtreeModified&quot;,e,!1),r.addEventListener(&quot;DOMNodeInsertedIntoDocument&quot;,e,!1),r.addEventListener(&quot;DOMNodeInserted&quot;,e,!1),r.addEventListener(&quot;DOMAttrModified&quot;,t,!1)},this.disconnect=function(){r.removeEventListener(&quot;DOMSubtreeModified&quot;,e,!1),r.removeEventListener(&quot;DOMNodeInsertedIntoDocument&quot;,e,!1),r.removeEventListener(&quot;DOMNodeInserted&quot;,e,!1),r.removeEventListener(&quot;DOMAttrModified&quot;,t,!1)},this.takeRecords=function(){return n}}),a.on(&quot;keydown&quot;,function(n){var r=n.keyCode==U,i=e.metaKeyPressed(n);if(!c(n)&amp;&amp;(r||n.keyCode==V)){var o=a.selection.getRng(),s=o.startContainer,l=o.startOffset;if(!i&amp;&amp;o.collapsed&amp;&amp;3==s.nodeType&amp;&amp;(r?l&lt;s.data.length:l&gt;0))return;n.preventDefault(),i&amp;&amp;a.selection.getSel().modify(&quot;extend&quot;,r?&quot;forward&quot;:&quot;backward&quot;,&quot;word&quot;),t(r)}}),a.on(&quot;keypress&quot;,function(n){c(n)||$.isCollapsed()||!n.charCode||e.metaKeyPressed(n)||(n.preventDefault(),t(!0),a.selection.setContent(String.fromCharCode(n.charCode)))}),a.addCommand(&quot;Delete&quot;,function(){t()}),a.addCommand(&quot;ForwardDelete&quot;,function(){t(!0)}),s||(a.on(&quot;dragstart&quot;,function(e){var t;a.selection.isCollapsed()&amp;&amp;&quot;IMG&quot;==e.target.tagName&amp;&amp;$.select(e.target),l=$.getRng(),t=a.selection.getContent(),t.length&gt;0&amp;&amp;e.dataTransfer.setData(&quot;URL&quot;,&quot;data:text/mce-internal,&quot;+escape(t))}),a.on(&quot;drop&quot;,function(e){if(!c(e)){var i=e.dataTransfer.getData(&quot;URL&quot;);if(!i||-1==i.indexOf(r)||!n.caretRangeFromPoint)return;i=unescape(i.substr(r.length)),n.caretRangeFromPoint&amp;&amp;(e.preventDefault(),window.setTimeout(function(){var r=n.caretRangeFromPoint(e.x,e.y);l&amp;&amp;($.setRng(l),l=null),t(),$.setRng(r),a.insertContent(i)},0))}}),a.on(&quot;cut&quot;,function(e){!c(e)&amp;&amp;e.clipboardData&amp;&amp;(e.preventDefault(),e.clipboardData.clearData(),e.clipboardData.setData(&quot;text/html&quot;,a.selection.getContent()),e.clipboardData.setData(&quot;text/plain&quot;,a.selection.getContent({format:&quot;text&quot;})),t(!0))}))}function d(){function e(e){var t=q.create(&quot;body&quot;),n=e.cloneContents();return t.appendChild(n),$.serializer.serialize(t,{format:&quot;html&quot;})}function n(n){if(!n.setStart){if(n.item)return!1;var r=n.duplicate();return r.moveToElementText(a.getBody()),t.compareRanges(n,r)}var i=e(n),o=q.createRng();o.selectNode(a.getBody());var s=e(o);return i===s}a.on(&quot;keydown&quot;,function(e){var t=e.keyCode,r,i;if(!c(e)&amp;&amp;(t==U||t==V)){if(r=a.selection.isCollapsed(),i=a.getBody(),r&amp;&amp;!q.isEmpty(i))return;if(!r&amp;&amp;!n(a.selection.getRng()))return;e.preventDefault(),a.setContent(&quot;&quot;),i.firstChild&amp;&amp;q.isBlock(i.firstChild)?a.selection.setCursorLocation(i.firstChild,0):a.selection.setCursorLocation(i,0),a.nodeChanged()}})}function f(){a.on(&quot;keydown&quot;,function(t){!c(t)&amp;&amp;65==t.keyCode&amp;&amp;e.metaKeyPressed(t)&amp;&amp;(t.preventDefault(),a.execCommand(&quot;SelectAll&quot;))})}function p(){a.settings.content_editable||(q.bind(a.getDoc(),&quot;focusin&quot;,function(){$.setRng($.getRng())}),q.bind(a.getDoc(),&quot;mousedown&quot;,function(e){e.target==a.getDoc().documentElement&amp;&amp;(a.getBody().focus(),$.setRng($.getRng()))}))}function h(){a.on(&quot;keydown&quot;,function(e){if(!c(e)&amp;&amp;e.keyCode===V&amp;&amp;$.isCollapsed()&amp;&amp;0===$.getRng(!0).startOffset){var t=$.getNode(),n=t.previousSibling;if(&quot;HR&quot;==t.nodeName)return q.remove(t),void e.preventDefault();n&amp;&amp;n.nodeName&amp;&amp;&quot;hr&quot;===n.nodeName.toLowerCase()&amp;&amp;(q.remove(n),e.preventDefault())}})}function m(){window.Range.prototype.getClientRects||a.on(&quot;mousedown&quot;,function(e){if(!c(e)&amp;&amp;&quot;HTML&quot;===e.target.nodeName){var t=a.getBody();t.blur(),setTimeout(function(){t.focus()},0)}})}function g(){a.on(&quot;click&quot;,function(e){e=e.target,/^(IMG|HR)$/.test(e.nodeName)&amp;&amp;$.getSel().setBaseAndExtent(e,0,e,1),&quot;A&quot;==e.nodeName&amp;&amp;q.hasClass(e,&quot;mce-item-anchor&quot;)&amp;&amp;$.select(e),a.nodeChanged()})}function v(){function e(){var e=q.getAttribs($.getStart().cloneNode(!1));return function(){var t=$.getStart();t!==a.getBody()&amp;&amp;(q.setAttrib(t,&quot;style&quot;,null),W(e,function(e){t.setAttributeNode(e.cloneNode(!0))}))}}function t(){return!$.isCollapsed()&amp;&amp;q.getParent($.getStart(),q.isBlock)!=q.getParent($.getEnd(),q.isBlock)}a.on(&quot;keypress&quot;,function(n){var r;return c(n)||8!=n.keyCode&amp;&amp;46!=n.keyCode||!t()?void 0:(r=e(),a.getDoc().execCommand(&quot;delete&quot;,!1,null),r(),n.preventDefault(),!1)}),q.bind(a.getDoc(),&quot;cut&quot;,function(n){var r;!c(n)&amp;&amp;t()&amp;&amp;(r=e(),setTimeout(function(){r()},0))})}function y(){var e,n;a.on(&quot;selectionchange&quot;,function(){n&amp;&amp;(clearTimeout(n),n=0),n=window.setTimeout(function(){if(!a.removed){var n=$.getRng();e&amp;&amp;t.compareRanges(n,e)||(a.nodeChanged(),e=n)}},50)})}function b(){document.body.setAttribute(&quot;role&quot;,&quot;application&quot;)}function C(){a.on(&quot;keydown&quot;,function(e){if(!c(e)&amp;&amp;e.keyCode===V&amp;&amp;$.isCollapsed()&amp;&amp;0===$.getRng(!0).startOffset){var t=$.getNode().previousSibling;if(t&amp;&amp;t.nodeName&amp;&amp;&quot;table&quot;===t.nodeName.toLowerCase())return e.preventDefault(),!1}})}function x(){l()&gt;7||(s(&quot;RespectVisibilityInDesign&quot;,!0),a.contentStyles.push(&quot;.mceHideBrInPre pre br {display: none}&quot;),q.addClass(a.getBody(),&quot;mceHideBrInPre&quot;),K.addNodeFilter(&quot;pre&quot;,function(e){for(var t=e.length,r,i,o,a;t--;)for(r=e[t].getAll(&quot;br&quot;),i=r.length;i--;)o=r[i],a=o.prev,a&amp;&amp;3===a.type&amp;&amp;&quot;\n&quot;!=a.value.charAt(a.value-1)?a.value+=&quot;\n&quot;:o.parent.insert(new n(&quot;#text&quot;,3),o,!0).value=&quot;\n&quot;}),G.addNodeFilter(&quot;pre&quot;,function(e){for(var t=e.length,n,r,i,o;t--;)for(n=e[t].getAll(&quot;br&quot;),r=n.length;r--;)i=n[r],o=i.prev,o&amp;&amp;3==o.type&amp;&amp;(o.value=o.value.replace(/\r?\n$/,&quot;&quot;))}))}function w(){q.bind(a.getBody(),&quot;mouseup&quot;,function(){var e,t=$.getNode();&quot;IMG&quot;==t.nodeName&amp;&amp;((e=q.getStyle(t,&quot;width&quot;))&amp;&amp;(q.setAttrib(t,&quot;width&quot;,e.replace(/[^0-9%]+/g,&quot;&quot;)),q.setStyle(t,&quot;width&quot;,&quot;&quot;)),(e=q.getStyle(t,&quot;height&quot;))&amp;&amp;(q.setAttrib(t,&quot;height&quot;,e.replace(/[^0-9%]+/g,&quot;&quot;)),q.setStyle(t,&quot;height&quot;,&quot;&quot;)))})}function _(){a.on(&quot;keydown&quot;,function(t){var n,r,i,o,s;if(!c(t)&amp;&amp;t.keyCode==e.BACKSPACE&amp;&amp;(n=$.getRng(),r=n.startContainer,i=n.startOffset,o=q.getRoot(),s=r,n.collapsed&amp;&amp;0===i)){for(;s&amp;&amp;s.parentNode&amp;&amp;s.parentNode.firstChild==s&amp;&amp;s.parentNode!=o;)s=s.parentNode;&quot;BLOCKQUOTE&quot;===s.tagName&amp;&amp;(a.formatter.toggle(&quot;blockquote&quot;,null,s),n=q.createRng(),n.setStart(r,0),n.setEnd(r,0),$.setRng(n))}})}function N(){function e(){a._refreshContentEditable(),s(&quot;StyleWithCSS&quot;,!1),s(&quot;enableInlineTableEditing&quot;,!1),j.object_resizing||s(&quot;enableObjectResizing&quot;,!1)}j.readonly||a.on(&quot;BeforeExecCommand MouseDown&quot;,e)}function E(){function e(){W(q.select(&quot;a&quot;),function(e){var t=e.parentNode,n=q.getRoot();if(t.lastChild===e){for(;t&amp;&amp;!q.isBlock(t);){if(t.parentNode.lastChild!==t||t===n)return;t=t.parentNode}q.add(t,&quot;br&quot;,{&quot;data-mce-bogus&quot;:1})}})}a.on(&quot;SetContent ExecCommand&quot;,function(t){(&quot;setcontent&quot;==t.type||&quot;mceInsertLink&quot;===t.command)&amp;&amp;e()})}function S(){j.forced_root_block&amp;&amp;a.on(&quot;init&quot;,function(){s(&quot;DefaultParagraphSeparator&quot;,j.forced_root_block)})}function k(){a.on(&quot;Undo Redo SetContent&quot;,function(e){e.initial||a.execCommand(&quot;mceRepaint&quot;)})}function T(){a.on(&quot;keydown&quot;,function(e){var t;c(e)||e.keyCode!=V||(t=a.getDoc().selection.createRange(),t&amp;&amp;t.item&amp;&amp;(e.preventDefault(),a.undoManager.beforeChange(),q.remove(t.item(0)),a.undoManager.add()))})}function R(){var e;l()&gt;=10&amp;&amp;(e=&quot;&quot;,W(&quot;p div h1 h2 h3 h4 h5 h6&quot;.split(&quot; &quot;),function(t,n){e+=(n&gt;0?&quot;,&quot;:&quot;&quot;)+t+&quot;:empty&quot;}),a.contentStyles.push(e+&quot;{padding-right: 1px !important}&quot;))}function A(){l()&lt;9&amp;&amp;(K.addNodeFilter(&quot;noscript&quot;,function(e){for(var t=e.length,n,r;t--;)n=e[t],r=n.firstChild,r&amp;&amp;n.attr(&quot;data-mce-innertext&quot;,r.value)}),G.addNodeFilter(&quot;noscript&quot;,function(e){for(var t=e.length,i,o,a;t--;)i=e[t],o=e[t].firstChild,o?o.value=r.decode(o.value):(a=i.attributes.map[&quot;data-mce-innertext&quot;],a&amp;&amp;(i.attr(&quot;data-mce-innertext&quot;,null),o=new n(&quot;#text&quot;,3),o.value=a,o.raw=!0,i.append(o)))}))}function B(){function e(e,t){var n=i.createTextRange();try{n.moveToPoint(e,t)}catch(r){n=null}return n}function t(t){var r;t.button?(r=e(t.x,t.y),r&amp;&amp;(r.compareEndPoints(&quot;StartToStart&quot;,a)&gt;0?r.setEndPoint(&quot;StartToStart&quot;,a):r.setEndPoint(&quot;EndToEnd&quot;,a),r.select())):n()}function n(){var e=r.selection.createRange();a&amp;&amp;!e.item&amp;&amp;0===e.compareEndPoints(&quot;StartToEnd&quot;,e)&amp;&amp;a.select(),q.unbind(r,&quot;mouseup&quot;,n),q.unbind(r,&quot;mousemove&quot;,t),a=o=0}var r=q.doc,i=r.body,o,a,s;r.documentElement.unselectable=!0,q.bind(r,&quot;mousedown contextmenu&quot;,function(i){if(&quot;HTML&quot;===i.target.nodeName){if(o&amp;&amp;n(),s=r.documentElement,s.scrollHeight&gt;s.clientHeight)return;o=1,a=e(i.x,i.y),a&amp;&amp;(q.bind(r,&quot;mouseup&quot;,n),q.bind(r,&quot;mousemove&quot;,t),q.getRoot().focus(),a.select())}})}function D(){a.on(&quot;keyup focusin mouseup&quot;,function(t){65==t.keyCode&amp;&amp;e.metaKeyPressed(t)||$.normalize()},!0)}function L(){a.contentStyles.push(&quot;img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}&quot;)}function M(){a.inline||a.on(&quot;keydown&quot;,function(){document.activeElement==document.body&amp;&amp;a.getWin().focus()})}function H(){a.inline||(a.contentStyles.push(&quot;body {min-height: 150px}&quot;),a.on(&quot;click&quot;,function(e){&quot;HTML&quot;==e.target.nodeName&amp;&amp;(a.getBody().focus(),a.selection.normalize(),a.nodeChanged())}))}function P(){i.mac&amp;&amp;a.on(&quot;keydown&quot;,function(t){!e.metaKeyPressed(t)||37!=t.keyCode&amp;&amp;39!=t.keyCode||(t.preventDefault(),a.selection.getSel().modify(&quot;move&quot;,37==t.keyCode?&quot;backward&quot;:&quot;forward&quot;,&quot;word&quot;))})}function O(){s(&quot;AutoUrlDetect&quot;,!1)}function I(){a.inline||a.on(&quot;focus blur beforegetcontent&quot;,function(){var e=a.dom.create(&quot;br&quot;);a.getBody().appendChild(e),e.parentNode.removeChild(e)},!0)}function F(){a.on(&quot;click&quot;,function(e){var t=e.target;do if(&quot;A&quot;===t.tagName)return void e.preventDefault();while(t=t.parentNode)}),a.contentStyles.push(&quot;.mce-content-body {-webkit-touch-callout: none}&quot;)}function z(){a.on(&quot;init&quot;,function(){a.dom.bind(a.getBody(),&quot;submit&quot;,function(e){e.preventDefault()})})}var W=o.each,V=e.BACKSPACE,U=e.DELETE,q=a.dom,$=a.selection,j=a.settings,K=a.parser,G=a.serializer,Y=i.gecko,X=i.ie,J=i.webkit;C(),_(),d(),D(),J&amp;&amp;(u(),p(),g(),S(),z(),i.iOS?(y(),M(),H(),F()):f()),X&amp;&amp;i.ie&lt;11&amp;&amp;(h(),b(),x(),w(),T(),R(),A(),B()),i.ie&gt;=11&amp;&amp;(H(),I()),i.ie&amp;&amp;(f(),O()),Y&amp;&amp;(h(),m(),v(),N(),E(),k(),L(),P())}}),r(ot,[W],function(e){function t(t){return t._eventDispatcher||(t._eventDispatcher=new e({scope:t,toggleEvent:function(n,r){e.isNative(n)&amp;&amp;t.toggleNativeEvent&amp;&amp;t.toggleNativeEvent(n,r)}})),t._eventDispatcher}return{fire:function(e,n,r){var i=this;if(i.removed&amp;&amp;&quot;remove&quot;!==e)return n;if(n=t(i).fire(e,n,r),r!==!1&amp;&amp;i.parent)for(var o=i.parent();o&amp;&amp;!n.isPropagationStopped();)o.fire(e,n,!1),o=o.parent();return n},on:function(e,n,r){return t(this).on(e,n,r)},off:function(e,n){return t(this).off(e,n)},hasEventListeners:function(e){return t(this).has(e)}}}),r(at,[ot,y,p],function(e,t,n){function r(e,t){return&quot;selectionchange&quot;==t?e.getDoc():!e.inline&amp;&amp;/^mouse|click|contextmenu|drop/.test(t)?e.getDoc():e.getBody()}function i(e,t){var n=e.settings.event_root,i=e.editorManager,a=i.eventRootElm||r(e,t);if(n){if(i.rootEvents||(i.rootEvents={},i.on(&quot;RemoveEditor&quot;,function(){i.activeEditor||(o.unbind(a),delete i.rootEvents)})),i.rootEvents[t])return;a==e.getBody()&amp;&amp;(a=o.select(n)[0],i.eventRootElm=a),i.rootEvents[t]=!0,o.bind(a,t,function(e){for(var n=e.target,r=i.editors,a=r.length;a--;){var s=r[a].getBody();(s===n||o.isChildOf(n,s))&amp;&amp;(r[a].hidden||r[a].fire(t,e))}})}else e.dom.bind(a,t,function(n){e.hidden||e.fire(t,n)})}var o=t.DOM,a={bindPendingEventDelegates:function(){var e=this;n.each(e._pendingNativeEvents,function(t){i(e,t)})},toggleNativeEvent:function(e,t){var n=this;n.settings.readonly||&quot;focus&quot;!=e&amp;&amp;&quot;blur&quot;!=e&amp;&amp;(t?n.initialized?i(n,e):n._pendingNativeEvents?n._pendingNativeEvents.push(e):n._pendingNativeEvents=[e]:n.initialized&amp;&amp;n.dom.unbind(r(n,e),e))}};return a=n.extend({},e,a)}),r(st,[p,g],function(e,t){var n=e.each,r=e.explode,i={f9:120,f10:121,f11:122};return function(o){var a=this,s={};o.on(&quot;keyup keypress keydown&quot;,function(e){(e.altKey||e.ctrlKey||e.metaKey)&amp;&amp;n(s,function(n){var r=t.mac?e.metaKey:e.ctrlKey;if(n.ctrl==r&amp;&amp;n.alt==e.altKey&amp;&amp;n.shift==e.shiftKey)return e.keyCode==n.keyCode||e.charCode&amp;&amp;e.charCode==n.charCode?(e.preventDefault(),&quot;keydown&quot;==e.type&amp;&amp;n.func.call(n.scope),!0):void 0})}),a.add=function(t,a,l,c){var u;return u=l,&quot;string&quot;==typeof l?l=function(){o.execCommand(u,!1,null)}:e.isArray(u)&amp;&amp;(l=function(){o.execCommand(u[0],u[1],u[2])}),n(r(t.toLowerCase()),function(e){var t={func:l,scope:c||o,desc:o.translate(a),alt:!1,ctrl:!1,shift:!1};n(r(e,&quot;+&quot;),function(e){switch(e){case&quot;alt&quot;:case&quot;ctrl&quot;:case&quot;shift&quot;:t[e]=!0;break;default:t.charCode=e.charCodeAt(0),t.keyCode=i[e]||e.toUpperCase().charCodeAt(0)}}),s[(t.ctrl?&quot;ctrl&quot;:&quot;&quot;)+&quot;,&quot;+(t.alt?&quot;alt&quot;:&quot;&quot;)+&quot;,&quot;+(t.shift?&quot;shift&quot;:&quot;&quot;)+&quot;,&quot;+t.keyCode]=t}),!0}}}),r(lt,[y,C,x,k,S,D,M,H,P,O,I,F,b,l,rt,w,N,it,g,p,at,st],function(e,n,r,i,o,a,s,l,c,u,d,f,p,h,m,g,v,y,b,C,x,w){function _(e,t,r){var i=this,o,a;o=i.documentBaseUrl=r.documentBaseURL,a=r.baseURI,i.settings=t=k({id:e,theme:&quot;modern&quot;,delta_width:0,delta_height:0,popup_css:&quot;&quot;,plugins:&quot;&quot;,document_base_url:o,add_form_submit_trigger:!0,submit_patch:!0,add_unload_trigger:!0,convert_urls:!0,relative_urls:!0,remove_script_host:!0,object_resizing:!0,doctype:&quot;&lt;!DOCTYPE html&gt;&quot;,visual:!0,font_size_style_values:&quot;xx-small,x-small,small,medium,large,x-large,xx-large&quot;,font_size_legacy_values:&quot;xx-small,small,medium,large,x-large,xx-large,300%&quot;,forced_root_block:&quot;p&quot;,hidden_input:!0,padd_empty_editor:!0,render_ui:!0,indentation:&quot;30px&quot;,inline_styles:!0,convert_fonts_to_spans:!0,indent:&quot;simple&quot;,indent_before:&quot;p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,ul,li,area,table,thead,tfoot,tbody,tr,section,article,hgroup,aside,figure,option,optgroup,datalist&quot;,indent_after:&quot;p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,ul,li,area,table,thead,tfoot,tbody,tr,section,article,hgroup,aside,figure,option,optgroup,datalist&quot;,validate:!0,entity_encoding:&quot;named&quot;,url_converter:i.convertURL,url_converter_scope:i,ie7_compat:!0},t),n.language=t.language||&quot;en&quot;,n.languageLoad=t.language_load,n.baseURL=r.baseURL,i.id=t.id=e,i.isNotDirty=!0,i.plugins={},i.documentBaseURI=new f(t.document_base_url||o,{base_uri:a}),i.baseURI=a,i.contentCSS=[],i.contentStyles=[],i.shortcuts=new w(i),i.execCommands={},i.queryStateCommands={},i.queryValueCommands={},i.loadedCSS={},i.suffix=r.suffix,i.editorManager=r,i.inline=t.inline,r.fire(&quot;SetupEditor&quot;,i),i.execCallback(&quot;setup&quot;,i)}var N=e.DOM,E=n.ThemeManager,S=n.PluginManager,k=C.extend,T=C.each,R=C.explode,A=C.inArray,B=C.trim,D=C.resolve,L=h.Event,M=b.gecko,H=b.ie;return _.prototype={render:function(){function e(){N.unbind(window,&quot;ready&quot;,e),n.render()}function t(){var e=p.ScriptLoader;if(r.language&amp;&amp;&quot;en&quot;!=r.language&amp;&amp;!r.language_url&amp;&amp;(r.language_url=n.editorManager.baseURL+&quot;/langs/&quot;+r.language+&quot;.js&quot;),r.language_url&amp;&amp;e.add(r.language_url),r.theme&amp;&amp;&quot;function&quot;!=typeof r.theme&amp;&amp;&quot;-&quot;!=r.theme.charAt(0)&amp;&amp;!E.urls[r.theme]){var t=r.theme_url;t=t?n.documentBaseURI.toAbsolute(t):&quot;themes/&quot;+r.theme+&quot;/theme&quot;+o+&quot;.js&quot;,E.load(r.theme,t)}C.isArray(r.plugins)&amp;&amp;(r.plugins=r.plugins.join(&quot; &quot;)),T(r.external_plugins,function(e,t){S.load(t,e),r.plugins+=&quot; &quot;+t}),T(r.plugins.split(/[ ,]/),function(e){if(e=B(e),e&amp;&amp;!S.urls[e])if(&quot;-&quot;==e.charAt(0)){e=e.substr(1,e.length);var t=S.dependencies(e);T(t,function(e){var t={prefix:&quot;plugins/&quot;,resource:e,suffix:&quot;/plugin&quot;+o+&quot;.js&quot;};e=S.createUrl(t,e),S.load(e.resource,e)})}else S.load(e,{prefix:&quot;plugins/&quot;,resource:e,suffix:&quot;/plugin&quot;+o+&quot;.js&quot;})}),e.loadQueue(function(){n.removed||n.init()})}var n=this,r=n.settings,i=n.id,o=n.suffix;if(!L.domLoaded)return void N.bind(window,&quot;ready&quot;,e);if(n.getElement()&amp;&amp;b.contentEditable){r.inline?n.inline=!0:(n.orgVisibility=n.getElement().style.visibility,n.getElement().style.visibility=&quot;hidden&quot;);var a=n.getElement().form||N.getParent(i,&quot;form&quot;);a&amp;&amp;(n.formElement=a,r.hidden_input&amp;&amp;!/TEXTAREA|INPUT/i.test(n.getElement().nodeName)&amp;&amp;(N.insertAfter(N.create(&quot;input&quot;,{type:&quot;hidden&quot;,name:i}),i),n.hasHiddenInput=!0),n.formEventDelegate=function(e){n.fire(e.type,e)},N.bind(a,&quot;submit reset&quot;,n.formEventDelegate),n.on(&quot;reset&quot;,function(){n.setContent(n.startContent,{format:&quot;raw&quot;})}),!r.submit_patch||a.submit.nodeType||a.submit.length||a._mceOldSubmit||(a._mceOldSubmit=a.submit,a.submit=function(){return n.editorManager.triggerSave(),n.isNotDirty=!0,a._mceOldSubmit(a)})),n.windowManager=new m(n),&quot;xml&quot;==r.encoding&amp;&amp;n.on(&quot;GetContent&quot;,function(e){e.save&amp;&amp;(e.content=N.encode(e.content))}),r.add_form_submit_trigger&amp;&amp;n.on(&quot;submit&quot;,function(){n.initialized&amp;&amp;n.save()}),r.add_unload_trigger&amp;&amp;(n._beforeUnload=function(){!n.initialized||n.destroyed||n.isHidden()||n.save({format:&quot;raw&quot;,no_events:!0,set_dirty:!1})},n.editorManager.on(&quot;BeforeUnload&quot;,n._beforeUnload)),t()}},init:function(){function e(n){var r=S.get(n),i,o;i=S.urls[n]||t.documentBaseUrl.replace(/\/$/,&quot;&quot;),n=B(n),r&amp;&amp;-1===A(m,n)&amp;&amp;(T(S.dependencies(n),function(t){e(t)}),o=new r(t,i),t.plugins[n]=o,o.init&amp;&amp;(o.init(t,i),m.push(n)))}var t=this,n=t.settings,r=t.getElement(),i,o,a,s,l,c,u,d,f,p,h,m=[];if(t.rtl=this.editorManager.i18n.rtl,t.editorManager.add(t),n.aria_label=n.aria_label||N.getAttrib(r,&quot;aria-label&quot;,t.getLang(&quot;aria.rich_text_area&quot;)),n.theme&amp;&amp;(&quot;function&quot;!=typeof n.theme?(n.theme=n.theme.replace(/-/,&quot;&quot;),c=E.get(n.theme),t.theme=new c(t,E.urls[n.theme]),t.theme.init&amp;&amp;t.theme.init(t,E.urls[n.theme]||t.documentBaseUrl.replace(/\/$/,&quot;&quot;))):t.theme=n.theme),T(n.plugins.replace(/\-/g,&quot;&quot;).split(/[ ,]/),e),n.render_ui&amp;&amp;t.theme&amp;&amp;(t.orgDisplay=r.style.display,&quot;function&quot;!=typeof n.theme?(i=n.width||r.style.width||r.offsetWidth,o=n.height||r.style.height||r.offsetHeight,a=n.min_height||100,p=/^[0-9\.]+(|px)$/i,p.test(&quot;&quot;+i)&amp;&amp;(i=Math.max(parseInt(i,10),100)),p.test(&quot;&quot;+o)&amp;&amp;(o=Math.max(parseInt(o,10),a)),l=t.theme.renderUI({targetNode:r,width:i,height:o,deltaWidth:n.delta_width,deltaHeight:n.delta_height}),n.content_editable||(N.setStyles(l.sizeContainer||l.editorContainer,{wi2dth:i,h2eight:o}),o=(l.iframeHeight||o)+(&quot;number&quot;==typeof o?l.deltaHeight||0:&quot;&quot;),a&gt;o&amp;&amp;(o=a))):(l=n.theme(t,r),l.editorContainer.nodeType&amp;&amp;(l.editorContainer=l.editorContainer.id=l.editorContainer.id||t.id+&quot;_parent&quot;),l.iframeContainer.nodeType&amp;&amp;(l.iframeContainer=l.iframeContainer.id=l.iframeContainer.id||t.id+&quot;_iframecontainer&quot;),o=l.iframeHeight||r.offsetHeight),t.editorContainer=l.editorContainer),n.content_css&amp;&amp;T(R(n.content_css),function(e){t.contentCSS.push(t.documentBaseURI.toAbsolute(e))}),n.content_style&amp;&amp;t.contentStyles.push(n.content_style),n.content_editable)return r=s=l=null,t.initContentBody();for(t.iframeHTML=n.doctype+&quot;&lt;html&gt;&lt;head&gt;&quot;,n.document_base_url!=t.documentBaseUrl&amp;&amp;(t.iframeHTML+=&#039;&lt;base href=&quot;&#039;+t.documentBaseURI.getURI()+&#039;&quot; /&gt;&#039;),!b.caretAfter&amp;&amp;n.ie7_compat&amp;&amp;(t.iframeHTML+=&#039;&lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=7&quot; /&gt;&#039;),t.iframeHTML+=&#039;&lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot; /&gt;&#039;,h=0;h&lt;t.contentCSS.length;h++){var g=t.contentCSS[h];t.iframeHTML+=&#039;&lt;link type=&quot;text/css&quot; rel=&quot;stylesheet&quot; href=&quot;&#039;+g+&#039;&quot; /&gt;&#039;,t.loadedCSS[g]=!0}d=n.body_id||&quot;tinymce&quot;,-1!=d.indexOf(&quot;=&quot;)&amp;&amp;(d=t.getParam(&quot;body_id&quot;,&quot;&quot;,&quot;hash&quot;),d=d[t.id]||d),f=n.body_class||&quot;&quot;,-1!=f.indexOf(&quot;=&quot;)&amp;&amp;(f=t.getParam(&quot;body_class&quot;,&quot;&quot;,&quot;hash&quot;),f=f[t.id]||&quot;&quot;),t.iframeHTML+=&#039;&lt;/head&gt;&lt;body id=&quot;&#039;+d+&#039;&quot; class=&quot;mce-content-body &#039;+f+&#039;&quot; onload=&quot;window.parent.tinymce.get(\&#039;&#039;+t.id+&quot;&#039;).fire(&#039;load&#039;);\&quot;&gt;&lt;br&gt;&lt;/body&gt;&lt;/html&gt;&quot;;var v=&#039;javascript:(function(){document.open();document.domain=&quot;&#039;+document.domain+&#039;&quot;;var ed = window.parent.tinymce.get(&quot;&#039;+t.id+&#039;&quot;);document.write(ed.iframeHTML);document.close();ed.initContentBody(true);})()&#039;;if(document.domain!=location.hostname&amp;&amp;(u=v),s=N.add(l.iframeContainer,&quot;iframe&quot;,{id:t.id+&quot;_ifr&quot;,src:u||&#039;javascript:&quot;&quot;&#039;,frameBorder:&quot;0&quot;,allowTransparency:&quot;true&quot;,title:t.editorManager.translate(&quot;Rich Text Area. Press ALT-F9 for menu. Press ALT-F10 for toolbar. Press ALT-0 for help&quot;),style:{width:&quot;100%&quot;,height:o,display:&quot;block&quot;}}),H)try{t.getDoc()}catch(y){s.src=u=v}t.contentAreaContainer=l.iframeContainer,l.editorContainer&amp;&amp;(N.get(l.editorContainer).style.display=t.orgDisplay),N.get(t.id).style.display=&quot;none&quot;,N.setAttrib(t.id,&quot;aria-hidden&quot;,!0),u||t.initContentBody(),r=s=l=null},initContentBody:function(t){var n=this,o=n.settings,f=N.get(n.id),p=n.getDoc(),h,m;o.inline||(n.getElement().style.visibility=n.orgVisibility),t||o.content_editable||(p.open(),p.write(n.iframeHTML),p.close()),o.content_editable&amp;&amp;(n.on(&quot;remove&quot;,function(){var e=this.getBody();N.removeClass(e,&quot;mce-content-body&quot;),N.removeClass(e,&quot;mce-edit-focus&quot;),N.setAttrib(e,&quot;contentEditable&quot;,null)}),N.addClass(f,&quot;mce-content-body&quot;),n.contentDocument=p=o.content_document||document,n.contentWindow=o.content_window||window,n.bodyElement=f,o.content_document=o.content_window=null,o.root_name=f.nodeName.toLowerCase()),h=n.getBody(),h.disabled=!0,o.readonly||(n.inline&amp;&amp;&quot;static&quot;==N.getStyle(h,&quot;position&quot;,!0)&amp;&amp;(h.style.position=&quot;relative&quot;),h.contentEditable=n.getParam(&quot;content_editable_state&quot;,!0)),h.disabled=!1,n.schema=new g(o),n.dom=new e(p,{keep_values:!0,url_converter:n.convertURL,url_converter_scope:n,hex_colors:o.force_hex_style_colors,class_filter:o.class_filter,update_styles:!0,root_element:o.content_editable?n.id:null,collect:o.content_editable,schema:n.schema,onSetAttrib:function(e){n.fire(&quot;SetAttrib&quot;,e)
}}),n.parser=new v(o,n.schema),n.parser.addAttributeFilter(&quot;src,href,style,tabindex&quot;,function(e,t){for(var r=e.length,i,o=n.dom,a,s;r--;)i=e[r],a=i.attr(t),s=&quot;data-mce-&quot;+t,i.attributes.map[s]||(&quot;style&quot;===t?i.attr(s,o.serializeStyle(o.parseStyle(a),i.name)):&quot;tabindex&quot;===t?(i.attr(s,a),i.attr(t,null)):i.attr(s,n.convertURL(a,t,i.name)))}),n.parser.addNodeFilter(&quot;script&quot;,function(e){for(var t=e.length,n;t--;)n=e[t],n.attr(&quot;type&quot;,&quot;mce-&quot;+(n.attr(&quot;type&quot;)||&quot;text/javascript&quot;))}),n.parser.addNodeFilter(&quot;#cdata&quot;,function(e){for(var t=e.length,n;t--;)n=e[t],n.type=8,n.name=&quot;#comment&quot;,n.value=&quot;[CDATA[&quot;+n.value+&quot;]]&quot;}),n.parser.addNodeFilter(&quot;p,h1,h2,h3,h4,h5,h6,div&quot;,function(e){for(var t=e.length,i,o=n.schema.getNonEmptyElements();t--;)i=e[t],i.isEmpty(o)&amp;&amp;(i.empty().append(new r(&quot;br&quot;,1)).shortEnded=!0)}),n.serializer=new i(o,n),n.selection=new a(n.dom,n.getWin(),n.serializer,n),n.formatter=new s(n),n.undoManager=new l(n),n.forceBlocks=new u(n),n.enterKey=new c(n),n.editorCommands=new d(n),n.fire(&quot;PreInit&quot;),o.browser_spellcheck||o.gecko_spellcheck||(p.body.spellcheck=!1,N.setAttrib(h,&quot;spellcheck&quot;,&quot;false&quot;)),n.fire(&quot;PostRender&quot;),n.quirks=y(n),o.directionality&amp;&amp;(h.dir=o.directionality),o.nowrap&amp;&amp;(h.style.whiteSpace=&quot;nowrap&quot;),o.protect&amp;&amp;n.on(&quot;BeforeSetContent&quot;,function(e){T(o.protect,function(t){e.content=e.content.replace(t,function(e){return&quot;&lt;!--mce:protected &quot;+escape(e)+&quot;--&gt;&quot;})})}),n.on(&quot;SetContent&quot;,function(){n.addVisual(n.getBody())}),o.padd_empty_editor&amp;&amp;n.on(&quot;PostProcess&quot;,function(e){e.content=e.content.replace(/^(&lt;p[^&gt;]*&gt;(&amp;nbsp;|&amp;#160;|\s|\u00a0|)&lt;\/p&gt;[\r\n]*|&lt;br \/&gt;[\r\n]*)$/,&quot;&quot;)}),n.load({initial:!0,format:&quot;html&quot;}),n.startContent=n.getContent({format:&quot;raw&quot;}),n.initialized=!0,n.bindPendingEventDelegates(),n.fire(&quot;init&quot;),n.focus(!0),n.nodeChanged({initial:!0}),n.execCallback(&quot;init_instance_callback&quot;,n),n.contentStyles.length&gt;0&amp;&amp;(m=&quot;&quot;,T(n.contentStyles,function(e){m+=e+&quot;\r\n&quot;}),n.dom.addStyle(m)),T(n.contentCSS,function(e){n.loadedCSS[e]||(n.dom.loadCSS(e),n.loadedCSS[e]=!0)}),o.auto_focus&amp;&amp;setTimeout(function(){var e=n.editorManager.get(o.auto_focus);e.selection.select(e.getBody(),1),e.selection.collapse(1),e.getBody().focus(),e.getWin().focus()},100),f=p=h=null},focus:function(e){var t,n=this,r=n.selection,i=n.settings.content_editable,o,a,s=n.getDoc(),l;if(!e){if(o=r.getRng(),o.item&amp;&amp;(a=o.item(0)),n._refreshContentEditable(),i||(b.opera||n.getBody().focus(),n.getWin().focus()),M||i){if(l=n.getBody(),l.setActive)try{l.setActive()}catch(c){l.focus()}else l.focus();i&amp;&amp;r.normalize()}a&amp;&amp;a.ownerDocument==s&amp;&amp;(o=s.body.createControlRange(),o.addElement(a),o.select())}n.editorManager.activeEditor!=n&amp;&amp;((t=n.editorManager.activeEditor)&amp;&amp;t.fire(&quot;deactivate&quot;,{relatedTarget:n}),n.fire(&quot;activate&quot;,{relatedTarget:t})),n.editorManager.activeEditor=n},execCallback:function(e){var t=this,n=t.settings[e],r;if(n)return t.callbackLookup&amp;&amp;(r=t.callbackLookup[e])&amp;&amp;(n=r.func,r=r.scope),&quot;string&quot;==typeof n&amp;&amp;(r=n.replace(/\.\w+$/,&quot;&quot;),r=r?D(r):0,n=D(n),t.callbackLookup=t.callbackLookup||{},t.callbackLookup[e]={func:n,scope:r}),n.apply(r||t,Array.prototype.slice.call(arguments,1))},translate:function(e){var t=this.settings.language||&quot;en&quot;,n=this.editorManager.i18n;return e?n.data[t+&quot;.&quot;+e]||e.replace(/\{\#([^\}]+)\}/g,function(e,r){return n.data[t+&quot;.&quot;+r]||&quot;{#&quot;+r+&quot;}&quot;}):&quot;&quot;},getLang:function(e,n){return this.editorManager.i18n.data[(this.settings.language||&quot;en&quot;)+&quot;.&quot;+e]||(n!==t?n:&quot;{#&quot;+e+&quot;}&quot;)},getParam:function(e,t,n){var r=e in this.settings?this.settings[e]:t,i;return&quot;hash&quot;===n?(i={},&quot;string&quot;==typeof r?T(r.split(r.indexOf(&quot;=&quot;)&gt;0?/[;,](?![^=;,]*(?:[;,]|$))/:&quot;,&quot;),function(e){e=e.split(&quot;=&quot;),i[B(e[0])]=B(e.length&gt;1?e[1]:e)}):i=r,i):r},nodeChanged:function(){var e=this,t=e.selection,n,r,i;!e.initialized||e.settings.disable_nodechange||e.settings.readonly||(i=e.getBody(),n=t.getStart()||i,n=H&amp;&amp;n.ownerDocument!=e.getDoc()?e.getBody():n,&quot;IMG&quot;==n.nodeName&amp;&amp;t.isCollapsed()&amp;&amp;(n=n.parentNode),r=[],e.dom.getParent(n,function(e){return e===i?!0:void r.push(e)}),e.fire(&quot;NodeChange&quot;,{element:n,parents:r}))},addButton:function(e,t){var n=this;t.cmd&amp;&amp;(t.onclick=function(){n.execCommand(t.cmd)}),t.text||t.icon||(t.icon=e),n.buttons=n.buttons||{},t.tooltip=t.tooltip||t.title,n.buttons[e]=t},addMenuItem:function(e,t){var n=this;t.cmd&amp;&amp;(t.onclick=function(){n.execCommand(t.cmd)}),n.menuItems=n.menuItems||{},n.menuItems[e]=t},addCommand:function(e,t,n){this.execCommands[e]={func:t,scope:n||this}},addQueryStateHandler:function(e,t,n){this.queryStateCommands[e]={func:t,scope:n||this}},addQueryValueHandler:function(e,t,n){this.queryValueCommands[e]={func:t,scope:n||this}},addShortcut:function(e,t,n,r){this.shortcuts.add(e,t,n,r)},execCommand:function(e,t,n,r){var i=this,o=0,a;return/^(mceAddUndoLevel|mceEndUndoLevel|mceBeginUndoLevel|mceRepaint)$/.test(e)||r&amp;&amp;r.skip_focus||i.focus(),r=k({},r),r=i.fire(&quot;BeforeExecCommand&quot;,{command:e,ui:t,value:n}),r.isDefaultPrevented()?!1:(a=i.execCommands[e])&amp;&amp;a.func.call(a.scope,t,n)!==!0?(i.fire(&quot;ExecCommand&quot;,{command:e,ui:t,value:n}),!0):(T(i.plugins,function(r){return r.execCommand&amp;&amp;r.execCommand(e,t,n)?(i.fire(&quot;ExecCommand&quot;,{command:e,ui:t,value:n}),o=!0,!1):void 0}),o?o:i.theme&amp;&amp;i.theme.execCommand&amp;&amp;i.theme.execCommand(e,t,n)?(i.fire(&quot;ExecCommand&quot;,{command:e,ui:t,value:n}),!0):i.editorCommands.execCommand(e,t,n)?(i.fire(&quot;ExecCommand&quot;,{command:e,ui:t,value:n}),!0):(i.getDoc().execCommand(e,t,n),void i.fire(&quot;ExecCommand&quot;,{command:e,ui:t,value:n})))},queryCommandState:function(e){var t=this,n,r;if(!t._isHidden()){if((n=t.queryStateCommands[e])&amp;&amp;(r=n.func.call(n.scope),r!==!0))return r;if(r=t.editorCommands.queryCommandState(e),-1!==r)return r;try{return t.getDoc().queryCommandState(e)}catch(i){}}},queryCommandValue:function(e){var n=this,r,i;if(!n._isHidden()){if((r=n.queryValueCommands[e])&amp;&amp;(i=r.func.call(r.scope),i!==!0))return i;if(i=n.editorCommands.queryCommandValue(e),i!==t)return i;try{return n.getDoc().queryCommandValue(e)}catch(o){}}},show:function(){var e=this;e.hidden&amp;&amp;(e.hidden=!1,e.inline?e.getBody().contentEditable=!0:(N.show(e.getContainer()),N.hide(e.id)),e.load(),e.fire(&quot;show&quot;))},hide:function(){var e=this,t=e.getDoc();e.hidden||(e.hidden=!0,H&amp;&amp;t&amp;&amp;!e.inline&amp;&amp;t.execCommand(&quot;SelectAll&quot;),e.save(),e.inline?(e.getBody().contentEditable=!1,e==e.editorManager.focusedEditor&amp;&amp;(e.editorManager.focusedEditor=null)):(N.hide(e.getContainer()),N.setStyle(e.id,&quot;display&quot;,e.orgDisplay)),e.fire(&quot;hide&quot;))},isHidden:function(){return!!this.hidden},setProgressState:function(e,t){this.fire(&quot;ProgressState&quot;,{state:e,time:t})},load:function(e){var n=this,r=n.getElement(),i;return r?(e=e||{},e.load=!0,i=n.setContent(r.value!==t?r.value:r.innerHTML,e),e.element=r,e.no_events||n.fire(&quot;LoadContent&quot;,e),e.element=r=null,i):void 0},save:function(e){var t=this,n=t.getElement(),r,i;if(n&amp;&amp;t.initialized)return e=e||{},e.save=!0,e.element=n,r=e.content=t.getContent(e),e.no_events||t.fire(&quot;SaveContent&quot;,e),r=e.content,/TEXTAREA|INPUT/i.test(n.nodeName)?n.value=r:(t.inline||(n.innerHTML=r),(i=N.getParent(t.id,&quot;form&quot;))&amp;&amp;T(i.elements,function(e){return e.name==t.id?(e.value=r,!1):void 0})),e.element=n=null,e.set_dirty!==!1&amp;&amp;(t.isNotDirty=!0),r},setContent:function(e,t){var n=this,r=n.getBody(),i;return t=t||{},t.format=t.format||&quot;html&quot;,t.set=!0,t.content=e,t.no_events||n.fire(&quot;BeforeSetContent&quot;,t),e=t.content,0===e.length||/^\s+$/.test(e)?(i=n.settings.forced_root_block,i&amp;&amp;n.schema.isValidChild(r.nodeName.toLowerCase(),i.toLowerCase())?(e=H&amp;&amp;11&gt;H?&quot;&quot;:&#039;&lt;br data-mce-bogus=&quot;1&quot;&gt;&#039;,e=n.dom.createHTML(i,n.settings.forced_root_block_attrs,e)):H||(e=&#039;&lt;br data-mce-bogus=&quot;1&quot;&gt;&#039;),r.innerHTML=e,n.fire(&quot;SetContent&quot;,t)):(&quot;raw&quot;!==t.format&amp;&amp;(e=new o({},n.schema).serialize(n.parser.parse(e,{isRootContent:!0}))),t.content=B(e),n.dom.setHTML(r,t.content),t.no_events||n.fire(&quot;SetContent&quot;,t)),t.content},getContent:function(e){var t=this,n,r=t.getBody();return e=e||{},e.format=e.format||&quot;html&quot;,e.get=!0,e.getInner=!0,e.no_events||t.fire(&quot;BeforeGetContent&quot;,e),n=&quot;raw&quot;==e.format?r.innerHTML:&quot;text&quot;==e.format?r.innerText||r.textContent:t.serializer.serialize(r,e),e.content=&quot;text&quot;!=e.format?B(n):n,e.no_events||t.fire(&quot;GetContent&quot;,e),e.content},insertContent:function(e){this.execCommand(&quot;mceInsertContent&quot;,!1,e)},isDirty:function(){return!this.isNotDirty},getContainer:function(){var e=this;return e.container||(e.container=N.get(e.editorContainer||e.id+&quot;_parent&quot;)),e.container},getContentAreaContainer:function(){return this.contentAreaContainer},getElement:function(){return N.get(this.settings.content_element||this.id)},getWin:function(){var e=this,t;return e.contentWindow||(t=N.get(e.id+&quot;_ifr&quot;),t&amp;&amp;(e.contentWindow=t.contentWindow)),e.contentWindow},getDoc:function(){var e=this,t;return e.contentDocument||(t=e.getWin(),t&amp;&amp;(e.contentDocument=t.document)),e.contentDocument},getBody:function(){return this.bodyElement||this.getDoc().body},convertURL:function(e,t,n){var r=this,i=r.settings;return i.urlconverter_callback?r.execCallback(&quot;urlconverter_callback&quot;,e,n,!0,t):!i.convert_urls||n&amp;&amp;&quot;LINK&quot;==n.nodeName||0===e.indexOf(&quot;file:&quot;)||0===e.length?e:i.relative_urls?r.documentBaseURI.toRelative(e):e=r.documentBaseURI.toAbsolute(e,i.remove_script_host)},addVisual:function(e){var n=this,r=n.settings,i=n.dom,o;e=e||n.getBody(),n.hasVisual===t&amp;&amp;(n.hasVisual=r.visual),T(i.select(&quot;table,a&quot;,e),function(e){var t;switch(e.nodeName){case&quot;TABLE&quot;:return o=r.visual_table_class||&quot;mce-item-table&quot;,t=i.getAttrib(e,&quot;border&quot;),void(t&amp;&amp;&quot;0&quot;!=t||(n.hasVisual?i.addClass(e,o):i.removeClass(e,o)));case&quot;A&quot;:return void(i.getAttrib(e,&quot;href&quot;,!1)||(t=i.getAttrib(e,&quot;name&quot;)||e.id,o=r.visual_anchor_class||&quot;mce-item-anchor&quot;,t&amp;&amp;(n.hasVisual?i.addClass(e,o):i.removeClass(e,o))))}}),n.fire(&quot;VisualAid&quot;,{element:e,hasVisual:n.hasVisual})},remove:function(){var e=this;if(!e.removed){e.removed=1,e.save(),e.hasHiddenInput&amp;&amp;N.remove(e.getElement().nextSibling),e.inline||(H&amp;&amp;10&gt;H&amp;&amp;e.getDoc().execCommand(&quot;SelectAll&quot;,!1,null),N.setStyle(e.id,&quot;display&quot;,e.orgDisplay),e.getBody().onload=null,L.unbind(e.getWin()),L.unbind(e.getDoc()));var t=e.getContainer();L.unbind(e.getBody()),L.unbind(t),e.fire(&quot;remove&quot;),e.editorManager.remove(e),N.remove(t),e.destroy()}},destroy:function(e){var t=this,n;if(!t.destroyed){if(!e&amp;&amp;!t.removed)return void t.remove();e&amp;&amp;M&amp;&amp;(L.unbind(t.getDoc()),L.unbind(t.getWin()),L.unbind(t.getBody())),e||(t.editorManager.off(&quot;beforeunload&quot;,t._beforeUnload),t.theme&amp;&amp;t.theme.destroy&amp;&amp;t.theme.destroy(),t.selection.destroy(),t.dom.destroy()),n=t.formElement,n&amp;&amp;(n._mceOldSubmit&amp;&amp;(n.submit=n._mceOldSubmit,n._mceOldSubmit=null),N.unbind(n,&quot;submit reset&quot;,t.formEventDelegate)),t.contentAreaContainer=t.formElement=t.container=t.editorContainer=null,t.settings.content_element=t.bodyElement=t.contentDocument=t.contentWindow=null,t.selection&amp;&amp;(t.selection=t.selection.win=t.selection.dom=t.selection.dom.doc=null),t.destroyed=1}},_refreshContentEditable:function(){var e=this,t,n;e._isHidden()&amp;&amp;(t=e.getBody(),n=t.parentNode,n.removeChild(t),n.appendChild(t),t.focus())},_isHidden:function(){var e;return M?(e=this.selection.getSel(),!e||!e.rangeCount||0===e.rangeCount):0}},k(_.prototype,x),_}),r(ct,[],function(){var e={};return{rtl:!1,add:function(t,n){for(var r in n)e[r]=n[r];this.rtl=this.rtl||&quot;rtl&quot;===e._dir},translate:function(t){if(&quot;undefined&quot;==typeof t)return t;if(&quot;string&quot;!=typeof t&amp;&amp;t.raw)return t.raw;if(t.push){var n=t.slice(1);t=(e[t[0]]||t[0]).replace(/\{([^\}]+)\}/g,function(e,t){return n[t]})}return e[t]||t},data:e}}),r(ut,[y,g],function(e,t){function n(e){function s(){try{return document.activeElement}catch(e){return document.body}}function l(e,t){if(t&amp;&amp;t.startContainer){if(!e.isChildOf(t.startContainer,e.getRoot())||!e.isChildOf(t.endContainer,e.getRoot()))return;return{startContainer:t.startContainer,startOffset:t.startOffset,endContainer:t.endContainer,endOffset:t.endOffset}}return t}function c(e,t){var n;return t.startContainer?(n=e.getDoc().createRange(),n.setStart(t.startContainer,t.startOffset),n.setEnd(t.endContainer,t.endOffset)):n=t,n}function u(e){return!!a.getParent(e,n.isEditorUIElement)}function d(n){var d=n.editor;d.on(&quot;init&quot;,function(){(d.inline||t.ie)&amp;&amp;(d.on(&quot;nodechange keyup&quot;,function(){var e=document.activeElement;e&amp;&amp;e.id==d.id+&quot;_ifr&quot;&amp;&amp;(e=d.getBody()),d.dom.isChildOf(e,d.getBody())&amp;&amp;(d.lastRng=d.selection.getRng())}),t.webkit&amp;&amp;!r&amp;&amp;(r=function(){var t=e.activeEditor;if(t&amp;&amp;t.selection){var n=t.selection.getRng();n&amp;&amp;!n.collapsed&amp;&amp;(d.lastRng=n)}},a.bind(document,&quot;selectionchange&quot;,r)))}),d.on(&quot;setcontent&quot;,function(){d.lastRng=null}),d.on(&quot;mousedown&quot;,function(){d.selection.lastFocusBookmark=null}),d.on(&quot;focusin&quot;,function(){var t=e.focusedEditor;d.selection.lastFocusBookmark&amp;&amp;(d.selection.setRng(c(d,d.selection.lastFocusBookmark)),d.selection.lastFocusBookmark=null),t!=d&amp;&amp;(t&amp;&amp;t.fire(&quot;blur&quot;,{focusedEditor:d}),e.activeEditor=d,e.focusedEditor=d,d.fire(&quot;focus&quot;,{blurredEditor:t}),d.focus(!0)),d.lastRng=null}),d.on(&quot;focusout&quot;,function(){window.setTimeout(function(){var t=e.focusedEditor;u(s())||t!=d||(d.fire(&quot;blur&quot;,{focusedEditor:null}),e.focusedEditor=null,d.selection&amp;&amp;(d.selection.lastFocusBookmark=null))},0)}),i||(i=function(t){var n=e.activeEditor;n&amp;&amp;t.target.ownerDocument==document&amp;&amp;(n.selection&amp;&amp;(n.selection.lastFocusBookmark=l(n.dom,n.lastRng)),u(t.target)||e.focusedEditor!=n||(n.fire(&quot;blur&quot;,{focusedEditor:null}),e.focusedEditor=null))},a.bind(document,&quot;focusin&quot;,i)),d.inline&amp;&amp;!o&amp;&amp;(o=function(t){var n=e.activeEditor;if(n.inline&amp;&amp;!n.dom.isChildOf(t.target,n.getBody())){var r=n.selection.getRng();r.collapsed||(n.lastRng=r)}},a.bind(document,&quot;mouseup&quot;,o))}function f(t){e.focusedEditor==t.editor&amp;&amp;(e.focusedEditor=null),e.activeEditor||(a.unbind(document,&quot;selectionchange&quot;,r),a.unbind(document,&quot;focusin&quot;,i),a.unbind(document,&quot;mouseup&quot;,o),r=i=o=null)}e.on(&quot;AddEditor&quot;,d),e.on(&quot;RemoveEditor&quot;,f)}var r,i,o,a=e.DOM;return n.isEditorUIElement=function(e){return-1!==e.className.toString().indexOf(&quot;mce-&quot;)},n}),r(dt,[lt,y,F,g,p,ot,ct,ut],function(e,t,n,r,i,o,a,s){function l(e){var t=g.editors,n;delete t[e.id];for(var r=0;r&lt;t.length;r++)if(t[r]==e){t.splice(r,1),n=!0;break}return g.activeEditor==e&amp;&amp;(g.activeEditor=t[0]),g.focusedEditor==e&amp;&amp;(g.focusedEditor=null),n}function c(e){return e&amp;&amp;!(e.getContainer()||e.getBody()).parentNode&amp;&amp;(l(e),e.destroy(!0),e=null),e}var u=t.DOM,d=i.explode,f=i.each,p=i.extend,h=0,m,g;return g={majorVersion:&quot;4&quot;,minorVersion:&quot;0.26&quot;,releaseDate:&quot;2014-05-06&quot;,editors:[],i18n:a,activeEditor:null,setup:function(){var e=this,t,r,i=&quot;&quot;,o,a;if(r=document.location.href.replace(/[\?#].*$/,&quot;&quot;).replace(/[\/\\][^\/]+$/,&quot;&quot;),/[\/\\]$/.test(r)||(r+=&quot;/&quot;),o=window.tinymce||window.tinyMCEPreInit)t=o.base||o.baseURL,i=o.suffix;else{for(var l=document.getElementsByTagName(&quot;script&quot;),c=0;c&lt;l.length;c++)if(a=l[c].src,/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(a)){-1!=a.indexOf(&quot;.min&quot;)&amp;&amp;(i=&quot;.min&quot;),t=a.substring(0,a.lastIndexOf(&quot;/&quot;));break}!t&amp;&amp;document.currentScript&amp;&amp;(a=document.currentScript.src,-1!=a.indexOf(&quot;.min&quot;)&amp;&amp;(i=&quot;.min&quot;),t=a.substring(0,a.lastIndexOf(&quot;/&quot;)))}e.baseURL=new n(r).toAbsolute(t),e.documentBaseURL=r,e.baseURI=new n(e.baseURL),e.suffix=i,e.focusManager=new s(e)},init:function(t){function n(e){var t=e.id;return t||(t=e.name,t=t&amp;&amp;!u.get(t)?e.name:u.uniqueId(),e.setAttribute(&quot;id&quot;,t)),t}function r(t,n){if(!c(s.get(t))){var r=new e(t,n,s);l.push(r),r.render()}}function i(e,t,n){var r=e[t];if(r)return r.apply(n||this,Array.prototype.slice.call(arguments,2))}function o(e,t){return t.constructor===RegExp?t.test(e.className):u.hasClass(e,t)}function a(){var c,g;if(u.unbind(window,&quot;ready&quot;,a),i(t,&quot;onpageload&quot;),t.types)return void f(t.types,function(e){f(u.select(e.selector),function(i){r(n(i),p({},t,e))})});if(t.selector)return void f(u.select(t.selector),function(e){r(n(e),t)});switch(t.mode){case&quot;exact&quot;:c=t.elements||&quot;&quot;,c.length&gt;0&amp;&amp;f(d(c),function(n){u.get(n)?(m=new e(n,t,s),l.push(m),m.render()):f(document.forms,function(e){f(e.elements,function(e){e.name===n&amp;&amp;(n=&quot;mce_editor_&quot;+h++,u.setAttrib(e,&quot;id&quot;,n),r(n,t))})})});break;case&quot;textareas&quot;:case&quot;specific_textareas&quot;:f(u.select(&quot;textarea&quot;),function(e){t.editor_deselector&amp;&amp;o(e,t.editor_deselector)||(!t.editor_selector||o(e,t.editor_selector))&amp;&amp;r(n(e),t)})}t.oninit&amp;&amp;(c=g=0,f(l,function(e){g++,e.initialized?c++:e.on(&quot;init&quot;,function(){c++,c==g&amp;&amp;i(t,&quot;oninit&quot;)}),c==g&amp;&amp;i(t,&quot;oninit&quot;)}))}var s=this,l=[],m;s.settings=t,u.bind(window,&quot;ready&quot;,a)},get:function(e){return arguments.length?e in this.editors?this.editors[e]:null:this.editors},add:function(e){var t=this,n=t.editors;return n[e.id]=e,n.push(e),t.activeEditor=e,t.fire(&quot;AddEditor&quot;,{editor:e}),m||(m=function(){t.fire(&quot;BeforeUnload&quot;)},u.bind(window,&quot;beforeunload&quot;,m)),e},createEditor:function(t,n){return this.add(new e(t,n,this))},remove:function(e){var t=this,n,r=t.editors,i;{if(e)return&quot;string&quot;==typeof e?(e=e.selector||e,void f(u.select(e),function(e){t.remove(r[e.id])})):(i=e,r[i.id]?(l(i)&amp;&amp;t.fire(&quot;RemoveEditor&quot;,{editor:i}),r.length||u.unbind(window,&quot;beforeunload&quot;,m),i.remove(),i):null);for(n=r.length-1;n&gt;=0;n--)t.remove(r[n])}},execCommand:function(t,n,r){var i=this,o=i.get(r);switch(t){case&quot;mceAddEditor&quot;:return i.get(r)||new e(r,i.settings,i).render(),!0;case&quot;mceRemoveEditor&quot;:return o&amp;&amp;o.remove(),!0;case&quot;mceToggleEditor&quot;:return o?(o.isHidden()?o.show():o.hide(),!0):(i.execCommand(&quot;mceAddEditor&quot;,0,r),!0)}return i.activeEditor?i.activeEditor.execCommand(t,n,r):!1},triggerSave:function(){f(this.editors,function(e){e.save()})},addI18n:function(e,t){a.add(e,t)},translate:function(e){return a.translate(e)}},p(g,o),g.setup(),window.tinymce=window.tinyMCE=g,g}),r(ft,[dt,p],function(e,t){var n=t.each,r=t.explode;e.on(&quot;AddEditor&quot;,function(e){var t=e.editor;t.on(&quot;preInit&quot;,function(){function e(e,t){n(t,function(t,n){t&amp;&amp;s.setStyle(e,n,t)}),s.rename(e,&quot;span&quot;)}function i(e){s=t.dom,l.convert_fonts_to_spans&amp;&amp;n(s.select(&quot;font,u,strike&quot;,e.node),function(e){o[e.nodeName.toLowerCase()](s,e)})}var o,a,s,l=t.settings;l.inline_styles&amp;&amp;(a=r(l.font_size_legacy_values),o={font:function(t,n){e(n,{backgroundColor:n.style.backgroundColor,color:n.color,fontFamily:n.face,fontSize:a[parseInt(n.size,10)-1]})},u:function(t,n){e(n,{textDecoration:&quot;underline&quot;})},strike:function(t,n){e(n,{textDecoration:&quot;line-through&quot;})}},t.on(&quot;PreProcess SetContent&quot;,i))})})}),r(pt,[],function(){return{send:function(e){function t(){!e.async||4==n.readyState||r++&gt;1e4?(e.success&amp;&amp;1e4&gt;r&amp;&amp;200==n.status?e.success.call(e.success_scope,&quot;&quot;+n.responseText,n,e):e.error&amp;&amp;e.error.call(e.error_scope,r&gt;1e4?&quot;TIMED_OUT&quot;:&quot;GENERAL&quot;,n,e),n=null):setTimeout(t,10)}var n,r=0;if(e.scope=e.scope||this,e.success_scope=e.success_scope||e.scope,e.error_scope=e.error_scope||e.scope,e.async=e.async===!1?!1:!0,e.data=e.data||&quot;&quot;,n=new XMLHttpRequest){if(n.overrideMimeType&amp;&amp;n.overrideMimeType(e.content_type),n.open(e.type||(e.data?&quot;POST&quot;:&quot;GET&quot;),e.url,e.async),e.content_type&amp;&amp;n.setRequestHeader(&quot;Content-Type&quot;,e.content_type),n.setRequestHeader(&quot;X-Requested-With&quot;,&quot;XMLHttpRequest&quot;),n.send(e.data),!e.async)return t();setTimeout(t,10)}}}}),r(ht,[],function(){function e(t,n){var r,i,o,a;if(n=n||&#039;&quot;&#039;,null===t)return&quot;null&quot;;if(o=typeof t,&quot;string&quot;==o)return i=&quot;\bb	t\nn\ff\rr\&quot;\&quot;&#039;&#039;\\\\&quot;,n+t.replace(/([\u0080-\uFFFF\x00-\x1f\&quot;\&#039;\\])/g,function(e,t){return&#039;&quot;&#039;===n&amp;&amp;&quot;&#039;&quot;===e?e:(r=i.indexOf(t),r+1?&quot;\\&quot;+i.charAt(r+1):(e=t.charCodeAt().toString(16),&quot;\\u&quot;+&quot;0000&quot;.substring(e.length)+e))})+n;if(&quot;object&quot;==o){if(t.hasOwnProperty&amp;&amp;&quot;[object Array]&quot;===Object.prototype.toString.call(t)){for(r=0,i=&quot;[&quot;;r&lt;t.length;r++)i+=(r&gt;0?&quot;,&quot;:&quot;&quot;)+e(t[r],n);return i+&quot;]&quot;}i=&quot;{&quot;;for(a in t)t.hasOwnProperty(a)&amp;&amp;(i+=&quot;function&quot;!=typeof t[a]?(i.length&gt;1?&quot;,&quot;+n:n)+a+n+&quot;:&quot;+e(t[a],n):&quot;&quot;);return i+&quot;}&quot;}return&quot;&quot;+t}return{serialize:e,parse:function(e){try{return window[String.fromCharCode(101)+&quot;val&quot;](&quot;(&quot;+e+&quot;)&quot;)}catch(t){}}}}),r(mt,[ht,pt,p],function(e,t,n){function r(e){this.settings=i({},e),this.count=0}var i=n.extend;return r.sendRPC=function(e){return(new r).send(e)},r.prototype={send:function(n){var r=n.error,o=n.success;n=i(this.settings,n),n.success=function(t,i){t=e.parse(t),&quot;undefined&quot;==typeof t&amp;&amp;(t={error:&quot;JSON Parse error.&quot;}),t.error?r.call(n.error_scope||n.scope,t.error,i):o.call(n.success_scope||n.scope,t.result)},n.error=function(e,t){r&amp;&amp;r.call(n.error_scope||n.scope,e,t)},n.data=e.serialize({id:n.id||&quot;c&quot;+this.count++,method:n.method,params:n.params}),n.content_type=&quot;application/json&quot;,t.send(n)}},r}),r(gt,[y],function(e){return{callbacks:{},count:0,send:function(n){var r=this,i=e.DOM,o=n.count!==t?n.count:r.count,a=&quot;tinymce_jsonp_&quot;+o;r.callbacks[o]=function(e){i.remove(a),delete r.callbacks[o],n.callback(e)},i.add(i.doc.body,&quot;script&quot;,{id:a,src:n.url,type:&quot;text/javascript&quot;}),r.count++}}}),r(vt,[],function(){function e(){s=[];for(var e in a)s.push(e);i.length=s.length}function n(){function n(e){var n,r;return r=e!==t?u+e:i.indexOf(&quot;,&quot;,u),-1===r||r&gt;i.length?null:(n=i.substring(u,r),u=r+1,n)}var r,i,s,u=0;if(a={},c){o.load(l),i=o.getAttribute(l)||&quot;&quot;;do{var d=n();if(null===d)break;if(r=n(parseInt(d,32)||0),null!==r){if(d=n(),null===d)break;s=n(parseInt(d,32)||0),r&amp;&amp;(a[r]=s)}}while(null!==r);e()}}function r(){var t,n=&quot;&quot;;if(c){for(var r in a)t=a[r],n+=(n?&quot;,&quot;:&quot;&quot;)+r.length.toString(32)+&quot;,&quot;+r+&quot;,&quot;+t.length.toString(32)+&quot;,&quot;+t;o.setAttribute(l,n);try{o.save(l)}catch(i){}e()}}var i,o,a,s,l,c;try{if(window.localStorage)return localStorage}catch(u){}return l=&quot;tinymce&quot;,o=document.documentElement,c=!!o.addBehavior,c&amp;&amp;o.addBehavior(&quot;#default#userData&quot;),i={key:function(e){return s[e]},getItem:function(e){return e in a?a[e]:null},setItem:function(e,t){a[e]=&quot;&quot;+t,r()},removeItem:function(e){delete a[e],r()},clear:function(){a={},r()}},n(),i}),r(yt,[y,l,b,C,p,g],function(e,t,n,r,i,o){var a=window.tinymce;return a.DOM=e.DOM,a.ScriptLoader=n.ScriptLoader,a.PluginManager=r.PluginManager,a.ThemeManager=r.ThemeManager,a.dom=a.dom||{},a.dom.Event=t.Event,i.each(i,function(e,t){a[t]=e}),i.each(&quot;isOpera isWebKit isIE isGecko isMac&quot;.split(&quot; &quot;),function(e){a[e]=o[e.substr(2).toLowerCase()]}),{}}),r(bt,[z,p],function(e,t){return e.extend({Defaults:{firstControlClass:&quot;first&quot;,lastControlClass:&quot;last&quot;},init:function(e){this.settings=t.extend({},this.Defaults,e)},preRender:function(e){e.addClass(this.settings.containerClass,&quot;body&quot;)},applyClasses:function(e){var t=this,n=t.settings,r,i,o;r=e.items().filter(&quot;:visible&quot;),i=n.firstControlClass,o=n.lastControlClass,r.each(function(e){e.removeClass(i).removeClass(o),n.controlClass&amp;&amp;e.addClass(n.controlClass)}),r.eq(0).addClass(i),r.eq(-1).addClass(o)},renderHtml:function(e){var t=this,n=t.settings,r,i=&quot;&quot;;return r=e.items(),r.eq(0).addClass(n.firstControlClass),r.eq(-1).addClass(n.lastControlClass),r.each(function(e){n.controlClass&amp;&amp;e.addClass(n.controlClass),i+=e.renderHtml()}),i},recalc:function(){},postRender:function(){}})}),r(Ct,[bt],function(e){return e.extend({Defaults:{containerClass:&quot;abs-layout&quot;,controlClass:&quot;abs-layout-item&quot;},recalc:function(e){e.items().filter(&quot;:visible&quot;).each(function(e){var t=e.settings;e.layoutRect({x:t.x,y:t.y,w:t.w,h:t.h}),e.recalc&amp;&amp;e.recalc()})},renderHtml:function(e){return&#039;&lt;div id=&quot;&#039;+e._id+&#039;-absend&quot; class=&quot;&#039;+e.classPrefix+&#039;abs-end&quot;&gt;&lt;/div&gt;&#039;+this._super(e)}})}),r(xt,[$,Q],function(e,t){return e.extend({Mixins:[t],Defaults:{classes:&quot;widget tooltip tooltip-n&quot;},text:function(e){var t=this;return&quot;undefined&quot;!=typeof e?(t._value=e,t._rendered&amp;&amp;(t.getEl().lastChild.innerHTML=t.encode(e)),t):t._value},renderHtml:function(){var e=this,t=e.classPrefix;return&#039;&lt;div id=&quot;&#039;+e._id+&#039;&quot; class=&quot;&#039;+e.classes()+&#039;&quot; role=&quot;presentation&quot;&gt;&lt;div class=&quot;&#039;+t+&#039;tooltip-arrow&quot;&gt;&lt;/div&gt;&lt;div class=&quot;&#039;+t+&#039;tooltip-inner&quot;&gt;&#039;+e.encode(e._text)+&quot;&lt;/div&gt;&lt;/div&gt;&quot;},repaint:function(){var e=this,t,n;t=e.getEl().style,n=e._layoutRect,t.left=n.x+&quot;px&quot;,t.top=n.y+&quot;px&quot;,t.zIndex=131070}})}),r(wt,[$,xt],function(e,t){var n,r=e.extend({init:function(e){var t=this;t._super(e),e=t.settings,t.canFocus=!0,e.tooltip&amp;&amp;r.tooltips!==!1&amp;&amp;(t.on(&quot;mouseenter&quot;,function(n){var r=t.tooltip().moveTo(-65535);if(n.control==t){var i=r.text(e.tooltip).show().testMoveRel(t.getEl(),[&quot;bc-tc&quot;,&quot;bc-tl&quot;,&quot;bc-tr&quot;]);r.toggleClass(&quot;tooltip-n&quot;,&quot;bc-tc&quot;==i),r.toggleClass(&quot;tooltip-nw&quot;,&quot;bc-tl&quot;==i),r.toggleClass(&quot;tooltip-ne&quot;,&quot;bc-tr&quot;==i),r.moveRel(t.getEl(),i)}else r.hide()}),t.on(&quot;mouseleave mousedown click&quot;,function(){t.tooltip().hide()})),t.aria(&quot;label&quot;,e.ariaLabel||e.tooltip)},tooltip:function(){return n||(n=new t({type:&quot;tooltip&quot;}),n.renderTo()),n},active:function(e){var t=this,n;return e!==n&amp;&amp;(t.aria(&quot;pressed&quot;,e),t.toggleClass(&quot;active&quot;,e)),t._super(e)},disabled:function(e){var t=this,n;return e!==n&amp;&amp;(t.aria(&quot;disabled&quot;,e),t.toggleClass(&quot;disabled&quot;,e)),t._super(e)},postRender:function(){var e=this,t=e.settings;e._rendered=!0,e._super(),e.parent()||!t.width&amp;&amp;!t.height||(e.initLayoutRect(),e.repaint()),t.autofocus&amp;&amp;e.focus()},remove:function(){this._super(),n&amp;&amp;(n.remove(),n=null)}});return r}),r(_t,[wt],function(e){return e.extend({Defaults:{classes:&quot;widget btn&quot;,role:&quot;button&quot;},init:function(e){var t=this,n;t.on(&quot;click mousedown&quot;,function(e){e.preventDefault()}),t._super(e),n=e.size,e.subtype&amp;&amp;t.addClass(e.subtype),n&amp;&amp;t.addClass(&quot;btn-&quot;+n)},icon:function(e){var t=this,n=t.classPrefix;if(&quot;undefined&quot;==typeof e)return t.settings.icon;if(t.settings.icon=e,e=e?n+&quot;ico &quot;+n+&quot;i-&quot;+t.settings.icon:&quot;&quot;,t._rendered){var r=t.getEl().firstChild,i=r.getElementsByTagName(&quot;i&quot;)[0];e?(i&amp;&amp;i==r.firstChild||(i=document.createElement(&quot;i&quot;),r.insertBefore(i,r.firstChild)),i.className=e):i&amp;&amp;r.removeChild(i),t.text(t._text)}return t},repaint:function(){var e=this.getEl().firstChild.style;e.width=e.height=&quot;100%&quot;,this._super()},text:function(e){var t=this;if(t._rendered){var n=t.getEl().lastChild.lastChild;n&amp;&amp;(n.data=t.translate(e))}return t._super(e)},renderHtml:function(){var e=this,t=e._id,n=e.classPrefix,r=e.settings.icon,i;return i=e.settings.image,i?(r=&quot;none&quot;,&quot;string&quot;!=typeof i&amp;&amp;(i=window.getSelection?i[0]:i[1]),i=&quot; style=\&quot;background-image: url(&#039;&quot;+i+&quot;&#039;)\&quot;&quot;):i=&quot;&quot;,r=e.settings.icon?n+&quot;ico &quot;+n+&quot;i-&quot;+r:&quot;&quot;,&#039;&lt;div id=&quot;&#039;+t+&#039;&quot; class=&quot;&#039;+e.classes()+&#039;&quot; tabindex=&quot;-1&quot; aria-labelledby=&quot;&#039;+t+&#039;&quot;&gt;&lt;button role=&quot;presentation&quot; type=&quot;button&quot; tabindex=&quot;-1&quot;&gt;&#039;+(r?&#039;&lt;i class=&quot;&#039;+r+&#039;&quot;&#039;+i+&quot;&gt;&lt;/i&gt;&quot;:&quot;&quot;)+(e._text?(r?&quot;\xa0&quot;:&quot;&quot;)+e.encode(e._text):&quot;&quot;)+&quot;&lt;/button&gt;&lt;/div&gt;&quot;}})}),r(Nt,[G],function(e){return e.extend({Defaults:{defaultType:&quot;button&quot;,role:&quot;group&quot;},renderHtml:function(){var e=this,t=e._layout;return e.addClass(&quot;btn-group&quot;),e.preRender(),t.preRender(e),&#039;&lt;div id=&quot;&#039;+e._id+&#039;&quot; class=&quot;&#039;+e.classes()+&#039;&quot;&gt;&lt;div id=&quot;&#039;+e._id+&#039;-body&quot;&gt;&#039;+(e.settings.html||&quot;&quot;)+t.renderHtml(e)+&quot;&lt;/div&gt;&lt;/div&gt;&quot;}})}),r(Et,[wt],function(e){return e.extend({Defaults:{classes:&quot;checkbox&quot;,role:&quot;checkbox&quot;,checked:!1},init:function(e){var t=this;t._super(e),t.on(&quot;click mousedown&quot;,function(e){e.preventDefault()}),t.on(&quot;click&quot;,function(e){e.preventDefault(),t.disabled()||t.checked(!t.checked())}),t.checked(t.settings.checked)},checked:function(e){var t=this;return&quot;undefined&quot;!=typeof e?(e?t.addClass(&quot;checked&quot;):t.removeClass(&quot;checked&quot;),t._checked=e,t.aria(&quot;checked&quot;,e),t):t._checked},value:function(e){return this.checked(e)},renderHtml:function(){var e=this,t=e._id,n=e.classPrefix;return&#039;&lt;div id=&quot;&#039;+t+&#039;&quot; class=&quot;&#039;+e.classes()+&#039;&quot; unselectable=&quot;on&quot; aria-labelledby=&quot;&#039;+t+&#039;-al&quot; tabindex=&quot;-1&quot;&gt;&lt;i class=&quot;&#039;+n+&quot;ico &quot;+n+&#039;i-checkbox&quot;&gt;&lt;/i&gt;&lt;span id=&quot;&#039;+t+&#039;-al&quot; class=&quot;&#039;+n+&#039;label&quot;&gt;&#039;+e.encode(e._text)+&quot;&lt;/span&gt;&lt;/div&gt;&quot;}})}),r(St,[_t,et],function(e,t){return e.extend({showPanel:function(){var e=this,n=e.settings;if(e.active(!0),e.panel)e.panel.show();else{var r=n.panel;r.type&amp;&amp;(r={layout:&quot;grid&quot;,items:r}),r.role=r.role||&quot;dialog&quot;,r.popover=!0,r.autohide=!0,r.ariaRoot=!0,e.panel=new t(r).on(&quot;hide&quot;,function(){e.active(!1)}).on(&quot;cancel&quot;,function(t){t.stopPropagation(),e.focus(),e.hidePanel()}).parent(e).renderTo(e.getContainerElm()),e.panel.fire(&quot;show&quot;),e.panel.reflow()}e.panel.moveRel(e.getEl(),n.popoverAlign||(e.isRtl()?[&quot;bc-tr&quot;,&quot;bc-tc&quot;]:[&quot;bc-tl&quot;,&quot;bc-tc&quot;]))},hidePanel:function(){var e=this;e.panel&amp;&amp;e.panel.hide()},postRender:function(){var e=this;return e.aria(&quot;haspopup&quot;,!0),e.on(&quot;click&quot;,function(t){t.control===e&amp;&amp;(e.panel&amp;&amp;e.panel.visible()?e.hidePanel():(e.showPanel(),e.panel.focus(!!t.aria)))}),e._super()}})}),r(kt,[St,y],function(e,t){var n=t.DOM;return e.extend({init:function(e){this._super(e),this.addClass(&quot;colorbutton&quot;)},color:function(e){return e?(this._color=e,this.getEl(&quot;preview&quot;).style.backgroundColor=e,this):this._color},renderHtml:function(){var e=this,t=e._id,n=e.classPrefix,r=e.settings.icon?n+&quot;ico &quot;+n+&quot;i-&quot;+e.settings.icon:&quot;&quot;,i=e.settings.image?&quot; style=\&quot;background-image: url(&#039;&quot;+e.settings.image+&quot;&#039;)\&quot;&quot;:&quot;&quot;;return&#039;&lt;div id=&quot;&#039;+t+&#039;&quot; class=&quot;&#039;+e.classes()+&#039;&quot; role=&quot;button&quot; tabindex=&quot;-1&quot; aria-haspopup=&quot;true&quot;&gt;&lt;button role=&quot;presentation&quot; hidefocus=&quot;1&quot; type=&quot;button&quot; tabindex=&quot;-1&quot;&gt;&#039;+(r?&#039;&lt;i class=&quot;&#039;+r+&#039;&quot;&#039;+i+&quot;&gt;&lt;/i&gt;&quot;:&quot;&quot;)+&#039;&lt;span id=&quot;&#039;+t+&#039;-preview&quot; class=&quot;&#039;+n+&#039;preview&quot;&gt;&lt;/span&gt;&#039;+(e._text?(r?&quot; &quot;:&quot;&quot;)+e._text:&quot;&quot;)+&#039;&lt;/button&gt;&lt;button type=&quot;button&quot; class=&quot;&#039;+n+&#039;open&quot; hidefocus=&quot;1&quot; tabindex=&quot;-1&quot;&gt; &lt;i class=&quot;&#039;+n+&#039;caret&quot;&gt;&lt;/i&gt;&lt;/button&gt;&lt;/div&gt;&#039;},postRender:function(){var e=this,t=e.settings.onclick;return e.on(&quot;click&quot;,function(r){r.aria&amp;&amp;&quot;down&quot;==r.aria.key||r.control!=e||n.getParent(r.target,&quot;.&quot;+e.classPrefix+&quot;open&quot;)||(r.stopImmediatePropagation(),t.call(e,r))}),delete e.settings.onclick,e._super()}})}),r(Tt,[wt,j,q],function(e,t,n){return e.extend({init:function(e){var t=this;t._super(e),t.addClass(&quot;combobox&quot;),t.subinput=!0,t.ariaTarget=&quot;inp&quot;,e=t.settings,e.menu=e.menu||e.values,e.menu&amp;&amp;(e.icon=&quot;caret&quot;),t.on(&quot;click&quot;,function(n){for(var r=n.target,i=t.getEl();r&amp;&amp;r!=i;)r.id&amp;&amp;-1!=r.id.indexOf(&quot;-open&quot;)&amp;&amp;(t.fire(&quot;action&quot;),e.menu&amp;&amp;(t.showMenu(),n.aria&amp;&amp;t.menu.items()[0].focus())),r=r.parentNode}),t.on(&quot;keydown&quot;,function(e){&quot;INPUT&quot;==e.target.nodeName&amp;&amp;13==e.keyCode&amp;&amp;t.parents().reverse().each(function(n){return e.preventDefault(),t.fire(&quot;change&quot;),n.hasEventListeners(&quot;submit&quot;)&amp;&amp;n.toJSON?(n.fire(&quot;submit&quot;,{data:n.toJSON()}),!1):void 0})}),e.placeholder&amp;&amp;(t.addClass(&quot;placeholder&quot;),t.on(&quot;focusin&quot;,function(){t._hasOnChange||(n.on(t.getEl(&quot;inp&quot;),&quot;change&quot;,function(){t.fire(&quot;change&quot;)}),t._hasOnChange=!0),t.hasClass(&quot;placeholder&quot;)&amp;&amp;(t.getEl(&quot;inp&quot;).value=&quot;&quot;,t.removeClass(&quot;placeholder&quot;))}),t.on(&quot;focusout&quot;,function(){0===t.value().length&amp;&amp;(t.getEl(&quot;inp&quot;).value=e.placeholder,t.addClass(&quot;placeholder&quot;))}))},showMenu:function(){var e=this,n=e.settings,r;e.menu||(r=n.menu||[],r.length?r={type:&quot;menu&quot;,items:r}:r.type=r.type||&quot;menu&quot;,e.menu=t.create(r).parent(e).renderTo(e.getContainerElm()),e.fire(&quot;createmenu&quot;),e.menu.reflow(),e.menu.on(&quot;cancel&quot;,function(t){t.control===e.menu&amp;&amp;e.focus()}),e.menu.on(&quot;show hide&quot;,function(t){t.control.items().each(function(t){t.active(t.value()==e.value())})}).fire(&quot;show&quot;),e.menu.on(&quot;select&quot;,function(t){e.value(t.control.value())}),e.on(&quot;focusin&quot;,function(t){&quot;INPUT&quot;==t.target.tagName.toUpperCase()&amp;&amp;e.menu.hide()}),e.aria(&quot;expanded&quot;,!0)),e.menu.show(),e.menu.layoutRect({w:e.layoutRect().w}),e.menu.moveRel(e.getEl(),e.isRtl()?[&quot;br-tr&quot;,&quot;tr-br&quot;]:[&quot;bl-tl&quot;,&quot;tl-bl&quot;])},value:function(e){var t=this;return&quot;undefined&quot;!=typeof e?(t._value=e,t.removeClass(&quot;placeholder&quot;),t._rendered&amp;&amp;(t.getEl(&quot;inp&quot;).value=e),t):t._rendered?(e=t.getEl(&quot;inp&quot;).value,e!=t.settings.placeholder?e:&quot;&quot;):t._value},disabled:function(e){var t=this;return t._rendered&amp;&amp;&quot;undefined&quot;!=typeof e&amp;&amp;(t.getEl(&quot;inp&quot;).disabled=e),t._super(e)},focus:function(){this.getEl(&quot;inp&quot;).focus()},repaint:function(){var e=this,t=e.getEl(),r=e.getEl(&quot;open&quot;),i=e.layoutRect(),o,a;o=r?i.w-n.getSize(r).width-10:i.w-10;var s=document;return s.all&amp;&amp;(!s.documentMode||s.documentMode&lt;=8)&amp;&amp;(a=e.layoutRect().h-2+&quot;px&quot;),n.css(t.firstChild,{width:o,lineHeight:a}),e._super(),e},postRender:function(){var e=this;return n.on(this.getEl(&quot;inp&quot;),&quot;change&quot;,function(){e.fire(&quot;change&quot;)}),e._super()},remove:function(){n.off(this.getEl(&quot;inp&quot;)),this._super()},renderHtml:function(){var e=this,t=e._id,n=e.settings,r=e.classPrefix,i=n.value||n.placeholder||&quot;&quot;,o,a,s=&quot;&quot;,l=&quot;&quot;;return&quot;spellcheck&quot;in n&amp;&amp;(l+=&#039; spellcheck=&quot;&#039;+n.spellcheck+&#039;&quot;&#039;),n.maxLength&amp;&amp;(l+=&#039; maxlength=&quot;&#039;+n.maxLength+&#039;&quot;&#039;),n.size&amp;&amp;(l+=&#039; size=&quot;&#039;+n.size+&#039;&quot;&#039;),n.subtype&amp;&amp;(l+=&#039; type=&quot;&#039;+n.subtype+&#039;&quot;&#039;),e.disabled()&amp;&amp;(l+=&#039; disabled=&quot;disabled&quot;&#039;),o=n.icon,o&amp;&amp;&quot;caret&quot;!=o&amp;&amp;(o=r+&quot;ico &quot;+r+&quot;i-&quot;+n.icon),a=e._text,(o||a)&amp;&amp;(s=&#039;&lt;div id=&quot;&#039;+t+&#039;-open&quot; class=&quot;&#039;+r+&quot;btn &quot;+r+&#039;open&quot; tabIndex=&quot;-1&quot; role=&quot;button&quot;&gt;&lt;button id=&quot;&#039;+t+&#039;-action&quot; type=&quot;button&quot; hidefocus=&quot;1&quot; tabindex=&quot;-1&quot;&gt;&#039;+(&quot;caret&quot;!=o?&#039;&lt;i class=&quot;&#039;+o+&#039;&quot;&gt;&lt;/i&gt;&#039;:&#039;&lt;i class=&quot;&#039;+r+&#039;caret&quot;&gt;&lt;/i&gt;&#039;)+(a?(o?&quot; &quot;:&quot;&quot;)+a:&quot;&quot;)+&quot;&lt;/button&gt;&lt;/div&gt;&quot;,e.addClass(&quot;has-open&quot;)),&#039;&lt;div id=&quot;&#039;+t+&#039;&quot; class=&quot;&#039;+e.classes()+&#039;&quot;&gt;&lt;input id=&quot;&#039;+t+&#039;-inp&quot; class=&quot;&#039;+r+&quot;textbox &quot;+r+&#039;placeholder&quot; value=&quot;&#039;+i+&#039;&quot; hidefocus=&quot;1&quot;&#039;+l+&quot; /&gt;&quot;+s+&quot;&lt;/div&gt;&quot;
}})}),r(Rt,[wt],function(e){return e.extend({init:function(e){var t=this;e.delimiter||(e.delimiter=&quot;\xbb&quot;),t._super(e),t.addClass(&quot;path&quot;),t.canFocus=!0,t.on(&quot;click&quot;,function(e){var n,r=e.target;(n=r.getAttribute(&quot;data-index&quot;))&amp;&amp;t.fire(&quot;select&quot;,{value:t.data()[n],index:n})})},focus:function(){var e=this;return e.getEl().firstChild.focus(),e},data:function(e){var t=this;return&quot;undefined&quot;!=typeof e?(t._data=e,t.update(),t):t._data},update:function(){this.innerHtml(this._getPathHtml())},postRender:function(){var e=this;e._super(),e.data(e.settings.data)},renderHtml:function(){var e=this;return&#039;&lt;div id=&quot;&#039;+e._id+&#039;&quot; class=&quot;&#039;+e.classes()+&#039;&quot;&gt;&#039;+e._getPathHtml()+&quot;&lt;/div&gt;&quot;},_getPathHtml:function(){var e=this,t=e._data||[],n,r,i=&quot;&quot;,o=e.classPrefix;for(n=0,r=t.length;r&gt;n;n++)i+=(n&gt;0?&#039;&lt;div class=&quot;&#039;+o+&#039;divider&quot; aria-hidden=&quot;true&quot;&gt; &#039;+e.settings.delimiter+&quot; &lt;/div&gt;&quot;:&quot;&quot;)+&#039;&lt;div role=&quot;button&quot; class=&quot;&#039;+o+&quot;path-item&quot;+(n==r-1?&quot; &quot;+o+&quot;last&quot;:&quot;&quot;)+&#039;&quot; data-index=&quot;&#039;+n+&#039;&quot; tabindex=&quot;-1&quot; id=&quot;&#039;+e._id+&quot;-&quot;+n+&#039;&quot; aria-level=&quot;&#039;+n+&#039;&quot;&gt;&#039;+t[n].name+&quot;&lt;/div&gt;&quot;;return i||(i=&#039;&lt;div class=&quot;&#039;+o+&#039;path-item&quot;&gt;\xa0&lt;/div&gt;&#039;),i}})}),r(At,[Rt,dt],function(e,t){return e.extend({postRender:function(){function e(e){if(1===e.nodeType){if(&quot;BR&quot;==e.nodeName||e.getAttribute(&quot;data-mce-bogus&quot;))return!0;if(&quot;bookmark&quot;===e.getAttribute(&quot;data-mce-type&quot;))return!0}return!1}var n=this,r=t.activeEditor;return n.on(&quot;select&quot;,function(t){var n=[],i,o=r.getBody();for(r.focus(),i=r.selection.getStart();i&amp;&amp;i!=o;)e(i)||n.push(i),i=i.parentNode;r.selection.select(n[n.length-1-t.index]),r.nodeChanged()}),r.on(&quot;nodeChange&quot;,function(t){for(var i=[],o=t.parents,a=o.length;a--;)if(1==o[a].nodeType&amp;&amp;!e(o[a])){var s=r.fire(&quot;ResolveName&quot;,{name:o[a].nodeName.toLowerCase(),target:o[a]});i.push({name:s.name})}n.data(i)}),n._super()}})}),r(Bt,[G],function(e){return e.extend({Defaults:{layout:&quot;flex&quot;,align:&quot;center&quot;,defaults:{flex:1}},renderHtml:function(){var e=this,t=e._layout,n=e.classPrefix;return e.addClass(&quot;formitem&quot;),t.preRender(e),&#039;&lt;div id=&quot;&#039;+e._id+&#039;&quot; class=&quot;&#039;+e.classes()+&#039;&quot; hidefocus=&quot;1&quot; tabindex=&quot;-1&quot;&gt;&#039;+(e.settings.title?&#039;&lt;div id=&quot;&#039;+e._id+&#039;-title&quot; class=&quot;&#039;+n+&#039;title&quot;&gt;&#039;+e.settings.title+&quot;&lt;/div&gt;&quot;:&quot;&quot;)+&#039;&lt;div id=&quot;&#039;+e._id+&#039;-body&quot; class=&quot;&#039;+e.classes(&quot;body&quot;)+&#039;&quot;&gt;&#039;+(e.settings.html||&quot;&quot;)+t.renderHtml(e)+&quot;&lt;/div&gt;&lt;/div&gt;&quot;}})}),r(Dt,[G,Bt],function(e,t){return e.extend({Defaults:{containerCls:&quot;form&quot;,layout:&quot;flex&quot;,direction:&quot;column&quot;,align:&quot;stretch&quot;,flex:1,padding:20,labelGap:30,spacing:10,callbacks:{submit:function(){this.submit()}}},preRender:function(){var e=this,n=e.items();n.each(function(n){var r,i=n.settings.label;i&amp;&amp;(r=new t({layout:&quot;flex&quot;,autoResize:&quot;overflow&quot;,defaults:{flex:1},items:[{type:&quot;label&quot;,id:n._id+&quot;-l&quot;,text:i,flex:0,forId:n._id,disabled:n.disabled()}]}),r.type=&quot;formitem&quot;,n.aria(&quot;labelledby&quot;,n._id+&quot;-l&quot;),&quot;undefined&quot;==typeof n.settings.flex&amp;&amp;(n.settings.flex=1),e.replace(n,r),r.add(n))})},recalcLabels:function(){var e=this,t=0,n=[],r,i;if(e.settings.labelGapCalc!==!1)for(e.items().filter(&quot;formitem&quot;).each(function(e){var r=e.items()[0],i=r.getEl().clientWidth;t=i&gt;t?i:t,n.push(r)}),i=e.settings.labelGap||0,r=n.length;r--;)n[r].settings.minWidth=t+i},visible:function(e){var t=this._super(e);return e===!0&amp;&amp;this._rendered&amp;&amp;this.recalcLabels(),t},submit:function(){return this.fire(&quot;submit&quot;,{data:this.toJSON()})},postRender:function(){var e=this;e._super(),e.recalcLabels(),e.fromJSON(e.settings.data)}})}),r(Lt,[Dt],function(e){return e.extend({Defaults:{containerCls:&quot;fieldset&quot;,layout:&quot;flex&quot;,direction:&quot;column&quot;,align:&quot;stretch&quot;,flex:1,padding:&quot;25 15 5 15&quot;,labelGap:30,spacing:10,border:1},renderHtml:function(){var e=this,t=e._layout,n=e.classPrefix;return e.preRender(),t.preRender(e),&#039;&lt;fieldset id=&quot;&#039;+e._id+&#039;&quot; class=&quot;&#039;+e.classes()+&#039;&quot; hidefocus=&quot;1&quot; tabindex=&quot;-1&quot;&gt;&#039;+(e.settings.title?&#039;&lt;legend id=&quot;&#039;+e._id+&#039;-title&quot; class=&quot;&#039;+n+&#039;fieldset-title&quot;&gt;&#039;+e.settings.title+&quot;&lt;/legend&gt;&quot;:&quot;&quot;)+&#039;&lt;div id=&quot;&#039;+e._id+&#039;-body&quot; class=&quot;&#039;+e.classes(&quot;body&quot;)+&#039;&quot;&gt;&#039;+(e.settings.html||&quot;&quot;)+t.renderHtml(e)+&quot;&lt;/div&gt;&lt;/fieldset&gt;&quot;}})}),r(Mt,[Tt],function(e){return e.extend({init:function(e){var t=this,n=tinymce.activeEditor,r;e.spellcheck=!1,r=n.settings.file_browser_callback,r&amp;&amp;(e.icon=&quot;browse&quot;,e.onaction=function(){r(t.getEl(&quot;inp&quot;).id,t.getEl(&quot;inp&quot;).value,e.filetype,window)}),t._super(e)}})}),r(Ht,[Ct],function(e){return e.extend({recalc:function(e){var t=e.layoutRect(),n=e.paddingBox();e.items().filter(&quot;:visible&quot;).each(function(e){e.layoutRect({x:n.left,y:n.top,w:t.innerW-n.right-n.left,h:t.innerH-n.top-n.bottom}),e.recalc&amp;&amp;e.recalc()})}})}),r(Pt,[Ct],function(e){return e.extend({recalc:function(e){var t,n,r,i,o,a,s,l,c,u,d,f,p,h,m,g,v=[],y,b,C,x,w,_,N,E,S,k,T,R,A,B,D,L,M,H,P,O,I,F,z=Math.max,W=Math.min;for(r=e.items().filter(&quot;:visible&quot;),i=e.layoutRect(),o=e._paddingBox,a=e.settings,f=e.isRtl()?a.direction||&quot;row-reversed&quot;:a.direction,s=a.align,l=e.isRtl()?a.pack||&quot;end&quot;:a.pack,c=a.spacing||0,(&quot;row-reversed&quot;==f||&quot;column-reverse&quot;==f)&amp;&amp;(r=r.set(r.toArray().reverse()),f=f.split(&quot;-&quot;)[0]),&quot;column&quot;==f?(S=&quot;y&quot;,N=&quot;h&quot;,E=&quot;minH&quot;,k=&quot;maxH&quot;,R=&quot;innerH&quot;,T=&quot;top&quot;,A=&quot;deltaH&quot;,B=&quot;contentH&quot;,P=&quot;left&quot;,M=&quot;w&quot;,D=&quot;x&quot;,L=&quot;innerW&quot;,H=&quot;minW&quot;,O=&quot;right&quot;,I=&quot;deltaW&quot;,F=&quot;contentW&quot;):(S=&quot;x&quot;,N=&quot;w&quot;,E=&quot;minW&quot;,k=&quot;maxW&quot;,R=&quot;innerW&quot;,T=&quot;left&quot;,A=&quot;deltaW&quot;,B=&quot;contentW&quot;,P=&quot;top&quot;,M=&quot;h&quot;,D=&quot;y&quot;,L=&quot;innerH&quot;,H=&quot;minH&quot;,O=&quot;bottom&quot;,I=&quot;deltaH&quot;,F=&quot;contentH&quot;),d=i[R]-o[T]-o[T],_=u=0,t=0,n=r.length;n&gt;t;t++)p=r[t],h=p.layoutRect(),m=p.settings,g=m.flex,d-=n-1&gt;t?c:0,g&gt;0&amp;&amp;(u+=g,h[k]&amp;&amp;v.push(p),h.flex=g),d-=h[E],y=o[P]+h[H]+o[O],y&gt;_&amp;&amp;(_=y);if(x={},x[E]=0&gt;d?i[E]-d+i[A]:i[R]-d+i[A],x[H]=_+i[I],x[B]=i[R]-d,x[F]=_,x.minW=W(x.minW,i.maxW),x.minH=W(x.minH,i.maxH),x.minW=z(x.minW,i.startMinWidth),x.minH=z(x.minH,i.startMinHeight),!i.autoResize||x.minW==i.minW&amp;&amp;x.minH==i.minH){for(C=d/u,t=0,n=v.length;n&gt;t;t++)p=v[t],h=p.layoutRect(),b=h[k],y=h[E]+h.flex*C,y&gt;b?(d-=h[k]-h[E],u-=h.flex,h.flex=0,h.maxFlexSize=b):h.maxFlexSize=0;for(C=d/u,w=o[T],x={},0===u&amp;&amp;(&quot;end&quot;==l?w=d+o[T]:&quot;center&quot;==l?(w=Math.round(i[R]/2-(i[R]-d)/2)+o[T],0&gt;w&amp;&amp;(w=o[T])):&quot;justify&quot;==l&amp;&amp;(w=o[T],c=Math.floor(d/(r.length-1)))),x[D]=o[P],t=0,n=r.length;n&gt;t;t++)p=r[t],h=p.layoutRect(),y=h.maxFlexSize||h[E],&quot;center&quot;===s?x[D]=Math.round(i[L]/2-h[M]/2):&quot;stretch&quot;===s?(x[M]=z(h[H]||0,i[L]-o[P]-o[O]),x[D]=o[P]):&quot;end&quot;===s&amp;&amp;(x[D]=i[L]-h[M]-o.top),h.flex&gt;0&amp;&amp;(y+=h.flex*C),x[N]=y,x[S]=w,p.layoutRect(x),p.recalc&amp;&amp;p.recalc(),w+=y+c}else if(x.w=x.minW,x.h=x.minH,e.layoutRect(x),this.recalc(e),null===e._lastRect){var V=e.parent();V&amp;&amp;(V._lastRect=null,V.recalc())}}})}),r(Ot,[bt],function(e){return e.extend({Defaults:{containerClass:&quot;flow-layout&quot;,controlClass:&quot;flow-layout-item&quot;,endClass:&quot;break&quot;},recalc:function(e){e.items().filter(&quot;:visible&quot;).each(function(e){e.recalc&amp;&amp;e.recalc()})}})}),r(It,[$,wt,et,p,dt,g],function(e,t,n,r,i,o){function a(e){function t(t,n){return function(){var r=this;e.on(&quot;nodeChange&quot;,function(i){var o=e.formatter,a=null;s(i.parents,function(e){return s(t,function(t){return n?o.matchNode(e,n,{value:t.value})&amp;&amp;(a=t.value):o.matchNode(e,t.value)&amp;&amp;(a=t.value),a?!1:void 0}),a?!1:void 0}),r.value(a)})}}function r(e){e=e.replace(/;$/,&quot;&quot;).split(&quot;;&quot;);for(var t=e.length;t--;)e[t]=e[t].split(&quot;=&quot;);return e}function i(){function t(e){var n=[];if(e)return s(e,function(e){var o={text:e.title,icon:e.icon};if(e.items)o.menu=t(e.items);else{var a=e.format||&quot;custom&quot;+r++;e.format||(e.name=a,i.push(e)),o.format=a}n.push(o)}),n}function n(){var n;return n=t(e.settings.style_formats_merge?e.settings.style_formats?o.concat(e.settings.style_formats):o:e.settings.style_formats||o)}var r=0,i=[],o=[{title:&quot;Headings&quot;,items:[{title:&quot;Heading 1&quot;,format:&quot;h1&quot;},{title:&quot;Heading 2&quot;,format:&quot;h2&quot;},{title:&quot;Heading 3&quot;,format:&quot;h3&quot;},{title:&quot;Heading 4&quot;,format:&quot;h4&quot;},{title:&quot;Heading 5&quot;,format:&quot;h5&quot;},{title:&quot;Heading 6&quot;,format:&quot;h6&quot;}]},{title:&quot;Inline&quot;,items:[{title:&quot;Bold&quot;,icon:&quot;bold&quot;,format:&quot;bold&quot;},{title:&quot;Italic&quot;,icon:&quot;italic&quot;,format:&quot;italic&quot;},{title:&quot;Underline&quot;,icon:&quot;underline&quot;,format:&quot;underline&quot;},{title:&quot;Strikethrough&quot;,icon:&quot;strikethrough&quot;,format:&quot;strikethrough&quot;},{title:&quot;Superscript&quot;,icon:&quot;superscript&quot;,format:&quot;superscript&quot;},{title:&quot;Subscript&quot;,icon:&quot;subscript&quot;,format:&quot;subscript&quot;},{title:&quot;Code&quot;,icon:&quot;code&quot;,format:&quot;code&quot;}]},{title:&quot;Blocks&quot;,items:[{title:&quot;Paragraph&quot;,format:&quot;p&quot;},{title:&quot;Blockquote&quot;,format:&quot;blockquote&quot;},{title:&quot;Div&quot;,format:&quot;div&quot;},{title:&quot;Pre&quot;,format:&quot;pre&quot;}]},{title:&quot;Alignment&quot;,items:[{title:&quot;Left&quot;,icon:&quot;alignleft&quot;,format:&quot;alignleft&quot;},{title:&quot;Center&quot;,icon:&quot;aligncenter&quot;,format:&quot;aligncenter&quot;},{title:&quot;Right&quot;,icon:&quot;alignright&quot;,format:&quot;alignright&quot;},{title:&quot;Justify&quot;,icon:&quot;alignjustify&quot;,format:&quot;alignjustify&quot;}]}];return e.on(&quot;init&quot;,function(){s(i,function(t){e.formatter.register(t.name,t)})}),{type:&quot;menu&quot;,items:n(),onPostRender:function(t){e.fire(&quot;renderFormatsMenu&quot;,{control:t.control})},itemDefaults:{preview:!0,textStyle:function(){return this.settings.format?e.formatter.getCssText(this.settings.format):void 0},onPostRender:function(){var t=this,n=this.settings.format;n&amp;&amp;t.parent().on(&quot;show&quot;,function(){t.disabled(!e.formatter.canApply(n)),t.active(e.formatter.match(n))})},onclick:function(){this.settings.format&amp;&amp;d(this.settings.format)}}}}function o(){return e.undoManager?e.undoManager.hasUndo():!1}function a(){return e.undoManager?e.undoManager.hasRedo():!1}function l(){var t=this;t.disabled(!o()),e.on(&quot;Undo Redo AddUndo TypingUndo&quot;,function(){t.disabled(!o())})}function c(){var t=this;t.disabled(!a()),e.on(&quot;Undo Redo AddUndo TypingUndo&quot;,function(){t.disabled(!a())})}function u(){var t=this;e.on(&quot;VisualAid&quot;,function(e){t.active(e.hasVisual)}),t.active(e.hasVisual)}function d(t){t.control&amp;&amp;(t=t.control.value()),t&amp;&amp;e.execCommand(&quot;mceToggleFormat&quot;,!1,t)}var f;f=i(),s({bold:&quot;Bold&quot;,italic:&quot;Italic&quot;,underline:&quot;Underline&quot;,strikethrough:&quot;Strikethrough&quot;,subscript:&quot;Subscript&quot;,superscript:&quot;Superscript&quot;},function(t,n){e.addButton(n,{tooltip:t,onPostRender:function(){var t=this;e.formatter?e.formatter.formatChanged(n,function(e){t.active(e)}):e.on(&quot;init&quot;,function(){e.formatter.formatChanged(n,function(e){t.active(e)})})},onclick:function(){d(n)}})}),s({outdent:[&quot;Decrease indent&quot;,&quot;Outdent&quot;],indent:[&quot;Increase indent&quot;,&quot;Indent&quot;],cut:[&quot;Cut&quot;,&quot;Cut&quot;],copy:[&quot;Copy&quot;,&quot;Copy&quot;],paste:[&quot;Paste&quot;,&quot;Paste&quot;],help:[&quot;Help&quot;,&quot;mceHelp&quot;],selectall:[&quot;Select all&quot;,&quot;SelectAll&quot;],hr:[&quot;Insert horizontal rule&quot;,&quot;InsertHorizontalRule&quot;],removeformat:[&quot;Clear formatting&quot;,&quot;RemoveFormat&quot;],visualaid:[&quot;Visual aids&quot;,&quot;mceToggleVisualAid&quot;],newdocument:[&quot;New document&quot;,&quot;mceNewDocument&quot;]},function(t,n){e.addButton(n,{tooltip:t[0],cmd:t[1]})}),s({blockquote:[&quot;Blockquote&quot;,&quot;mceBlockQuote&quot;],numlist:[&quot;Numbered list&quot;,&quot;InsertOrderedList&quot;],bullist:[&quot;Bullet list&quot;,&quot;InsertUnorderedList&quot;],subscript:[&quot;Subscript&quot;,&quot;Subscript&quot;],superscript:[&quot;Superscript&quot;,&quot;Superscript&quot;],alignleft:[&quot;Align left&quot;,&quot;JustifyLeft&quot;],aligncenter:[&quot;Align center&quot;,&quot;JustifyCenter&quot;],alignright:[&quot;Align right&quot;,&quot;JustifyRight&quot;],alignjustify:[&quot;Justify&quot;,&quot;JustifyFull&quot;]},function(t,n){e.addButton(n,{tooltip:t[0],cmd:t[1],onPostRender:function(){var t=this;e.formatter?e.formatter.formatChanged(n,function(e){t.active(e)}):e.on(&quot;init&quot;,function(){e.formatter.formatChanged(n,function(e){t.active(e)})})}})}),e.addButton(&quot;undo&quot;,{tooltip:&quot;Undo&quot;,onPostRender:l,cmd:&quot;undo&quot;}),e.addButton(&quot;redo&quot;,{tooltip:&quot;Redo&quot;,onPostRender:c,cmd:&quot;redo&quot;}),e.addMenuItem(&quot;newdocument&quot;,{text:&quot;New document&quot;,shortcut:&quot;Ctrl+N&quot;,icon:&quot;newdocument&quot;,cmd:&quot;mceNewDocument&quot;}),e.addMenuItem(&quot;undo&quot;,{text:&quot;Undo&quot;,icon:&quot;undo&quot;,shortcut:&quot;Ctrl+Z&quot;,onPostRender:l,cmd:&quot;undo&quot;}),e.addMenuItem(&quot;redo&quot;,{text:&quot;Redo&quot;,icon:&quot;redo&quot;,shortcut:&quot;Ctrl+Y&quot;,onPostRender:c,cmd:&quot;redo&quot;}),e.addMenuItem(&quot;visualaid&quot;,{text:&quot;Visual aids&quot;,selectable:!0,onPostRender:u,cmd:&quot;mceToggleVisualAid&quot;}),s({cut:[&quot;Cut&quot;,&quot;Cut&quot;,&quot;Ctrl+X&quot;],copy:[&quot;Copy&quot;,&quot;Copy&quot;,&quot;Ctrl+C&quot;],paste:[&quot;Paste&quot;,&quot;Paste&quot;,&quot;Ctrl+V&quot;],selectall:[&quot;Select all&quot;,&quot;SelectAll&quot;,&quot;Ctrl+A&quot;],bold:[&quot;Bold&quot;,&quot;Bold&quot;,&quot;Ctrl+B&quot;],italic:[&quot;Italic&quot;,&quot;Italic&quot;,&quot;Ctrl+I&quot;],underline:[&quot;Underline&quot;,&quot;Underline&quot;],strikethrough:[&quot;Strikethrough&quot;,&quot;Strikethrough&quot;],subscript:[&quot;Subscript&quot;,&quot;Subscript&quot;],superscript:[&quot;Superscript&quot;,&quot;Superscript&quot;],removeformat:[&quot;Clear formatting&quot;,&quot;RemoveFormat&quot;]},function(t,n){e.addMenuItem(n,{text:t[0],icon:n,shortcut:t[2],cmd:t[1]})}),e.on(&quot;mousedown&quot;,function(){n.hideAll()}),e.addButton(&quot;styleselect&quot;,{type:&quot;menubutton&quot;,text:&quot;Formats&quot;,menu:f}),e.addButton(&quot;formatselect&quot;,function(){var n=[],i=r(e.settings.block_formats||&quot;Paragraph=p;Address=address;Pre=pre;Heading 1=h1;Heading 2=h2;Heading 3=h3;Heading 4=h4;Heading 5=h5;Heading 6=h6&quot;);return s(i,function(t){n.push({text:t[0],value:t[1],textStyle:function(){return e.formatter.getCssText(t[1])}})}),{type:&quot;listbox&quot;,text:i[0][0],values:n,fixedWidth:!0,onselect:d,onPostRender:t(n)}}),e.addButton(&quot;fontselect&quot;,function(){var n=&quot;Andale Mono=andale mono,times;Arial=arial,helvetica,sans-serif;Arial Black=arial black,avant garde;Book Antiqua=book antiqua,palatino;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier;Georgia=georgia,palatino;Helvetica=helvetica;Impact=impact,chicago;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco;Times New Roman=times new roman,times;Trebuchet MS=trebuchet ms,geneva;Verdana=verdana,geneva;Webdings=webdings;Wingdings=wingdings,zapf dingbats&quot;,i=[],o=r(e.settings.font_formats||n);return s(o,function(e){i.push({text:{raw:e[0]},value:e[1],textStyle:-1==e[1].indexOf(&quot;dings&quot;)?&quot;font-family:&quot;+e[1]:&quot;&quot;})}),{type:&quot;listbox&quot;,text:&quot;Font Family&quot;,tooltip:&quot;Font Family&quot;,values:i,fixedWidth:!0,onPostRender:t(i,&quot;fontname&quot;),onselect:function(t){t.control.settings.value&amp;&amp;e.execCommand(&quot;FontName&quot;,!1,t.control.settings.value)}}}),e.addButton(&quot;fontsizeselect&quot;,function(){var n=[],r=&quot;8pt 10pt 12pt 14pt 18pt 24pt 36pt&quot;,i=e.settings.fontsize_formats||r;return s(i.split(&quot; &quot;),function(e){n.push({text:e,value:e})}),{type:&quot;listbox&quot;,text:&quot;Font Sizes&quot;,tooltip:&quot;Font Sizes&quot;,values:n,fixedWidth:!0,onPostRender:t(n,&quot;fontsize&quot;),onclick:function(t){t.control.settings.value&amp;&amp;e.execCommand(&quot;FontSize&quot;,!1,t.control.settings.value)}}}),e.addMenuItem(&quot;formats&quot;,{text:&quot;Formats&quot;,menu:f})}var s=r.each;i.on(&quot;AddEditor&quot;,function(t){t.editor.rtl&amp;&amp;(e.rtl=!0),a(t.editor)}),e.translate=function(e){return i.translate(e)},t.tooltips=!o.iOS}),r(Ft,[Ct],function(e){return e.extend({recalc:function(e){var t=e.settings,n,r,i,o,a,s,l,c,u,d,f,p,h,m,g,v,y,b,C,x,w,_,N=[],E=[],S,k,T,R;for(t=e.settings,i=e.items().filter(&quot;:visible&quot;),o=e.layoutRect(),r=t.columns||Math.ceil(Math.sqrt(i.length)),n=Math.ceil(i.length/r),y=t.spacingH||t.spacing||0,b=t.spacingV||t.spacing||0,C=t.alignH||t.align,x=t.alignV||t.align,g=e._paddingBox,C&amp;&amp;&quot;string&quot;==typeof C&amp;&amp;(C=[C]),x&amp;&amp;&quot;string&quot;==typeof x&amp;&amp;(x=[x]),d=0;r&gt;d;d++)N.push(0);for(f=0;n&gt;f;f++)E.push(0);for(f=0;n&gt;f;f++)for(d=0;r&gt;d&amp;&amp;(u=i[f*r+d],u);d++)c=u.layoutRect(),S=c.minW,k=c.minH,N[d]=S&gt;N[d]?S:N[d],E[f]=k&gt;E[f]?k:E[f];for(T=o.innerW-g.left-g.right,w=0,d=0;r&gt;d;d++)w+=N[d]+(d&gt;0?y:0),T-=(d&gt;0?y:0)+N[d];for(R=o.innerH-g.top-g.bottom,_=0,f=0;n&gt;f;f++)_+=E[f]+(f&gt;0?b:0),R-=(f&gt;0?b:0)+E[f];if(w+=g.left+g.right,_+=g.top+g.bottom,l={},l.minW=w+(o.w-o.innerW),l.minH=_+(o.h-o.innerH),l.contentW=l.minW-o.deltaW,l.contentH=l.minH-o.deltaH,l.minW=Math.min(l.minW,o.maxW),l.minH=Math.min(l.minH,o.maxH),l.minW=Math.max(l.minW,o.startMinWidth),l.minH=Math.max(l.minH,o.startMinHeight),!o.autoResize||l.minW==o.minW&amp;&amp;l.minH==o.minH){o.autoResize&amp;&amp;(l=e.layoutRect(l),l.contentW=l.minW-o.deltaW,l.contentH=l.minH-o.deltaH);var A;A=&quot;start&quot;==t.packV?0:R&gt;0?Math.floor(R/n):0;var B=0,D=t.flexWidths;if(D)for(d=0;d&lt;D.length;d++)B+=D[d];else B=r;var L=T/B;for(d=0;r&gt;d;d++)N[d]+=D?D[d]*L:L;for(h=g.top,f=0;n&gt;f;f++){for(p=g.left,s=E[f]+A,d=0;r&gt;d&amp;&amp;(u=i[f*r+d],u);d++)m=u.settings,c=u.layoutRect(),a=Math.max(N[d],c.startMinWidth),c.x=p,c.y=h,v=m.alignH||(C?C[d]||C[0]:null),&quot;center&quot;==v?c.x=p+a/2-c.w/2:&quot;right&quot;==v?c.x=p+a-c.w:&quot;stretch&quot;==v&amp;&amp;(c.w=a),v=m.alignV||(x?x[d]||x[0]:null),&quot;center&quot;==v?c.y=h+s/2-c.h/2:&quot;bottom&quot;==v?c.y=h+s-c.h:&quot;stretch&quot;==v&amp;&amp;(c.h=s),u.layoutRect(c),p+=a+y,u.recalc&amp;&amp;u.recalc();h+=s+b}}else if(l.w=l.minW,l.h=l.minH,e.layoutRect(l),this.recalc(e),null===e._lastRect){var M=e.parent();M&amp;&amp;(M._lastRect=null,M.recalc())}}})}),r(zt,[wt],function(e){return e.extend({renderHtml:function(){var e=this;return e.addClass(&quot;iframe&quot;),e.canFocus=!1,&#039;&lt;iframe id=&quot;&#039;+e._id+&#039;&quot; class=&quot;&#039;+e.classes()+&#039;&quot; tabindex=&quot;-1&quot; src=&quot;&#039;+(e.settings.url||&quot;javascript:&#039;&#039;&quot;)+&#039;&quot; frameborder=&quot;0&quot;&gt;&lt;/iframe&gt;&#039;},src:function(e){this.getEl().src=e},html:function(e,t){var n=this,r=this.getEl().contentWindow.document.body;return r?(r.innerHTML=e,t&amp;&amp;t()):setTimeout(function(){n.html(e)},0),this}})}),r(Wt,[wt,q],function(e,t){return e.extend({init:function(e){var t=this;t._super(e),t.addClass(&quot;widget&quot;),t.addClass(&quot;label&quot;),t.canFocus=!1,e.multiline&amp;&amp;t.addClass(&quot;autoscroll&quot;),e.strong&amp;&amp;t.addClass(&quot;strong&quot;)},initLayoutRect:function(){var e=this,n=e._super();if(e.settings.multiline){var r=t.getSize(e.getEl());r.width&gt;n.maxW&amp;&amp;(n.minW=n.maxW,e.addClass(&quot;multiline&quot;)),e.getEl().style.width=n.minW+&quot;px&quot;,n.startMinH=n.h=n.minH=Math.min(n.maxH,t.getSize(e.getEl()).height)}return n},repaint:function(){var e=this;return e.settings.multiline||(e.getEl().style.lineHeight=e.layoutRect().h+&quot;px&quot;),e._super()},text:function(e){var t=this;return t._rendered&amp;&amp;e&amp;&amp;this.innerHtml(t.encode(e)),t._super(e)},renderHtml:function(){var e=this,t=e.settings.forId;return&#039;&lt;label id=&quot;&#039;+e._id+&#039;&quot; class=&quot;&#039;+e.classes()+&#039;&quot;&#039;+(t?&#039; for=&quot;&#039;+t+&#039;&quot;&#039;:&quot;&quot;)+&quot;&gt;&quot;+e.encode(e._text)+&quot;&lt;/label&gt;&quot;}})}),r(Vt,[G],function(e){return e.extend({Defaults:{role:&quot;toolbar&quot;,layout:&quot;flow&quot;},init:function(e){var t=this;t._super(e),t.addClass(&quot;toolbar&quot;)},postRender:function(){var e=this;return e.items().addClass(&quot;toolbar-item&quot;),e._super()}})}),r(Ut,[Vt],function(e){return e.extend({Defaults:{role:&quot;menubar&quot;,containerCls:&quot;menubar&quot;,ariaRoot:!0,defaults:{type:&quot;menubutton&quot;}}})}),r(qt,[_t,j,Ut],function(e,t,n){function r(e,t){for(;e;){if(t===e)return!0;e=e.parentNode}return!1}var i=e.extend({init:function(e){var t=this;t._renderOpen=!0,t._super(e),t.addClass(&quot;menubtn&quot;),e.fixedWidth&amp;&amp;t.addClass(&quot;fixed-width&quot;),t.aria(&quot;haspopup&quot;,!0),t.hasPopup=!0},showMenu:function(){var e=this,n=e.settings,r;return e.menu&amp;&amp;e.menu.visible()?e.hideMenu():(e.menu||(r=n.menu||[],r.length?r={type:&quot;menu&quot;,items:r}:r.type=r.type||&quot;menu&quot;,e.menu=t.create(r).parent(e).renderTo(),e.fire(&quot;createmenu&quot;),e.menu.reflow(),e.menu.on(&quot;cancel&quot;,function(t){t.control.parent()===e.menu&amp;&amp;(t.stopPropagation(),e.focus(),e.hideMenu())}),e.menu.on(&quot;select&quot;,function(){e.focus()}),e.menu.on(&quot;show hide&quot;,function(t){t.control==e.menu&amp;&amp;e.activeMenu(&quot;show&quot;==t.type),e.aria(&quot;expanded&quot;,&quot;show&quot;==t.type)}).fire(&quot;show&quot;)),e.menu.show(),e.menu.layoutRect({w:e.layoutRect().w}),void e.menu.moveRel(e.getEl(),e.isRtl()?[&quot;br-tr&quot;,&quot;tr-br&quot;]:[&quot;bl-tl&quot;,&quot;tl-bl&quot;]))},hideMenu:function(){var e=this;e.menu&amp;&amp;(e.menu.items().each(function(e){e.hideMenu&amp;&amp;e.hideMenu()}),e.menu.hide())},activeMenu:function(e){this.toggleClass(&quot;active&quot;,e)},renderHtml:function(){var e=this,t=e._id,r=e.classPrefix,i=e.settings.icon?r+&quot;ico &quot;+r+&quot;i-&quot;+e.settings.icon:&quot;&quot;;return e.aria(&quot;role&quot;,e.parent()instanceof n?&quot;menuitem&quot;:&quot;button&quot;),&#039;&lt;div id=&quot;&#039;+t+&#039;&quot; class=&quot;&#039;+e.classes()+&#039;&quot; tabindex=&quot;-1&quot; aria-labelledby=&quot;&#039;+t+&#039;&quot;&gt;&lt;button id=&quot;&#039;+t+&#039;-open&quot; role=&quot;presentation&quot; type=&quot;button&quot; tabindex=&quot;-1&quot;&gt;&#039;+(i?&#039;&lt;i class=&quot;&#039;+i+&#039;&quot;&gt;&lt;/i&gt;&#039;:&quot;&quot;)+&quot;&lt;span&gt;&quot;+(e._text?(i?&quot;\xa0&quot;:&quot;&quot;)+e.encode(e._text):&quot;&quot;)+&#039;&lt;/span&gt; &lt;i class=&quot;&#039;+r+&#039;caret&quot;&gt;&lt;/i&gt;&lt;/button&gt;&lt;/div&gt;&#039;},postRender:function(){var e=this;return e.on(&quot;click&quot;,function(t){t.control===e&amp;&amp;r(t.target,e.getEl())&amp;&amp;(e.showMenu(),t.aria&amp;&amp;e.menu.items()[0].focus())}),e.on(&quot;mouseenter&quot;,function(t){var n=t.control,r=e.parent(),o;n&amp;&amp;r&amp;&amp;n instanceof i&amp;&amp;n.parent()==r&amp;&amp;(r.items().filter(&quot;MenuButton&quot;).each(function(e){e.hideMenu&amp;&amp;e!=n&amp;&amp;(e.menu&amp;&amp;e.menu.visible()&amp;&amp;(o=!0),e.hideMenu())}),o&amp;&amp;(n.focus(),n.showMenu()))}),e._super()},text:function(e){var t=this,n,r;if(t._rendered)for(r=t.getEl(&quot;open&quot;).getElementsByTagName(&quot;span&quot;),n=0;n&lt;r.length;n++)r[n].innerHTML=(t.settings.icon&amp;&amp;e?&quot;\xa0&quot;:&quot;&quot;)+t.encode(e);return this._super(e)},remove:function(){this._super(),this.menu&amp;&amp;this.menu.remove()}});return i}),r($t,[qt],function(e){return e.extend({init:function(e){var t=this,n,r,i,o,a;if(t._values=n=e.values,n){for(r=0;r&lt;n.length;r++)if(i=n[r].selected||e.value===n[r].value){o=o||n[r].text,t._value=n[r].value;break}!i&amp;&amp;n.length&gt;0&amp;&amp;(o=n[0].text,t._value=n[0].value),e.menu=n}e.text=e.text||o||n[0].text,t._super(e),t.addClass(&quot;listbox&quot;),t.on(&quot;select&quot;,function(n){var r=n.control;a&amp;&amp;(n.lastControl=a),e.multiple?r.active(!r.active()):t.value(n.control.settings.value),a=r})},value:function(e){function t(e,n){e.items().each(function(e){r=e.value()===n,r&amp;&amp;(i=i||e.text()),e.active(r),e.menu&amp;&amp;t(e.menu,n)})}var n=this,r,i,o,a;if(&quot;undefined&quot;!=typeof e){if(n.menu)t(n.menu,e);else for(o=n.settings.menu,a=0;a&lt;o.length;a++)r=o[a].value==e,r&amp;&amp;(i=i||o[a].text),o[a].active=r;n.text(i||this.settings.text)}return n._super(e)}})}),r(jt,[wt,j,g],function(e,t,n){return e.extend({Defaults:{border:0,role:&quot;menuitem&quot;},init:function(e){var t=this;t.hasPopup=!0,t._super(e),e=t.settings,t.addClass(&quot;menu-item&quot;),e.menu&amp;&amp;t.addClass(&quot;menu-item-expand&quot;),e.preview&amp;&amp;t.addClass(&quot;menu-item-preview&quot;),(&quot;-&quot;===t._text||&quot;|&quot;===t._text)&amp;&amp;(t.addClass(&quot;menu-item-sep&quot;),t.aria(&quot;role&quot;,&quot;separator&quot;),t._text=&quot;-&quot;),e.selectable&amp;&amp;(t.aria(&quot;role&quot;,&quot;menuitemcheckbox&quot;),t.addClass(&quot;menu-item-checkbox&quot;),e.icon=&quot;selected&quot;),e.preview||e.selectable||t.addClass(&quot;menu-item-normal&quot;),t.on(&quot;mousedown&quot;,function(e){e.preventDefault()}),e.menu&amp;&amp;!e.ariaHideMenu&amp;&amp;t.aria(&quot;haspopup&quot;,!0)},hasMenus:function(){return!!this.settings.menu},showMenu:function(){var e=this,n=e.settings,r,i=e.parent();if(i.items().each(function(t){t!==e&amp;&amp;t.hideMenu()}),n.menu){r=e.menu,r?r.show():(r=n.menu,r.length?r={type:&quot;menu&quot;,items:r}:r.type=r.type||&quot;menu&quot;,i.settings.itemDefaults&amp;&amp;(r.itemDefaults=i.settings.itemDefaults),r=e.menu=t.create(r).parent(e).renderTo(),r.reflow(),r.fire(&quot;show&quot;),r.on(&quot;cancel&quot;,function(t){t.stopPropagation(),e.focus(),r.hide()}),r.on(&quot;hide&quot;,function(t){t.control===r&amp;&amp;e.removeClass(&quot;selected&quot;)}),r.submenu=!0),r._parentMenu=i,r.addClass(&quot;menu-sub&quot;);var o=r.testMoveRel(e.getEl(),e.isRtl()?[&quot;tl-tr&quot;,&quot;bl-br&quot;,&quot;tr-tl&quot;,&quot;br-bl&quot;]:[&quot;tr-tl&quot;,&quot;br-bl&quot;,&quot;tl-tr&quot;,&quot;bl-br&quot;]);r.moveRel(e.getEl(),o),r.rel=o,o=&quot;menu-sub-&quot;+o,r.removeClass(r._lastRel),r.addClass(o),r._lastRel=o,e.addClass(&quot;selected&quot;),e.aria(&quot;expanded&quot;,!0)}},hideMenu:function(){var e=this;return e.menu&amp;&amp;(e.menu.items().each(function(e){e.hideMenu&amp;&amp;e.hideMenu()}),e.menu.hide(),e.aria(&quot;expanded&quot;,!1)),e},renderHtml:function(){var e=this,t=e._id,r=e.settings,i=e.classPrefix,o=e.encode(e._text),a=e.settings.icon,s=&quot;&quot;,l=r.shortcut;return a&amp;&amp;e.parent().addClass(&quot;menu-has-icons&quot;),r.image&amp;&amp;(a=&quot;none&quot;,s=&quot; style=\&quot;background-image: url(&#039;&quot;+r.image+&quot;&#039;)\&quot;&quot;),l&amp;&amp;n.mac&amp;&amp;(l=l.replace(/ctrl\+alt\+/i,&quot;&amp;#x2325;&amp;#x2318;&quot;),l=l.replace(/ctrl\+/i,&quot;&amp;#x2318;&quot;),l=l.replace(/alt\+/i,&quot;&amp;#x2325;&quot;),l=l.replace(/shift\+/i,&quot;&amp;#x21E7;&quot;)),a=i+&quot;ico &quot;+i+&quot;i-&quot;+(e.settings.icon||&quot;none&quot;),&#039;&lt;div id=&quot;&#039;+t+&#039;&quot; class=&quot;&#039;+e.classes()+&#039;&quot; tabindex=&quot;-1&quot;&gt;&#039;+(&quot;-&quot;!==o?&#039;&lt;i class=&quot;&#039;+a+&#039;&quot;&#039;+s+&quot;&gt;&lt;/i&gt;\xa0&quot;:&quot;&quot;)+(&quot;-&quot;!==o?&#039;&lt;span id=&quot;&#039;+t+&#039;-text&quot; class=&quot;&#039;+i+&#039;text&quot;&gt;&#039;+o+&quot;&lt;/span&gt;&quot;:&quot;&quot;)+(l?&#039;&lt;div id=&quot;&#039;+t+&#039;-shortcut&quot; class=&quot;&#039;+i+&#039;menu-shortcut&quot;&gt;&#039;+l+&quot;&lt;/div&gt;&quot;:&quot;&quot;)+(r.menu?&#039;&lt;div class=&quot;&#039;+i+&#039;caret&quot;&gt;&lt;/div&gt;&#039;:&quot;&quot;)+&quot;&lt;/div&gt;&quot;},postRender:function(){var e=this,t=e.settings,n=t.textStyle;if(&quot;function&quot;==typeof n&amp;&amp;(n=n.call(this)),n){var r=e.getEl(&quot;text&quot;);r&amp;&amp;r.setAttribute(&quot;style&quot;,n)}return e.on(&quot;mouseenter click&quot;,function(n){n.control===e&amp;&amp;(t.menu||&quot;click&quot;!==n.type?(e.showMenu(),n.aria&amp;&amp;e.menu.focus(!0)):(e.fire(&quot;select&quot;),e.parent().hideAll()))}),e._super(),e},active:function(e){return&quot;undefined&quot;!=typeof e&amp;&amp;this.aria(&quot;checked&quot;,e),this._super(e)},remove:function(){this._super(),this.menu&amp;&amp;this.menu.remove()}})}),r(Kt,[et,jt,p],function(e,t,n){var r=e.extend({Defaults:{defaultType:&quot;menuitem&quot;,border:1,layout:&quot;stack&quot;,role:&quot;application&quot;,bodyRole:&quot;menu&quot;,ariaRoot:!0},init:function(e){var t=this;if(e.autohide=!0,e.constrainToViewport=!0,e.itemDefaults)for(var r=e.items,i=r.length;i--;)r[i]=n.extend({},e.itemDefaults,r[i]);t._super(e),t.addClass(&quot;menu&quot;)},repaint:function(){return this.toggleClass(&quot;menu-align&quot;,!0),this._super(),this.getEl().style.height=&quot;&quot;,this.getEl(&quot;body&quot;).style.height=&quot;&quot;,this},cancel:function(){var e=this;e.hideAll(),e.fire(&quot;select&quot;)},hideAll:function(){var e=this;return this.find(&quot;menuitem&quot;).exec(&quot;hideMenu&quot;),e._super()},preRender:function(){var e=this;return e.items().each(function(t){var n=t.settings;return n.icon||n.selectable?(e._hasIcons=!0,!1):void 0}),e._super()}});return r}),r(Gt,[Et],function(e){return e.extend({Defaults:{classes:&quot;radio&quot;,role:&quot;radio&quot;}})}),r(Yt,[wt,Y],function(e,t){return e.extend({renderHtml:function(){var e=this,t=e.classPrefix;return e.addClass(&quot;resizehandle&quot;),&quot;both&quot;==e.settings.direction&amp;&amp;e.addClass(&quot;resizehandle-both&quot;),e.canFocus=!1,&#039;&lt;div id=&quot;&#039;+e._id+&#039;&quot; class=&quot;&#039;+e.classes()+&#039;&quot;&gt;&lt;i class=&quot;&#039;+t+&quot;ico &quot;+t+&#039;i-resize&quot;&gt;&lt;/i&gt;&lt;/div&gt;&#039;},postRender:function(){var e=this;e._super(),e.resizeDragHelper=new t(this._id,{start:function(){e.fire(&quot;ResizeStart&quot;)},drag:function(t){&quot;both&quot;!=e.settings.direction&amp;&amp;(t.deltaX=0),e.fire(&quot;Resize&quot;,t)},stop:function(){e.fire(&quot;ResizeEnd&quot;)}})},remove:function(){return this.resizeDragHelper&amp;&amp;this.resizeDragHelper.destroy(),this._super()}})}),r(Xt,[wt],function(e){return e.extend({renderHtml:function(){var e=this;return e.addClass(&quot;spacer&quot;),e.canFocus=!1,&#039;&lt;div id=&quot;&#039;+e._id+&#039;&quot; class=&quot;&#039;+e.classes()+&#039;&quot;&gt;&lt;/div&gt;&#039;}})}),r(Jt,[qt,q],function(e,t){return e.extend({Defaults:{classes:&quot;widget btn splitbtn&quot;,role:&quot;button&quot;},repaint:function(){var e=this,n=e.getEl(),r=e.layoutRect(),i,o;return e._super(),i=n.firstChild,o=n.lastChild,t.css(i,{width:r.w-t.getSize(o).width,height:r.h-2}),t.css(o,{height:r.h-2}),e},activeMenu:function(e){var n=this;t.toggleClass(n.getEl().lastChild,n.classPrefix+&quot;active&quot;,e)},renderHtml:function(){var e=this,t=e._id,n=e.classPrefix,r=e.settings.icon?n+&quot;ico &quot;+n+&quot;i-&quot;+e.settings.icon:&quot;&quot;;return&#039;&lt;div id=&quot;&#039;+t+&#039;&quot; class=&quot;&#039;+e.classes()+&#039;&quot; role=&quot;button&quot; tabindex=&quot;-1&quot;&gt;&lt;button type=&quot;button&quot; hidefocus=&quot;1&quot; tabindex=&quot;-1&quot;&gt;&#039;+(r?&#039;&lt;i class=&quot;&#039;+r+&#039;&quot;&gt;&lt;/i&gt;&#039;:&quot;&quot;)+(e._text?(r?&quot; &quot;:&quot;&quot;)+e._text:&quot;&quot;)+&#039;&lt;/button&gt;&lt;button type=&quot;button&quot; class=&quot;&#039;+n+&#039;open&quot; hidefocus=&quot;1&quot; tabindex=&quot;-1&quot;&gt;&#039;+(e._menuBtnText?(r?&quot;\xa0&quot;:&quot;&quot;)+e._menuBtnText:&quot;&quot;)+&#039; &lt;i class=&quot;&#039;+n+&#039;caret&quot;&gt;&lt;/i&gt;&lt;/button&gt;&lt;/div&gt;&#039;},postRender:function(){var e=this,t=e.settings.onclick;return e.on(&quot;click&quot;,function(e){var n=e.target;if(e.control==this)for(;n;){if(e.aria&amp;&amp;&quot;down&quot;!=e.aria.key||&quot;BUTTON&quot;==n.nodeName&amp;&amp;-1==n.className.indexOf(&quot;open&quot;))return e.stopImmediatePropagation(),void t.call(this,e);n=n.parentNode}}),delete e.settings.onclick,e._super()}})}),r(Qt,[Ot],function(e){return e.extend({Defaults:{containerClass:&quot;stack-layout&quot;,controlClass:&quot;stack-layout-item&quot;,endClass:&quot;break&quot;}})}),r(Zt,[J,q],function(e,t){return e.extend({lastIdx:0,Defaults:{layout:&quot;absolute&quot;,defaults:{type:&quot;panel&quot;}},activateTab:function(e){var n;this.activeTabId&amp;&amp;(n=this.getEl(this.activeTabId),t.removeClass(n,this.classPrefix+&quot;active&quot;),n.setAttribute(&quot;aria-selected&quot;,&quot;false&quot;)),this.activeTabId=&quot;t&quot;+e,n=this.getEl(&quot;t&quot;+e),n.setAttribute(&quot;aria-selected&quot;,&quot;true&quot;),t.addClass(n,this.classPrefix+&quot;active&quot;),e!=this.lastIdx&amp;&amp;(this.items()[this.lastIdx].hide(),this.lastIdx=e),this.items()[e].show().fire(&quot;showtab&quot;),this.reflow()},renderHtml:function(){var e=this,t=e._layout,n=&quot;&quot;,r=e.classPrefix;return e.preRender(),t.preRender(e),e.items().each(function(t,i){var o=e._id+&quot;-t&quot;+i;t.aria(&quot;role&quot;,&quot;tabpanel&quot;),t.aria(&quot;labelledby&quot;,o),n+=&#039;&lt;div id=&quot;&#039;+o+&#039;&quot; class=&quot;&#039;+r+&#039;tab&quot; unselectable=&quot;on&quot; role=&quot;tab&quot; aria-controls=&quot;&#039;+t._id+&#039;&quot; aria-selected=&quot;false&quot; tabIndex=&quot;-1&quot;&gt;&#039;+e.encode(t.settings.title)+&quot;&lt;/div&gt;&quot;}),&#039;&lt;div id=&quot;&#039;+e._id+&#039;&quot; class=&quot;&#039;+e.classes()+&#039;&quot; hidefocus=&quot;1&quot; tabindex=&quot;-1&quot;&gt;&lt;div id=&quot;&#039;+e._id+&#039;-head&quot; class=&quot;&#039;+r+&#039;tabs&quot; role=&quot;tablist&quot;&gt;&#039;+n+&#039;&lt;/div&gt;&lt;div id=&quot;&#039;+e._id+&#039;-body&quot; class=&quot;&#039;+e.classes(&quot;body&quot;)+&#039;&quot;&gt;&#039;+t.renderHtml(e)+&quot;&lt;/div&gt;&lt;/div&gt;&quot;},postRender:function(){var e=this;e._super(),e.settings.activeTab=e.settings.activeTab||0,e.activateTab(e.settings.activeTab),this.on(&quot;click&quot;,function(t){var n=t.target.parentNode;if(t.target.parentNode.id==e._id+&quot;-head&quot;)for(var r=n.childNodes.length;r--;)n.childNodes[r]==t.target&amp;&amp;e.activateTab(r)})},initLayoutRect:function(){var e=this,n,r,i;r=t.getSize(e.getEl(&quot;head&quot;)).width,r=0&gt;r?0:r,i=0,e.items().each(function(t,n){r=Math.max(r,t.layoutRect().minW),i=Math.max(i,t.layoutRect().minH),e.settings.activeTab!=n&amp;&amp;t.hide()}),e.items().each(function(e){e.settings.x=0,e.settings.y=0,e.settings.w=r,e.settings.h=i,e.layoutRect({x:0,y:0,w:r,h:i})});var o=t.getSize(e.getEl(&quot;head&quot;)).height;return e.settings.minWidth=r,e.settings.minHeight=i+o,n=e._super(),n.deltaH+=o,n.innerH=n.h-n.deltaH,n}})}),r(en,[wt,q],function(e,t){return e.extend({init:function(e){var t=this;t._super(e),t._value=e.value||&quot;&quot;,t.addClass(&quot;textbox&quot;),e.multiline?t.addClass(&quot;multiline&quot;):t.on(&quot;keydown&quot;,function(e){13==e.keyCode&amp;&amp;t.parents().reverse().each(function(t){return e.preventDefault(),t.hasEventListeners(&quot;submit&quot;)&amp;&amp;t.toJSON?(t.fire(&quot;submit&quot;,{data:t.toJSON()}),!1):void 0})})},disabled:function(e){var t=this;return t._rendered&amp;&amp;&quot;undefined&quot;!=typeof e&amp;&amp;(t.getEl().disabled=e),t._super(e)},value:function(e){var t=this;return&quot;undefined&quot;!=typeof e?(t._value=e,t._rendered&amp;&amp;(t.getEl().value=e),t):t._rendered?t.getEl().value:t._value},repaint:function(){var e=this,t,n,r,i=0,o=0,a;t=e.getEl().style,n=e._layoutRect,a=e._lastRepaintRect||{};var s=document;return!e.settings.multiline&amp;&amp;s.all&amp;&amp;(!s.documentMode||s.documentMode&lt;=8)&amp;&amp;(t.lineHeight=n.h-o+&quot;px&quot;),r=e._borderBox,i=r.left+r.right+8,o=r.top+r.bottom+(e.settings.multiline?8:0),n.x!==a.x&amp;&amp;(t.left=n.x+&quot;px&quot;,a.x=n.x),n.y!==a.y&amp;&amp;(t.top=n.y+&quot;px&quot;,a.y=n.y),n.w!==a.w&amp;&amp;(t.width=n.w-i+&quot;px&quot;,a.w=n.w),n.h!==a.h&amp;&amp;(t.height=n.h-o+&quot;px&quot;,a.h=n.h),e._lastRepaintRect=a,e.fire(&quot;repaint&quot;,{},!1),e},renderHtml:function(){var e=this,t=e._id,n=e.settings,r=e.encode(e._value,!1),i=&quot;&quot;;return&quot;spellcheck&quot;in n&amp;&amp;(i+=&#039; spellcheck=&quot;&#039;+n.spellcheck+&#039;&quot;&#039;),n.maxLength&amp;&amp;(i+=&#039; maxlength=&quot;&#039;+n.maxLength+&#039;&quot;&#039;),n.size&amp;&amp;(i+=&#039; size=&quot;&#039;+n.size+&#039;&quot;&#039;),n.subtype&amp;&amp;(i+=&#039; type=&quot;&#039;+n.subtype+&#039;&quot;&#039;),e.disabled()&amp;&amp;(i+=&#039; disabled=&quot;disabled&quot;&#039;),n.multiline?&#039;&lt;textarea id=&quot;&#039;+t+&#039;&quot; class=&quot;&#039;+e.classes()+&#039;&quot; &#039;+(n.rows?&#039; rows=&quot;&#039;+n.rows+&#039;&quot;&#039;:&quot;&quot;)+&#039; hidefocus=&quot;1&quot;&#039;+i+&quot;&gt;&quot;+r+&quot;&lt;/textarea&gt;&quot;:&#039;&lt;input id=&quot;&#039;+t+&#039;&quot; class=&quot;&#039;+e.classes()+&#039;&quot; value=&quot;&#039;+r+&#039;&quot; hidefocus=&quot;1&quot;&#039;+i+&quot; /&gt;&quot;},postRender:function(){var e=this;return t.on(e.getEl(),&quot;change&quot;,function(t){e.fire(&quot;change&quot;,t)}),e._super()},remove:function(){t.off(this.getEl()),this._super()}})}),r(tn,[q,$],function(e,t){return function(n,r){var i=this,o,a=t.classPrefix;i.show=function(t){return i.hide(),o=!0,window.setTimeout(function(){o&amp;&amp;n.appendChild(e.createFragment(&#039;&lt;div class=&quot;&#039;+a+&quot;throbber&quot;+(r?&quot; &quot;+a+&quot;throbber-inline&quot;:&quot;&quot;)+&#039;&quot;&gt;&lt;/div&gt;&#039;))},t||0),i},i.hide=function(){var e=n.lastChild;return e&amp;&amp;-1!=e.className.indexOf(&quot;throbber&quot;)&amp;&amp;e.parentNode.removeChild(e),o=!1,i}}}),a([l,c,u,d,f,p,h,m,g,v,y,b,C,x,w,_,N,E,S,k,T,R,A,B,D,L,M,H,P,O,I,F,z,W,V,U,q,$,j,K,G,Y,X,J,Q,Z,et,tt,nt,rt,it,ot,at,st,lt,ct,ut,dt,ft,pt,ht,mt,gt,vt,yt,bt,Ct,xt,wt,_t,Nt,Et,St,kt,Tt,Rt,At,Bt,Dt,Lt,Mt,Ht,Pt,Ot,It,Ft,zt,Wt,Vt,Ut,qt,$t,jt,Kt,Gt,Yt,Xt,Jt,Qt,Zt,en,tn])}(this);tinymce.PluginManager.add(&quot;advlist&quot;,function(t){function e(t,e){var n=[];return tinymce.each(e.split(/[ ,]/),function(t){n.push({text:t.replace(/\-/g,&quot; &quot;).replace(/\b\w/g,function(t){return t.toUpperCase()}),data:&quot;default&quot;==t?&quot;&quot;:t})}),n}function n(e,n){var o,l=t.dom,a=t.selection;o=l.getParent(a.getNode(),&quot;ol,ul&quot;),o&amp;&amp;o.nodeName==e&amp;&amp;n!==!1||t.execCommand(&quot;UL&quot;==e?&quot;InsertUnorderedList&quot;:&quot;InsertOrderedList&quot;),n=n===!1?i[e]:n,i[e]=n,o=l.getParent(a.getNode(),&quot;ol,ul&quot;),o&amp;&amp;(l.setStyle(o,&quot;listStyleType&quot;,n),o.removeAttribute(&quot;data-mce-style&quot;)),t.focus()}function o(e){var n=t.dom.getStyle(t.dom.getParent(t.selection.getNode(),&quot;ol,ul&quot;),&quot;listStyleType&quot;)||&quot;&quot;;e.control.items().each(function(t){t.active(t.settings.data===n)})}var l,a,i={};l=e(&quot;OL&quot;,t.getParam(&quot;advlist_number_styles&quot;,&quot;default,lower-alpha,lower-greek,lower-roman,upper-alpha,upper-roman&quot;)),a=e(&quot;UL&quot;,t.getParam(&quot;advlist_bullet_styles&quot;,&quot;default,circle,disc,square&quot;)),t.addButton(&quot;numlist&quot;,{type:&quot;splitbutton&quot;,tooltip:&quot;Numbered list&quot;,menu:l,onshow:o,onselect:function(t){n(&quot;OL&quot;,t.control.settings.data)},onclick:function(){n(&quot;OL&quot;,!1)}}),t.addButton(&quot;bullist&quot;,{type:&quot;splitbutton&quot;,tooltip:&quot;Bullet list&quot;,menu:a,onshow:o,onselect:function(t){n(&quot;UL&quot;,t.control.settings.data)},onclick:function(){n(&quot;UL&quot;,!1)}})});tinymce.PluginManager.add(&quot;anchor&quot;,function(n){function e(){var e=n.selection.getNode();n.windowManager.open({title:&quot;Anchor&quot;,body:{type:&quot;textbox&quot;,name:&quot;name&quot;,size:40,label:&quot;Name&quot;,value:e.name||e.id},onsubmit:function(e){n.execCommand(&quot;mceInsertContent&quot;,!1,n.dom.createHTML(&quot;a&quot;,{id:e.data.name}))}})}n.addButton(&quot;anchor&quot;,{icon:&quot;anchor&quot;,tooltip:&quot;Anchor&quot;,onclick:e,stateSelector:&quot;a:not([href])&quot;}),n.addMenuItem(&quot;anchor&quot;,{icon:&quot;anchor&quot;,text:&quot;Anchor&quot;,context:&quot;insert&quot;,onclick:e})});tinymce.PluginManager.add(&quot;autolink&quot;,function(t){function n(t){o(t,-1,&quot;(&quot;,!0)}function e(t){o(t,0,&quot;&quot;,!0)}function i(t){o(t,-1,&quot;&quot;,!1)}function o(t,n,e){function i(t,n){if(0&gt;n&amp;&amp;(n=0),3==t.nodeType){var e=t.data.length;n&gt;e&amp;&amp;(n=e)}return n}function o(t,n){f.setStart(t,i(t,n))}function r(t,n){f.setEnd(t,i(t,n))}var f,d,a,s,c,l,u,g,h;if(f=t.selection.getRng(!0).cloneRange(),f.startOffset&lt;5){if(g=f.endContainer.previousSibling,!g){if(!f.endContainer.firstChild||!f.endContainer.firstChild.nextSibling)return;g=f.endContainer.firstChild.nextSibling}if(h=g.length,o(g,h),r(g,h),f.endOffset&lt;5)return;d=f.endOffset,s=g}else{if(s=f.endContainer,3!=s.nodeType&amp;&amp;s.firstChild){for(;3!=s.nodeType&amp;&amp;s.firstChild;)s=s.firstChild;3==s.nodeType&amp;&amp;(o(s,0),r(s,s.nodeValue.length))}d=1==f.endOffset?2:f.endOffset-1-n}a=d;do o(s,d&gt;=2?d-2:0),r(s,d&gt;=1?d-1:0),d-=1;while(&quot; &quot;!=f.toString()&amp;&amp;&quot;&quot;!==f.toString()&amp;&amp;160!=f.toString().charCodeAt(0)&amp;&amp;d-2&gt;=0&amp;&amp;f.toString()!=e);f.toString()==e||160==f.toString().charCodeAt(0)?(o(s,d),r(s,a),d+=1):0===f.startOffset?(o(s,0),r(s,a)):(o(s,d),r(s,a)),l=f.toString(),&quot;.&quot;==l.charAt(l.length-1)&amp;&amp;r(s,a-1),l=f.toString(),u=l.match(/^(https?:\/\/|ssh:\/\/|ftp:\/\/|file:\/|www\.|(?:mailto:)?[A-Z0-9._%+\-]+@)(.+)$/i),u&amp;&amp;(&quot;www.&quot;==u[1]?u[1]=&quot;http://www.&quot;:/@$/.test(u[1])&amp;&amp;!/^mailto:/.test(u[1])&amp;&amp;(u[1]=&quot;mailto:&quot;+u[1]),c=t.selection.getBookmark(),t.selection.setRng(f),t.execCommand(&quot;createlink&quot;,!1,u[1]+u[2]),t.selection.moveToBookmark(c),t.nodeChanged())}var r;return t.on(&quot;keydown&quot;,function(n){return 13==n.keyCode?i(t):void 0}),tinymce.Env.ie?void t.on(&quot;focus&quot;,function(){if(!r){r=!0;try{t.execCommand(&quot;AutoUrlDetect&quot;,!1,!0)}catch(n){}}}):(t.on(&quot;keypress&quot;,function(e){return 41==e.keyCode?n(t):void 0}),void t.on(&quot;keyup&quot;,function(n){return 32==n.keyCode?e(t):void 0}))});tinymce.PluginManager.add(&quot;autoresize&quot;,function(e){function t(){return e.plugins.fullscreen&amp;&amp;e.plugins.fullscreen.isFullscreen()}function i(n){var s,r,g,u,l,m,h,d,f=tinymce.DOM;if(r=e.getDoc()){if(g=r.body,u=r.documentElement,l=o.autoresize_min_height,!g||n&amp;&amp;&quot;setcontent&quot;===n.type&amp;&amp;n.initial||t())return void(g&amp;&amp;u&amp;&amp;(g.style.overflowY=&quot;auto&quot;,u.style.overflowY=&quot;auto&quot;));h=e.dom.getStyle(g,&quot;margin-top&quot;,!0),d=e.dom.getStyle(g,&quot;margin-bottom&quot;,!0),m=g.offsetHeight+parseInt(h,10)+parseInt(d,10),(isNaN(m)||0&gt;=m)&amp;&amp;(m=tinymce.Env.ie?g.scrollHeight:tinymce.Env.webkit&amp;&amp;0===g.clientHeight?0:g.offsetHeight),m&gt;o.autoresize_min_height&amp;&amp;(l=m),o.autoresize_max_height&amp;&amp;m&gt;o.autoresize_max_height?(l=o.autoresize_max_height,g.style.overflowY=&quot;auto&quot;,u.style.overflowY=&quot;auto&quot;):(g.style.overflowY=&quot;hidden&quot;,u.style.overflowY=&quot;hidden&quot;,g.scrollTop=0),l!==a&amp;&amp;(s=l-a,f.setStyle(f.get(e.id+&quot;_ifr&quot;),&quot;height&quot;,l+&quot;px&quot;),a=l,tinymce.isWebKit&amp;&amp;0&gt;s&amp;&amp;i(n))}}function n(e,t,o){setTimeout(function(){i({}),e--?n(e,t,o):o&amp;&amp;o()},t)}var o=e.settings,a=0;e.settings.inline||(o.autoresize_min_height=parseInt(e.getParam(&quot;autoresize_min_height&quot;,e.getElement().offsetHeight),10),o.autoresize_max_height=parseInt(e.getParam(&quot;autoresize_max_height&quot;,0),10),e.on(&quot;init&quot;,function(){var t=e.getParam(&quot;autoresize_overflow_padding&quot;,1);e.dom.setStyles(e.getBody(),{paddingBottom:e.getParam(&quot;autoresize_bottom_margin&quot;,50),paddingLeft:t,paddingRight:t})}),e.on(&quot;nodechange setcontent keyup FullscreenStateChanged&quot;,i),e.getParam(&quot;autoresize_on_init&quot;,!0)&amp;&amp;e.on(&quot;init&quot;,function(){n(20,100,function(){n(5,1e3)})}),e.addCommand(&quot;mceAutoResize&quot;,i))});tinymce.PluginManager.add(&quot;autosave&quot;,function(e){function t(e,t){var n={s:1e3,m:6e4};return e=/^(\d+)([ms]?)$/.exec(&quot;&quot;+(e||t)),(e[2]?n[e[2]]:1)*parseInt(e,10)}function n(){var e=parseInt(l.getItem(d+&quot;time&quot;),10)||0;return(new Date).getTime()-e&gt;v.autosave_retention?(a(!1),!1):!0}function a(t){l.removeItem(d+&quot;draft&quot;),l.removeItem(d+&quot;time&quot;),t!==!1&amp;&amp;e.fire(&quot;RemoveDraft&quot;)}function r(){!c()&amp;&amp;e.isDirty()&amp;&amp;(l.setItem(d+&quot;draft&quot;,e.getContent({format:&quot;raw&quot;,no_events:!0})),l.setItem(d+&quot;time&quot;,(new Date).getTime()),e.fire(&quot;StoreDraft&quot;))}function o(){n()&amp;&amp;(e.setContent(l.getItem(d+&quot;draft&quot;),{format:&quot;raw&quot;}),e.fire(&quot;RestoreDraft&quot;))}function i(){m||(setInterval(function(){e.removed||r()},v.autosave_interval),m=!0)}function s(){var t=this;t.disabled(!n()),e.on(&quot;StoreDraft RestoreDraft RemoveDraft&quot;,function(){t.disabled(!n())}),i()}function u(){e.undoManager.beforeChange(),o(),a(),e.undoManager.add()}function f(){var e;return tinymce.each(tinymce.editors,function(t){t.plugins.autosave&amp;&amp;t.plugins.autosave.storeDraft(),!e&amp;&amp;t.isDirty()&amp;&amp;t.getParam(&quot;autosave_ask_before_unload&quot;,!0)&amp;&amp;(e=t.translate(&quot;You have unsaved changes are you sure you want to navigate away?&quot;))}),e}function c(t){var n=e.settings.forced_root_block;return t=tinymce.trim(&quot;undefined&quot;==typeof t?e.getBody().innerHTML:t),&quot;&quot;===t||new RegExp(&quot;^&lt;&quot;+n+&quot;[^&gt;]*&gt;((|&amp;nbsp;|[ 	]|&lt;br[^&gt;]*&gt;)+?|)&lt;/&quot;+n+&quot;&gt;|&lt;br&gt;$&quot;,&quot;i&quot;).test(t)}var d,m,v=e.settings,l=tinymce.util.LocalStorage;d=v.autosave_prefix||&quot;tinymce-autosave-{path}{query}-{id}-&quot;,d=d.replace(/\{path\}/g,document.location.pathname),d=d.replace(/\{query\}/g,document.location.search),d=d.replace(/\{id\}/g,e.id),v.autosave_interval=t(v.autosave_interval,&quot;30s&quot;),v.autosave_retention=t(v.autosave_retention,&quot;20m&quot;),e.addButton(&quot;restoredraft&quot;,{title:&quot;Restore last draft&quot;,onclick:u,onPostRender:s}),e.addMenuItem(&quot;restoredraft&quot;,{text:&quot;Restore last draft&quot;,onclick:u,onPostRender:s,context:&quot;file&quot;}),e.settings.autosave_restore_when_empty!==!1&amp;&amp;(e.on(&quot;init&quot;,function(){n()&amp;&amp;c()&amp;&amp;o()}),e.on(&quot;saveContent&quot;,function(){a()})),window.onbeforeunload=f,this.hasDraft=n,this.storeDraft=r,this.restoreDraft=o,this.removeDraft=a,this.isEmpty=c});!function(){tinymce.create(&quot;tinymce.plugins.BBCodePlugin&quot;,{init:function(o){var e=this,t=o.getParam(&quot;bbcode_dialect&quot;,&quot;punbb&quot;).toLowerCase();o.on(&quot;beforeSetContent&quot;,function(o){o.content=e[&quot;_&quot;+t+&quot;_bbcode2html&quot;](o.content)}),o.on(&quot;postProcess&quot;,function(o){o.set&amp;&amp;(o.content=e[&quot;_&quot;+t+&quot;_bbcode2html&quot;](o.content)),o.get&amp;&amp;(o.content=e[&quot;_&quot;+t+&quot;_html2bbcode&quot;](o.content))})},getInfo:function(){return{longname:&quot;BBCode Plugin&quot;,author:&quot;Moxiecode Systems AB&quot;,authorurl:&quot;http://www.tinymce.com&quot;,infourl:&quot;http://www.tinymce.com/wiki.php/Plugin:bbcode&quot;}},_punbb_html2bbcode:function(o){function e(e,t){o=o.replace(e,t)}return o=tinymce.trim(o),e(/&lt;a.*?href=\&quot;(.*?)\&quot;.*?&gt;(.*?)&lt;\/a&gt;/gi,&quot;[url=$1]$2[/url]&quot;),e(/&lt;font.*?color=\&quot;(.*?)\&quot;.*?class=\&quot;codeStyle\&quot;.*?&gt;(.*?)&lt;\/font&gt;/gi,&quot;[code][color=$1]$2[/color][/code]&quot;),e(/&lt;font.*?color=\&quot;(.*?)\&quot;.*?class=\&quot;quoteStyle\&quot;.*?&gt;(.*?)&lt;\/font&gt;/gi,&quot;[quote][color=$1]$2[/color][/quote]&quot;),e(/&lt;font.*?class=\&quot;codeStyle\&quot;.*?color=\&quot;(.*?)\&quot;.*?&gt;(.*?)&lt;\/font&gt;/gi,&quot;[code][color=$1]$2[/color][/code]&quot;),e(/&lt;font.*?class=\&quot;quoteStyle\&quot;.*?color=\&quot;(.*?)\&quot;.*?&gt;(.*?)&lt;\/font&gt;/gi,&quot;[quote][color=$1]$2[/color][/quote]&quot;),e(/&lt;span style=\&quot;color: ?(.*?);\&quot;&gt;(.*?)&lt;\/span&gt;/gi,&quot;[color=$1]$2[/color]&quot;),e(/&lt;font.*?color=\&quot;(.*?)\&quot;.*?&gt;(.*?)&lt;\/font&gt;/gi,&quot;[color=$1]$2[/color]&quot;),e(/&lt;span style=\&quot;font-size:(.*?);\&quot;&gt;(.*?)&lt;\/span&gt;/gi,&quot;[size=$1]$2[/size]&quot;),e(/&lt;font&gt;(.*?)&lt;\/font&gt;/gi,&quot;$1&quot;),e(/&lt;img.*?src=\&quot;(.*?)\&quot;.*?\/&gt;/gi,&quot;[img]$1[/img]&quot;),e(/&lt;span class=\&quot;codeStyle\&quot;&gt;(.*?)&lt;\/span&gt;/gi,&quot;[code]$1[/code]&quot;),e(/&lt;span class=\&quot;quoteStyle\&quot;&gt;(.*?)&lt;\/span&gt;/gi,&quot;[quote]$1[/quote]&quot;),e(/&lt;strong class=\&quot;codeStyle\&quot;&gt;(.*?)&lt;\/strong&gt;/gi,&quot;[code][b]$1[/b][/code]&quot;),e(/&lt;strong class=\&quot;quoteStyle\&quot;&gt;(.*?)&lt;\/strong&gt;/gi,&quot;[quote][b]$1[/b][/quote]&quot;),e(/&lt;em class=\&quot;codeStyle\&quot;&gt;(.*?)&lt;\/em&gt;/gi,&quot;[code][i]$1[/i][/code]&quot;),e(/&lt;em class=\&quot;quoteStyle\&quot;&gt;(.*?)&lt;\/em&gt;/gi,&quot;[quote][i]$1[/i][/quote]&quot;),e(/&lt;u class=\&quot;codeStyle\&quot;&gt;(.*?)&lt;\/u&gt;/gi,&quot;[code][u]$1[/u][/code]&quot;),e(/&lt;u class=\&quot;quoteStyle\&quot;&gt;(.*?)&lt;\/u&gt;/gi,&quot;[quote][u]$1[/u][/quote]&quot;),e(/&lt;\/(strong|b)&gt;/gi,&quot;[/b]&quot;),e(/&lt;(strong|b)&gt;/gi,&quot;[b]&quot;),e(/&lt;\/(em|i)&gt;/gi,&quot;[/i]&quot;),e(/&lt;(em|i)&gt;/gi,&quot;[i]&quot;),e(/&lt;\/u&gt;/gi,&quot;[/u]&quot;),e(/&lt;span style=\&quot;text-decoration: ?underline;\&quot;&gt;(.*?)&lt;\/span&gt;/gi,&quot;[u]$1[/u]&quot;),e(/&lt;u&gt;/gi,&quot;[u]&quot;),e(/&lt;blockquote[^&gt;]*&gt;/gi,&quot;[quote]&quot;),e(/&lt;\/blockquote&gt;/gi,&quot;[/quote]&quot;),e(/&lt;br \/&gt;/gi,&quot;\n&quot;),e(/&lt;br\/&gt;/gi,&quot;\n&quot;),e(/&lt;br&gt;/gi,&quot;\n&quot;),e(/&lt;p&gt;/gi,&quot;&quot;),e(/&lt;\/p&gt;/gi,&quot;\n&quot;),e(/&amp;nbsp;|\u00a0/gi,&quot; &quot;),e(/&amp;quot;/gi,&#039;&quot;&#039;),e(/&amp;lt;/gi,&quot;&lt;&quot;),e(/&amp;gt;/gi,&quot;&gt;&quot;),e(/&amp;amp;/gi,&quot;&amp;&quot;),o},_punbb_bbcode2html:function(o){function e(e,t){o=o.replace(e,t)}return o=tinymce.trim(o),e(/\n/gi,&quot;&lt;br /&gt;&quot;),e(/\[b\]/gi,&quot;&lt;strong&gt;&quot;),e(/\[\/b\]/gi,&quot;&lt;/strong&gt;&quot;),e(/\[i\]/gi,&quot;&lt;em&gt;&quot;),e(/\[\/i\]/gi,&quot;&lt;/em&gt;&quot;),e(/\[u\]/gi,&quot;&lt;u&gt;&quot;),e(/\[\/u\]/gi,&quot;&lt;/u&gt;&quot;),e(/\[url=([^\]]+)\](.*?)\[\/url\]/gi,&#039;&lt;a href=&quot;$1&quot;&gt;$2&lt;/a&gt;&#039;),e(/\[url\](.*?)\[\/url\]/gi,&#039;&lt;a href=&quot;$1&quot;&gt;$1&lt;/a&gt;&#039;),e(/\[img\](.*?)\[\/img\]/gi,&#039;&lt;img src=&quot;$1&quot; /&gt;&#039;),e(/\[color=(.*?)\](.*?)\[\/color\]/gi,&#039;&lt;font color=&quot;$1&quot;&gt;$2&lt;/font&gt;&#039;),e(/\[code\](.*?)\[\/code\]/gi,&#039;&lt;span class=&quot;codeStyle&quot;&gt;$1&lt;/span&gt;&amp;nbsp;&#039;),e(/\[quote.*?\](.*?)\[\/quote\]/gi,&#039;&lt;span class=&quot;quoteStyle&quot;&gt;$1&lt;/span&gt;&amp;nbsp;&#039;),o}}),tinymce.PluginManager.add(&quot;bbcode&quot;,tinymce.plugins.BBCodePlugin)}();tinymce.PluginManager.add(&quot;charmap&quot;,function(e){function a(){function a(e){for(;e;){if(&quot;TD&quot;==e.nodeName)return e;e=e.parentNode}}var t,r,o,n;t=&#039;&lt;table role=&quot;presentation&quot; cellspacing=&quot;0&quot; class=&quot;mce-charmap&quot;&gt;&lt;tbody&gt;&#039;;var l=25;for(o=0;10&gt;o;o++){for(t+=&quot;&lt;tr&gt;&quot;,r=0;l&gt;r;r++){var s=i[o*l+r];t+=&#039;&lt;td title=&quot;&#039;+s[1]+&#039;&quot;&gt;&lt;div tabindex=&quot;-1&quot; title=&quot;&#039;+s[1]+&#039;&quot; role=&quot;button&quot;&gt;&#039;+(s?String.fromCharCode(parseInt(s[0],10)):&quot;&amp;nbsp;&quot;)+&quot;&lt;/div&gt;&lt;/td&gt;&quot;}t+=&quot;&lt;/tr&gt;&quot;}t+=&quot;&lt;/tbody&gt;&lt;/table&gt;&quot;;var c={type:&quot;container&quot;,html:t,onclick:function(a){var i=a.target;&quot;TD&quot;==i.tagName&amp;&amp;(i=i.firstChild),&quot;DIV&quot;==i.tagName&amp;&amp;(e.execCommand(&quot;mceInsertContent&quot;,!1,i.firstChild.data),a.ctrlKey||n.close())},onmouseover:function(e){var i=a(e.target);i&amp;&amp;n.find(&quot;#preview&quot;).text(i.firstChild.firstChild.data)}};n=e.windowManager.open({title:&quot;Special character&quot;,spacing:10,padding:10,items:[c,{type:&quot;label&quot;,name:&quot;preview&quot;,text:&quot; &quot;,style:&quot;font-size: 40px; text-align: center&quot;,border:1,minWidth:100,minHeight:80}],buttons:[{text:&quot;Close&quot;,onclick:function(){n.close()}}]})}var i=[[&quot;160&quot;,&quot;no-break space&quot;],[&quot;38&quot;,&quot;ampersand&quot;],[&quot;34&quot;,&quot;quotation mark&quot;],[&quot;162&quot;,&quot;cent sign&quot;],[&quot;8364&quot;,&quot;euro sign&quot;],[&quot;163&quot;,&quot;pound sign&quot;],[&quot;165&quot;,&quot;yen sign&quot;],[&quot;169&quot;,&quot;copyright sign&quot;],[&quot;174&quot;,&quot;registered sign&quot;],[&quot;8482&quot;,&quot;trade mark sign&quot;],[&quot;8240&quot;,&quot;per mille sign&quot;],[&quot;181&quot;,&quot;micro sign&quot;],[&quot;183&quot;,&quot;middle dot&quot;],[&quot;8226&quot;,&quot;bullet&quot;],[&quot;8230&quot;,&quot;three dot leader&quot;],[&quot;8242&quot;,&quot;minutes / feet&quot;],[&quot;8243&quot;,&quot;seconds / inches&quot;],[&quot;167&quot;,&quot;section sign&quot;],[&quot;182&quot;,&quot;paragraph sign&quot;],[&quot;223&quot;,&quot;sharp s / ess-zed&quot;],[&quot;8249&quot;,&quot;single left-pointing angle quotation mark&quot;],[&quot;8250&quot;,&quot;single right-pointing angle quotation mark&quot;],[&quot;171&quot;,&quot;left pointing guillemet&quot;],[&quot;187&quot;,&quot;right pointing guillemet&quot;],[&quot;8216&quot;,&quot;left single quotation mark&quot;],[&quot;8217&quot;,&quot;right single quotation mark&quot;],[&quot;8220&quot;,&quot;left double quotation mark&quot;],[&quot;8221&quot;,&quot;right double quotation mark&quot;],[&quot;8218&quot;,&quot;single low-9 quotation mark&quot;],[&quot;8222&quot;,&quot;double low-9 quotation mark&quot;],[&quot;60&quot;,&quot;less-than sign&quot;],[&quot;62&quot;,&quot;greater-than sign&quot;],[&quot;8804&quot;,&quot;less-than or equal to&quot;],[&quot;8805&quot;,&quot;greater-than or equal to&quot;],[&quot;8211&quot;,&quot;en dash&quot;],[&quot;8212&quot;,&quot;em dash&quot;],[&quot;175&quot;,&quot;macron&quot;],[&quot;8254&quot;,&quot;overline&quot;],[&quot;164&quot;,&quot;currency sign&quot;],[&quot;166&quot;,&quot;broken bar&quot;],[&quot;168&quot;,&quot;diaeresis&quot;],[&quot;161&quot;,&quot;inverted exclamation mark&quot;],[&quot;191&quot;,&quot;turned question mark&quot;],[&quot;710&quot;,&quot;circumflex accent&quot;],[&quot;732&quot;,&quot;small tilde&quot;],[&quot;176&quot;,&quot;degree sign&quot;],[&quot;8722&quot;,&quot;minus sign&quot;],[&quot;177&quot;,&quot;plus-minus sign&quot;],[&quot;247&quot;,&quot;division sign&quot;],[&quot;8260&quot;,&quot;fraction slash&quot;],[&quot;215&quot;,&quot;multiplication sign&quot;],[&quot;185&quot;,&quot;superscript one&quot;],[&quot;178&quot;,&quot;superscript two&quot;],[&quot;179&quot;,&quot;superscript three&quot;],[&quot;188&quot;,&quot;fraction one quarter&quot;],[&quot;189&quot;,&quot;fraction one half&quot;],[&quot;190&quot;,&quot;fraction three quarters&quot;],[&quot;402&quot;,&quot;function / florin&quot;],[&quot;8747&quot;,&quot;integral&quot;],[&quot;8721&quot;,&quot;n-ary sumation&quot;],[&quot;8734&quot;,&quot;infinity&quot;],[&quot;8730&quot;,&quot;square root&quot;],[&quot;8764&quot;,&quot;similar to&quot;],[&quot;8773&quot;,&quot;approximately equal to&quot;],[&quot;8776&quot;,&quot;almost equal to&quot;],[&quot;8800&quot;,&quot;not equal to&quot;],[&quot;8801&quot;,&quot;identical to&quot;],[&quot;8712&quot;,&quot;element of&quot;],[&quot;8713&quot;,&quot;not an element of&quot;],[&quot;8715&quot;,&quot;contains as member&quot;],[&quot;8719&quot;,&quot;n-ary product&quot;],[&quot;8743&quot;,&quot;logical and&quot;],[&quot;8744&quot;,&quot;logical or&quot;],[&quot;172&quot;,&quot;not sign&quot;],[&quot;8745&quot;,&quot;intersection&quot;],[&quot;8746&quot;,&quot;union&quot;],[&quot;8706&quot;,&quot;partial differential&quot;],[&quot;8704&quot;,&quot;for all&quot;],[&quot;8707&quot;,&quot;there exists&quot;],[&quot;8709&quot;,&quot;diameter&quot;],[&quot;8711&quot;,&quot;backward difference&quot;],[&quot;8727&quot;,&quot;asterisk operator&quot;],[&quot;8733&quot;,&quot;proportional to&quot;],[&quot;8736&quot;,&quot;angle&quot;],[&quot;180&quot;,&quot;acute accent&quot;],[&quot;184&quot;,&quot;cedilla&quot;],[&quot;170&quot;,&quot;feminine ordinal indicator&quot;],[&quot;186&quot;,&quot;masculine ordinal indicator&quot;],[&quot;8224&quot;,&quot;dagger&quot;],[&quot;8225&quot;,&quot;double dagger&quot;],[&quot;192&quot;,&quot;A - grave&quot;],[&quot;193&quot;,&quot;A - acute&quot;],[&quot;194&quot;,&quot;A - circumflex&quot;],[&quot;195&quot;,&quot;A - tilde&quot;],[&quot;196&quot;,&quot;A - diaeresis&quot;],[&quot;197&quot;,&quot;A - ring above&quot;],[&quot;198&quot;,&quot;ligature AE&quot;],[&quot;199&quot;,&quot;C - cedilla&quot;],[&quot;200&quot;,&quot;E - grave&quot;],[&quot;201&quot;,&quot;E - acute&quot;],[&quot;202&quot;,&quot;E - circumflex&quot;],[&quot;203&quot;,&quot;E - diaeresis&quot;],[&quot;204&quot;,&quot;I - grave&quot;],[&quot;205&quot;,&quot;I - acute&quot;],[&quot;206&quot;,&quot;I - circumflex&quot;],[&quot;207&quot;,&quot;I - diaeresis&quot;],[&quot;208&quot;,&quot;ETH&quot;],[&quot;209&quot;,&quot;N - tilde&quot;],[&quot;210&quot;,&quot;O - grave&quot;],[&quot;211&quot;,&quot;O - acute&quot;],[&quot;212&quot;,&quot;O - circumflex&quot;],[&quot;213&quot;,&quot;O - tilde&quot;],[&quot;214&quot;,&quot;O - diaeresis&quot;],[&quot;216&quot;,&quot;O - slash&quot;],[&quot;338&quot;,&quot;ligature OE&quot;],[&quot;352&quot;,&quot;S - caron&quot;],[&quot;217&quot;,&quot;U - grave&quot;],[&quot;218&quot;,&quot;U - acute&quot;],[&quot;219&quot;,&quot;U - circumflex&quot;],[&quot;220&quot;,&quot;U - diaeresis&quot;],[&quot;221&quot;,&quot;Y - acute&quot;],[&quot;376&quot;,&quot;Y - diaeresis&quot;],[&quot;222&quot;,&quot;THORN&quot;],[&quot;224&quot;,&quot;a - grave&quot;],[&quot;225&quot;,&quot;a - acute&quot;],[&quot;226&quot;,&quot;a - circumflex&quot;],[&quot;227&quot;,&quot;a - tilde&quot;],[&quot;228&quot;,&quot;a - diaeresis&quot;],[&quot;229&quot;,&quot;a - ring above&quot;],[&quot;230&quot;,&quot;ligature ae&quot;],[&quot;231&quot;,&quot;c - cedilla&quot;],[&quot;232&quot;,&quot;e - grave&quot;],[&quot;233&quot;,&quot;e - acute&quot;],[&quot;234&quot;,&quot;e - circumflex&quot;],[&quot;235&quot;,&quot;e - diaeresis&quot;],[&quot;236&quot;,&quot;i - grave&quot;],[&quot;237&quot;,&quot;i - acute&quot;],[&quot;238&quot;,&quot;i - circumflex&quot;],[&quot;239&quot;,&quot;i - diaeresis&quot;],[&quot;240&quot;,&quot;eth&quot;],[&quot;241&quot;,&quot;n - tilde&quot;],[&quot;242&quot;,&quot;o - grave&quot;],[&quot;243&quot;,&quot;o - acute&quot;],[&quot;244&quot;,&quot;o - circumflex&quot;],[&quot;245&quot;,&quot;o - tilde&quot;],[&quot;246&quot;,&quot;o - diaeresis&quot;],[&quot;248&quot;,&quot;o slash&quot;],[&quot;339&quot;,&quot;ligature oe&quot;],[&quot;353&quot;,&quot;s - caron&quot;],[&quot;249&quot;,&quot;u - grave&quot;],[&quot;250&quot;,&quot;u - acute&quot;],[&quot;251&quot;,&quot;u - circumflex&quot;],[&quot;252&quot;,&quot;u - diaeresis&quot;],[&quot;253&quot;,&quot;y - acute&quot;],[&quot;254&quot;,&quot;thorn&quot;],[&quot;255&quot;,&quot;y - diaeresis&quot;],[&quot;913&quot;,&quot;Alpha&quot;],[&quot;914&quot;,&quot;Beta&quot;],[&quot;915&quot;,&quot;Gamma&quot;],[&quot;916&quot;,&quot;Delta&quot;],[&quot;917&quot;,&quot;Epsilon&quot;],[&quot;918&quot;,&quot;Zeta&quot;],[&quot;919&quot;,&quot;Eta&quot;],[&quot;920&quot;,&quot;Theta&quot;],[&quot;921&quot;,&quot;Iota&quot;],[&quot;922&quot;,&quot;Kappa&quot;],[&quot;923&quot;,&quot;Lambda&quot;],[&quot;924&quot;,&quot;Mu&quot;],[&quot;925&quot;,&quot;Nu&quot;],[&quot;926&quot;,&quot;Xi&quot;],[&quot;927&quot;,&quot;Omicron&quot;],[&quot;928&quot;,&quot;Pi&quot;],[&quot;929&quot;,&quot;Rho&quot;],[&quot;931&quot;,&quot;Sigma&quot;],[&quot;932&quot;,&quot;Tau&quot;],[&quot;933&quot;,&quot;Upsilon&quot;],[&quot;934&quot;,&quot;Phi&quot;],[&quot;935&quot;,&quot;Chi&quot;],[&quot;936&quot;,&quot;Psi&quot;],[&quot;937&quot;,&quot;Omega&quot;],[&quot;945&quot;,&quot;alpha&quot;],[&quot;946&quot;,&quot;beta&quot;],[&quot;947&quot;,&quot;gamma&quot;],[&quot;948&quot;,&quot;delta&quot;],[&quot;949&quot;,&quot;epsilon&quot;],[&quot;950&quot;,&quot;zeta&quot;],[&quot;951&quot;,&quot;eta&quot;],[&quot;952&quot;,&quot;theta&quot;],[&quot;953&quot;,&quot;iota&quot;],[&quot;954&quot;,&quot;kappa&quot;],[&quot;955&quot;,&quot;lambda&quot;],[&quot;956&quot;,&quot;mu&quot;],[&quot;957&quot;,&quot;nu&quot;],[&quot;958&quot;,&quot;xi&quot;],[&quot;959&quot;,&quot;omicron&quot;],[&quot;960&quot;,&quot;pi&quot;],[&quot;961&quot;,&quot;rho&quot;],[&quot;962&quot;,&quot;final sigma&quot;],[&quot;963&quot;,&quot;sigma&quot;],[&quot;964&quot;,&quot;tau&quot;],[&quot;965&quot;,&quot;upsilon&quot;],[&quot;966&quot;,&quot;phi&quot;],[&quot;967&quot;,&quot;chi&quot;],[&quot;968&quot;,&quot;psi&quot;],[&quot;969&quot;,&quot;omega&quot;],[&quot;8501&quot;,&quot;alef symbol&quot;],[&quot;982&quot;,&quot;pi symbol&quot;],[&quot;8476&quot;,&quot;real part symbol&quot;],[&quot;978&quot;,&quot;upsilon - hook symbol&quot;],[&quot;8472&quot;,&quot;Weierstrass p&quot;],[&quot;8465&quot;,&quot;imaginary part&quot;],[&quot;8592&quot;,&quot;leftwards arrow&quot;],[&quot;8593&quot;,&quot;upwards arrow&quot;],[&quot;8594&quot;,&quot;rightwards arrow&quot;],[&quot;8595&quot;,&quot;downwards arrow&quot;],[&quot;8596&quot;,&quot;left right arrow&quot;],[&quot;8629&quot;,&quot;carriage return&quot;],[&quot;8656&quot;,&quot;leftwards double arrow&quot;],[&quot;8657&quot;,&quot;upwards double arrow&quot;],[&quot;8658&quot;,&quot;rightwards double arrow&quot;],[&quot;8659&quot;,&quot;downwards double arrow&quot;],[&quot;8660&quot;,&quot;left right double arrow&quot;],[&quot;8756&quot;,&quot;therefore&quot;],[&quot;8834&quot;,&quot;subset of&quot;],[&quot;8835&quot;,&quot;superset of&quot;],[&quot;8836&quot;,&quot;not a subset of&quot;],[&quot;8838&quot;,&quot;subset of or equal to&quot;],[&quot;8839&quot;,&quot;superset of or equal to&quot;],[&quot;8853&quot;,&quot;circled plus&quot;],[&quot;8855&quot;,&quot;circled times&quot;],[&quot;8869&quot;,&quot;perpendicular&quot;],[&quot;8901&quot;,&quot;dot operator&quot;],[&quot;8968&quot;,&quot;left ceiling&quot;],[&quot;8969&quot;,&quot;right ceiling&quot;],[&quot;8970&quot;,&quot;left floor&quot;],[&quot;8971&quot;,&quot;right floor&quot;],[&quot;9001&quot;,&quot;left-pointing angle bracket&quot;],[&quot;9002&quot;,&quot;right-pointing angle bracket&quot;],[&quot;9674&quot;,&quot;lozenge&quot;],[&quot;9824&quot;,&quot;black spade suit&quot;],[&quot;9827&quot;,&quot;black club suit&quot;],[&quot;9829&quot;,&quot;black heart suit&quot;],[&quot;9830&quot;,&quot;black diamond suit&quot;],[&quot;8194&quot;,&quot;en space&quot;],[&quot;8195&quot;,&quot;em space&quot;],[&quot;8201&quot;,&quot;thin space&quot;],[&quot;8204&quot;,&quot;zero width non-joiner&quot;],[&quot;8205&quot;,&quot;zero width joiner&quot;],[&quot;8206&quot;,&quot;left-to-right mark&quot;],[&quot;8207&quot;,&quot;right-to-left mark&quot;],[&quot;173&quot;,&quot;soft hyphen&quot;]];e.addButton(&quot;charmap&quot;,{icon:&quot;charmap&quot;,tooltip:&quot;Special character&quot;,onclick:a}),e.addMenuItem(&quot;charmap&quot;,{icon:&quot;charmap&quot;,text:&quot;Special character&quot;,onclick:a,context:&quot;insert&quot;})});tinymce.PluginManager.add(&quot;code&quot;,function(e){function o(){e.windowManager.open({title:&quot;Source code&quot;,body:{type:&quot;textbox&quot;,name:&quot;code&quot;,multiline:!0,minWidth:e.getParam(&quot;code_dialog_width&quot;,600),minHeight:e.getParam(&quot;code_dialog_height&quot;,Math.min(tinymce.DOM.getViewPort().h-200,500)),value:e.getContent({source_view:!0}),spellcheck:!1,style:&quot;direction: ltr; text-align: left&quot;},onSubmit:function(o){e.focus(),e.undoManager.transact(function(){e.setContent(o.data.code)}),e.selection.setCursorLocation(),e.nodeChanged()}})}e.addCommand(&quot;mceCodeEditor&quot;,o),e.addButton(&quot;code&quot;,{icon:&quot;code&quot;,tooltip:&quot;Source code&quot;,onclick:o}),e.addMenuItem(&quot;code&quot;,{icon:&quot;code&quot;,text:&quot;Source code&quot;,context:&quot;tools&quot;,onclick:o})});tinymce.PluginManager.add(&quot;contextmenu&quot;,function(e){var n,t=e.settings.contextmenu_never_use_native;e.on(&quot;contextmenu&quot;,function(i){var o;if(!i.ctrlKey||t){if(i.preventDefault(),o=e.settings.contextmenu||&quot;link image inserttable | cell row column deletetable&quot;,n)n.show();else{var c=[];tinymce.each(o.split(/[ ,]/),function(n){var t=e.menuItems[n];&quot;|&quot;==n&amp;&amp;(t={text:n}),t&amp;&amp;(t.shortcut=&quot;&quot;,c.push(t))});for(var a=0;a&lt;c.length;a++)&quot;|&quot;==c[a].text&amp;&amp;(0===a||a==c.length-1)&amp;&amp;c.splice(a,1);n=new tinymce.ui.Menu({items:c,context:&quot;contextmenu&quot;}).addClass(&quot;contextmenu&quot;).renderTo(),e.on(&quot;remove&quot;,function(){n.remove(),n=null})}var l={x:i.pageX,y:i.pageY};e.inline||(l=tinymce.DOM.getPos(e.getContentAreaContainer()),l.x+=i.clientX,l.y+=i.clientY),n.moveTo(l.x,l.y)}})});tinymce.PluginManager.add(&quot;directionality&quot;,function(t){function e(e){var i,n=t.dom,r=t.selection.getSelectedBlocks();r.length&amp;&amp;(i=n.getAttrib(r[0],&quot;dir&quot;),tinymce.each(r,function(t){n.getParent(t.parentNode,&quot;*[dir=&#039;&quot;+e+&quot;&#039;]&quot;,n.getRoot())||(i!=e?n.setAttrib(t,&quot;dir&quot;,e):n.setAttrib(t,&quot;dir&quot;,null))}),t.nodeChanged())}function i(t){var e=[];return tinymce.each(&quot;h1 h2 h3 h4 h5 h6 div p&quot;.split(&quot; &quot;),function(i){e.push(i+&quot;[dir=&quot;+t+&quot;]&quot;)}),e.join(&quot;,&quot;)}t.addCommand(&quot;mceDirectionLTR&quot;,function(){e(&quot;ltr&quot;)}),t.addCommand(&quot;mceDirectionRTL&quot;,function(){e(&quot;rtl&quot;)}),t.addButton(&quot;ltr&quot;,{title:&quot;Left to right&quot;,cmd:&quot;mceDirectionLTR&quot;,stateSelector:i(&quot;ltr&quot;)}),t.addButton(&quot;rtl&quot;,{title:&quot;Right to left&quot;,cmd:&quot;mceDirectionRTL&quot;,stateSelector:i(&quot;rtl&quot;)})});tinymce.PluginManager.add(&quot;emoticons&quot;,function(t,e){function a(){var t;return t=&#039;&lt;table role=&quot;list&quot; class=&quot;mce-grid&quot;&gt;&#039;,tinymce.each(i,function(a){t+=&quot;&lt;tr&gt;&quot;,tinymce.each(a,function(a){var i=e+&quot;/img/smiley-&quot;+a+&quot;.gif&quot;;t+=&#039;&lt;td&gt;&lt;a href=&quot;#&quot; data-mce-url=&quot;&#039;+i+&#039;&quot; data-mce-alt=&quot;&#039;+a+&#039;&quot; tabindex=&quot;-1&quot; role=&quot;option&quot; aria-label=&quot;&#039;+a+&#039;&quot;&gt;&lt;img src=&quot;&#039;+i+&#039;&quot; style=&quot;width: 18px; height: 18px&quot; role=&quot;presentation&quot; /&gt;&lt;/a&gt;&lt;/td&gt;&#039;}),t+=&quot;&lt;/tr&gt;&quot;}),t+=&quot;&lt;/table&gt;&quot;}var i=[[&quot;cool&quot;,&quot;cry&quot;,&quot;embarassed&quot;,&quot;foot-in-mouth&quot;],[&quot;frown&quot;,&quot;innocent&quot;,&quot;kiss&quot;,&quot;laughing&quot;],[&quot;money-mouth&quot;,&quot;sealed&quot;,&quot;smile&quot;,&quot;surprised&quot;],[&quot;tongue-out&quot;,&quot;undecided&quot;,&quot;wink&quot;,&quot;yell&quot;]];t.addButton(&quot;emoticons&quot;,{type:&quot;panelbutton&quot;,panel:{role:&quot;application&quot;,autohide:!0,html:a,onclick:function(e){var a=t.dom.getParent(e.target,&quot;a&quot;);a&amp;&amp;(t.insertContent(&#039;&lt;img src=&quot;&#039;+a.getAttribute(&quot;data-mce-url&quot;)+&#039;&quot; alt=&quot;&#039;+a.getAttribute(&quot;data-mce-alt&quot;)+&#039;&quot; /&gt;&#039;),this.hide())}},tooltip:&quot;Emoticons&quot;})});tinymce.PluginManager.add(&quot;fullpage&quot;,function(e){function t(){var t=n();e.windowManager.open({title:&quot;Document properties&quot;,data:t,defaults:{type:&quot;textbox&quot;,size:40},body:[{name:&quot;title&quot;,label:&quot;Title&quot;},{name:&quot;keywords&quot;,label:&quot;Keywords&quot;},{name:&quot;description&quot;,label:&quot;Description&quot;},{name:&quot;robots&quot;,label:&quot;Robots&quot;},{name:&quot;author&quot;,label:&quot;Author&quot;},{name:&quot;docencoding&quot;,label:&quot;Encoding&quot;}],onSubmit:function(e){l(tinymce.extend(t,e.data))}})}function n(){function t(e,t){var n=e.attr(t);return n||&quot;&quot;}var n,l,a=i(),r={};return r.fontface=e.getParam(&quot;fullpage_default_fontface&quot;,&quot;&quot;),r.fontsize=e.getParam(&quot;fullpage_default_fontsize&quot;,&quot;&quot;),n=a.firstChild,7==n.type&amp;&amp;(r.xml_pi=!0,l=/encoding=&quot;([^&quot;]+)&quot;/.exec(n.value),l&amp;&amp;(r.docencoding=l[1])),n=a.getAll(&quot;#doctype&quot;)[0],n&amp;&amp;(r.doctype=&quot;&lt;!DOCTYPE&quot;+n.value+&quot;&gt;&quot;),n=a.getAll(&quot;title&quot;)[0],n&amp;&amp;n.firstChild&amp;&amp;(r.title=n.firstChild.value),s(a.getAll(&quot;meta&quot;),function(e){var t,n=e.attr(&quot;name&quot;),l=e.attr(&quot;http-equiv&quot;);n?r[n.toLowerCase()]=e.attr(&quot;content&quot;):&quot;Content-Type&quot;==l&amp;&amp;(t=/charset\s*=\s*(.*)\s*/gi.exec(e.attr(&quot;content&quot;)),t&amp;&amp;(r.docencoding=t[1]))}),n=a.getAll(&quot;html&quot;)[0],n&amp;&amp;(r.langcode=t(n,&quot;lang&quot;)||t(n,&quot;xml:lang&quot;)),r.stylesheets=[],tinymce.each(a.getAll(&quot;link&quot;),function(e){&quot;stylesheet&quot;==e.attr(&quot;rel&quot;)&amp;&amp;r.stylesheets.push(e.attr(&quot;href&quot;))}),n=a.getAll(&quot;body&quot;)[0],n&amp;&amp;(r.langdir=t(n,&quot;dir&quot;),r.style=t(n,&quot;style&quot;),r.visited_color=t(n,&quot;vlink&quot;),r.link_color=t(n,&quot;link&quot;),r.active_color=t(n,&quot;alink&quot;)),r}function l(t){function n(e,t,n){e.attr(t,n?n:void 0)}function l(e){r.firstChild?r.insert(e,r.firstChild):r.append(e)}var a,r,o,c,u,f=e.dom;a=i(),r=a.getAll(&quot;head&quot;)[0],r||(c=a.getAll(&quot;html&quot;)[0],r=new m(&quot;head&quot;,1),c.firstChild?c.insert(r,c.firstChild,!0):c.append(r)),c=a.firstChild,t.xml_pi?(u=&#039;version=&quot;1.0&quot;&#039;,t.docencoding&amp;&amp;(u+=&#039; encoding=&quot;&#039;+t.docencoding+&#039;&quot;&#039;),7!=c.type&amp;&amp;(c=new m(&quot;xml&quot;,7),a.insert(c,a.firstChild,!0)),c.value=u):c&amp;&amp;7==c.type&amp;&amp;c.remove(),c=a.getAll(&quot;#doctype&quot;)[0],t.doctype?(c||(c=new m(&quot;#doctype&quot;,10),t.xml_pi?a.insert(c,a.firstChild):l(c)),c.value=t.doctype.substring(9,t.doctype.length-1)):c&amp;&amp;c.remove(),c=null,s(a.getAll(&quot;meta&quot;),function(e){&quot;Content-Type&quot;==e.attr(&quot;http-equiv&quot;)&amp;&amp;(c=e)}),t.docencoding?(c||(c=new m(&quot;meta&quot;,1),c.attr(&quot;http-equiv&quot;,&quot;Content-Type&quot;),c.shortEnded=!0,l(c)),c.attr(&quot;content&quot;,&quot;text/html; charset=&quot;+t.docencoding)):c.remove(),c=a.getAll(&quot;title&quot;)[0],t.title?(c?c.empty():(c=new m(&quot;title&quot;,1),l(c)),c.append(new m(&quot;#text&quot;,3)).value=t.title):c&amp;&amp;c.remove(),s(&quot;keywords,description,author,copyright,robots&quot;.split(&quot;,&quot;),function(e){var n,i,r=a.getAll(&quot;meta&quot;),o=t[e];for(n=0;n&lt;r.length;n++)if(i=r[n],i.attr(&quot;name&quot;)==e)return void(o?i.attr(&quot;content&quot;,o):i.remove());o&amp;&amp;(c=new m(&quot;meta&quot;,1),c.attr(&quot;name&quot;,e),c.attr(&quot;content&quot;,o),c.shortEnded=!0,l(c))});var g={};tinymce.each(a.getAll(&quot;link&quot;),function(e){&quot;stylesheet&quot;==e.attr(&quot;rel&quot;)&amp;&amp;(g[e.attr(&quot;href&quot;)]=e)}),tinymce.each(t.stylesheets,function(e){g[e]||(c=new m(&quot;link&quot;,1),c.attr({rel:&quot;stylesheet&quot;,text:&quot;text/css&quot;,href:e}),c.shortEnded=!0,l(c)),delete g[e]}),tinymce.each(g,function(e){e.remove()}),c=a.getAll(&quot;body&quot;)[0],c&amp;&amp;(n(c,&quot;dir&quot;,t.langdir),n(c,&quot;style&quot;,t.style),n(c,&quot;vlink&quot;,t.visited_color),n(c,&quot;link&quot;,t.link_color),n(c,&quot;alink&quot;,t.active_color),f.setAttribs(e.getBody(),{style:t.style,dir:t.dir,vLink:t.visited_color,link:t.link_color,aLink:t.active_color})),c=a.getAll(&quot;html&quot;)[0],c&amp;&amp;(n(c,&quot;lang&quot;,t.langcode),n(c,&quot;xml:lang&quot;,t.langcode)),r.firstChild||r.remove(),o=new tinymce.html.Serializer({validate:!1,indent:!0,apply_source_formatting:!0,indent_before:&quot;head,html,body,meta,title,script,link,style&quot;,indent_after:&quot;head,html,body,meta,title,script,link,style&quot;}).serialize(a),d=o.substring(0,o.indexOf(&quot;&lt;/body&gt;&quot;))}function i(){return new tinymce.html.DomParser({validate:!1,root_name:&quot;#document&quot;}).parse(d)}function a(t){function n(e){return e.replace(/&lt;\/?[A-Z]+/g,function(e){return e.toLowerCase()})}var l,a,o,m,u=t.content,f=&quot;&quot;,g=e.dom;if(!t.selection&amp;&amp;!(&quot;raw&quot;==t.format&amp;&amp;d||t.source_view&amp;&amp;e.getParam(&quot;fullpage_hide_in_source_view&quot;))){u=u.replace(/&lt;(\/?)BODY/gi,&quot;&lt;$1body&quot;),l=u.indexOf(&quot;&lt;body&quot;),-1!=l?(l=u.indexOf(&quot;&gt;&quot;,l),d=n(u.substring(0,l+1)),a=u.indexOf(&quot;&lt;/body&quot;,l),-1==a&amp;&amp;(a=u.length),t.content=u.substring(l+1,a),c=n(u.substring(a))):(d=r(),c=&quot;\n&lt;/body&gt;\n&lt;/html&gt;&quot;),o=i(),s(o.getAll(&quot;style&quot;),function(e){e.firstChild&amp;&amp;(f+=e.firstChild.value)}),m=o.getAll(&quot;body&quot;)[0],m&amp;&amp;g.setAttribs(e.getBody(),{style:m.attr(&quot;style&quot;)||&quot;&quot;,dir:m.attr(&quot;dir&quot;)||&quot;&quot;,vLink:m.attr(&quot;vlink&quot;)||&quot;&quot;,link:m.attr(&quot;link&quot;)||&quot;&quot;,aLink:m.attr(&quot;alink&quot;)||&quot;&quot;}),g.remove(&quot;fullpage_styles&quot;);var y=e.getDoc().getElementsByTagName(&quot;head&quot;)[0];f&amp;&amp;(g.add(y,&quot;style&quot;,{id:&quot;fullpage_styles&quot;},f),m=g.get(&quot;fullpage_styles&quot;),m.styleSheet&amp;&amp;(m.styleSheet.cssText=f));var h={};tinymce.each(y.getElementsByTagName(&quot;link&quot;),function(e){&quot;stylesheet&quot;==e.rel&amp;&amp;e.getAttribute(&quot;data-mce-fullpage&quot;)&amp;&amp;(h[e.href]=e)}),tinymce.each(o.getAll(&quot;link&quot;),function(e){var t=e.attr(&quot;href&quot;);h[t]||&quot;stylesheet&quot;!=e.attr(&quot;rel&quot;)||g.add(y,&quot;link&quot;,{rel:&quot;stylesheet&quot;,text:&quot;text/css&quot;,href:t,&quot;data-mce-fullpage&quot;:&quot;1&quot;}),delete h[t]}),tinymce.each(h,function(e){e.parentNode.removeChild(e)})}}function r(){var t,n=&quot;&quot;,l=&quot;&quot;;return e.getParam(&quot;fullpage_default_xml_pi&quot;)&amp;&amp;(n+=&#039;&lt;?xml version=&quot;1.0&quot; encoding=&quot;&#039;+e.getParam(&quot;fullpage_default_encoding&quot;,&quot;ISO-8859-1&quot;)+&#039;&quot; ?&gt;\n&#039;),n+=e.getParam(&quot;fullpage_default_doctype&quot;,&quot;&lt;!DOCTYPE html&gt;&quot;),n+=&quot;\n&lt;html&gt;\n&lt;head&gt;\n&quot;,(t=e.getParam(&quot;fullpage_default_title&quot;))&amp;&amp;(n+=&quot;&lt;title&gt;&quot;+t+&quot;&lt;/title&gt;\n&quot;),(t=e.getParam(&quot;fullpage_default_encoding&quot;))&amp;&amp;(n+=&#039;&lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=&#039;+t+&#039;&quot; /&gt;\n&#039;),(t=e.getParam(&quot;fullpage_default_font_family&quot;))&amp;&amp;(l+=&quot;font-family: &quot;+t+&quot;;&quot;),(t=e.getParam(&quot;fullpage_default_font_size&quot;))&amp;&amp;(l+=&quot;font-size: &quot;+t+&quot;;&quot;),(t=e.getParam(&quot;fullpage_default_text_color&quot;))&amp;&amp;(l+=&quot;color: &quot;+t+&quot;;&quot;),n+=&quot;&lt;/head&gt;\n&lt;body&quot;+(l?&#039; style=&quot;&#039;+l+&#039;&quot;&#039;:&quot;&quot;)+&quot;&gt;\n&quot;}function o(t){t.selection||t.source_view&amp;&amp;e.getParam(&quot;fullpage_hide_in_source_view&quot;)||(t.content=tinymce.trim(d)+&quot;\n&quot;+tinymce.trim(t.content)+&quot;\n&quot;+tinymce.trim(c))}var d,c,s=tinymce.each,m=tinymce.html.Node;e.addCommand(&quot;mceFullPageProperties&quot;,t),e.addButton(&quot;fullpage&quot;,{title:&quot;Document properties&quot;,cmd:&quot;mceFullPageProperties&quot;}),e.addMenuItem(&quot;fullpage&quot;,{text:&quot;Document properties&quot;,cmd:&quot;mceFullPageProperties&quot;,context:&quot;file&quot;}),e.on(&quot;BeforeSetContent&quot;,a),e.on(&quot;GetContent&quot;,o)});tinymce.PluginManager.add(&quot;fullscreen&quot;,function(e){function t(){var e,t,n=window,i=document,l=i.body;return l.offsetWidth&amp;&amp;(e=l.offsetWidth,t=l.offsetHeight),n.innerWidth&amp;&amp;n.innerHeight&amp;&amp;(e=n.innerWidth,t=n.innerHeight),{w:e,h:t}}function n(){function n(){d.setStyle(a,&quot;height&quot;,t().h-(h.clientHeight-a.clientHeight))}var u,h,a,f,m=document.body,g=document.documentElement;s=!s,h=e.getContainer(),u=h.style,a=e.getContentAreaContainer().firstChild,f=a.style,s?(i=f.width,l=f.height,f.width=f.height=&quot;100%&quot;,c=u.width,o=u.height,u.width=u.height=&quot;&quot;,d.addClass(m,&quot;mce-fullscreen&quot;),d.addClass(g,&quot;mce-fullscreen&quot;),d.addClass(h,&quot;mce-fullscreen&quot;),d.bind(window,&quot;resize&quot;,n),n(),r=n):(f.width=i,f.height=l,c&amp;&amp;(u.width=c),o&amp;&amp;(u.height=o),d.removeClass(m,&quot;mce-fullscreen&quot;),d.removeClass(g,&quot;mce-fullscreen&quot;),d.removeClass(h,&quot;mce-fullscreen&quot;),d.unbind(window,&quot;resize&quot;,r)),e.fire(&quot;FullscreenStateChanged&quot;,{state:s})}var i,l,r,c,o,s=!1,d=tinymce.DOM;return e.settings.inline?void 0:(e.on(&quot;init&quot;,function(){e.addShortcut(&quot;Ctrl+Alt+F&quot;,&quot;&quot;,n)}),e.on(&quot;remove&quot;,function(){r&amp;&amp;d.unbind(window,&quot;resize&quot;,r)}),e.addCommand(&quot;mceFullScreen&quot;,n),e.addMenuItem(&quot;fullscreen&quot;,{text:&quot;Fullscreen&quot;,shortcut:&quot;Ctrl+Alt+F&quot;,selectable:!0,onClick:n,onPostRender:function(){var t=this;e.on(&quot;FullscreenStateChanged&quot;,function(e){t.active(e.state)})},context:&quot;view&quot;}),e.addButton(&quot;fullscreen&quot;,{tooltip:&quot;Fullscreen&quot;,shortcut:&quot;Ctrl+Alt+F&quot;,onClick:n,onPostRender:function(){var t=this;e.on(&quot;FullscreenStateChanged&quot;,function(e){t.active(e.state)})}}),{isFullscreen:function(){return s}})});tinymce.PluginManager.add(&quot;hr&quot;,function(n){n.addCommand(&quot;InsertHorizontalRule&quot;,function(){n.execCommand(&quot;mceInsertContent&quot;,!1,&quot;&lt;hr /&gt;&quot;)}),n.addButton(&quot;hr&quot;,{icon:&quot;hr&quot;,tooltip:&quot;Horizontal line&quot;,cmd:&quot;InsertHorizontalRule&quot;}),n.addMenuItem(&quot;hr&quot;,{icon:&quot;hr&quot;,text:&quot;Horizontal line&quot;,cmd:&quot;InsertHorizontalRule&quot;,context:&quot;insert&quot;})});tinymce.PluginManager.add(&quot;image&quot;,function(e){function t(e,t){function i(e,i){n.parentNode&amp;&amp;n.parentNode.removeChild(n),t({width:e,height:i})}var n=document.createElement(&quot;img&quot;);n.onload=function(){i(n.clientWidth,n.clientHeight)},n.onerror=function(){i()};var a=n.style;a.visibility=&quot;hidden&quot;,a.position=&quot;fixed&quot;,a.bottom=a.left=0,a.width=a.height=&quot;auto&quot;,document.body.appendChild(n),n.src=e}function i(t){return tinymce.each(t,function(t){t.textStyle=function(){return e.formatter.getCssText({inline:&quot;img&quot;,classes:[t.value]})}}),t}function n(t){return function(){var i=e.settings.image_list;&quot;string&quot;==typeof i?tinymce.util.XHR.send({url:i,success:function(e){t(tinymce.util.JSON.parse(e))}}):&quot;function&quot;==typeof i?i(t):t(i)}}function a(n){function a(t,i,n){var a,l=[];return tinymce.each(e.settings[t]||n,function(e){var t={text:e.text||e.title,value:e.value};l.push(t),(f[i]===e.value||!a&amp;&amp;e.selected)&amp;&amp;(a=t)}),a&amp;&amp;!f[i]&amp;&amp;(f[i]=a.value,a.selected=!0),l}function l(){var t=[{text:&quot;None&quot;,value:&quot;&quot;}];return tinymce.each(n,function(i){t.push({text:i.text||i.title,value:e.convertURL(i.value||i.url,&quot;src&quot;),menu:i.menu})}),t}function o(){var e,t,i,n;e=u.find(&quot;#width&quot;)[0],t=u.find(&quot;#height&quot;)[0],i=e.value(),n=t.value(),u.find(&quot;#constrain&quot;)[0].checked()&amp;&amp;g&amp;&amp;h&amp;&amp;i&amp;&amp;n&amp;&amp;(g!=i?(n=Math.round(i/g*n),t.value(n)):(i=Math.round(n/h*i),e.value(i))),g=i,h=n}function s(){function t(t){function i(){t.onload=t.onerror=null,e.selection.select(t),e.nodeChanged()}t.onload=function(){f.width||f.height||y.setAttribs(t,{width:t.clientWidth,height:t.clientHeight}),i()},t.onerror=i}d(),o(),f=tinymce.extend(f,u.toJSON()),f.alt||(f.alt=&quot;&quot;),&quot;&quot;===f.width&amp;&amp;(f.width=null),&quot;&quot;===f.height&amp;&amp;(f.height=null),f.style||(f.style=null),f={src:f.src,alt:f.alt,width:f.width,height:f.height,style:f.style,&quot;class&quot;:f[&quot;class&quot;]},f[&quot;class&quot;]||delete f[&quot;class&quot;],e.undoManager.transact(function(){return f.src?(v?y.setAttribs(v,f):(f.id=&quot;__mcenew&quot;,e.focus(),e.selection.setContent(y.createHTML(&quot;img&quot;,f)),v=y.get(&quot;__mcenew&quot;),y.setAttrib(v,&quot;id&quot;,null)),void t(v)):void(v&amp;&amp;(y.remove(v),e.focus(),e.nodeChanged()))})}function r(e){return e&amp;&amp;(e=e.replace(/px$/,&quot;&quot;)),e}function c(){m&amp;&amp;m.value(e.convertURL(this.value(),&quot;src&quot;)),t(this.value(),function(e){e.width&amp;&amp;e.height&amp;&amp;(g=e.width,h=e.height,u.find(&quot;#width&quot;).value(g),u.find(&quot;#height&quot;).value(h))})}function d(){function t(e){return e.length&gt;0&amp;&amp;/^[0-9]+$/.test(e)&amp;&amp;(e+=&quot;px&quot;),e}if(e.settings.image_advtab){var i=u.toJSON(),n=y.parseStyle(i.style);delete n.margin,n[&quot;margin-top&quot;]=n[&quot;margin-bottom&quot;]=t(i.vspace),n[&quot;margin-left&quot;]=n[&quot;margin-right&quot;]=t(i.hspace),n[&quot;border-width&quot;]=t(i.border),u.find(&quot;#style&quot;).value(y.serializeStyle(y.parseStyle(y.serializeStyle(n))))}}var u,g,h,m,p,f={},y=e.dom,v=e.selection.getNode();g=y.getAttrib(v,&quot;width&quot;),h=y.getAttrib(v,&quot;height&quot;),&quot;IMG&quot;!=v.nodeName||v.getAttribute(&quot;data-mce-object&quot;)||v.getAttribute(&quot;data-mce-placeholder&quot;)?v=null:f={src:y.getAttrib(v,&quot;src&quot;),alt:y.getAttrib(v,&quot;alt&quot;),&quot;class&quot;:y.getAttrib(v,&quot;class&quot;),width:g,height:h},n&amp;&amp;(m={type:&quot;listbox&quot;,label:&quot;Image list&quot;,values:l(),value:f.src&amp;&amp;e.convertURL(f.src,&quot;src&quot;),onselect:function(e){var t=u.find(&quot;#alt&quot;);(!t.value()||e.lastControl&amp;&amp;t.value()==e.lastControl.text())&amp;&amp;t.value(e.control.text()),u.find(&quot;#src&quot;).value(e.control.value())},onPostRender:function(){m=this}}),e.settings.image_class_list&amp;&amp;(p={name:&quot;class&quot;,type:&quot;listbox&quot;,label:&quot;Class&quot;,values:i(a(&quot;image_class_list&quot;,&quot;class&quot;))});var b=[{name:&quot;src&quot;,type:&quot;filepicker&quot;,filetype:&quot;image&quot;,label:&quot;Source&quot;,autofocus:!0,onchange:c},m];e.settings.image_description!==!1&amp;&amp;b.push({name:&quot;alt&quot;,type:&quot;textbox&quot;,label:&quot;Image description&quot;}),e.settings.image_dimensions!==!1&amp;&amp;b.push({type:&quot;container&quot;,label:&quot;Dimensions&quot;,layout:&quot;flex&quot;,direction:&quot;row&quot;,align:&quot;center&quot;,spacing:5,items:[{name:&quot;width&quot;,type:&quot;textbox&quot;,maxLength:5,size:3,onchange:o,ariaLabel:&quot;Width&quot;},{type:&quot;label&quot;,text:&quot;x&quot;},{name:&quot;height&quot;,type:&quot;textbox&quot;,maxLength:5,size:3,onchange:o,ariaLabel:&quot;Height&quot;},{name:&quot;constrain&quot;,type:&quot;checkbox&quot;,checked:!0,text:&quot;Constrain proportions&quot;}]}),b.push(p),e.settings.image_advtab?(v&amp;&amp;(f.hspace=r(v.style.marginLeft||v.style.marginRight),f.vspace=r(v.style.marginTop||v.style.marginBottom),f.border=r(v.style.borderWidth),f.style=e.dom.serializeStyle(e.dom.parseStyle(e.dom.getAttrib(v,&quot;style&quot;)))),u=e.windowManager.open({title:&quot;Insert/edit image&quot;,data:f,bodyType:&quot;tabpanel&quot;,body:[{title:&quot;General&quot;,type:&quot;form&quot;,items:b},{title:&quot;Advanced&quot;,type:&quot;form&quot;,pack:&quot;start&quot;,items:[{label:&quot;Style&quot;,name:&quot;style&quot;,type:&quot;textbox&quot;},{type:&quot;form&quot;,layout:&quot;grid&quot;,packV:&quot;start&quot;,columns:2,padding:0,alignH:[&quot;left&quot;,&quot;right&quot;],defaults:{type:&quot;textbox&quot;,maxWidth:50,onchange:d},items:[{label:&quot;Vertical space&quot;,name:&quot;vspace&quot;},{label:&quot;Horizontal space&quot;,name:&quot;hspace&quot;},{label:&quot;Border&quot;,name:&quot;border&quot;}]}]}],onSubmit:s})):u=e.windowManager.open({title:&quot;Insert/edit image&quot;,data:f,body:b,onSubmit:s})}e.addButton(&quot;image&quot;,{icon:&quot;image&quot;,tooltip:&quot;Insert/edit image&quot;,onclick:n(a),stateSelector:&quot;img:not([data-mce-object],[data-mce-placeholder])&quot;}),e.addMenuItem(&quot;image&quot;,{icon:&quot;image&quot;,text:&quot;Insert image&quot;,onclick:n(a),context:&quot;insert&quot;,prependToContext:!0})});tinymce.PluginManager.add(&quot;importcss&quot;,function(t){function e(t){return&quot;string&quot;==typeof t?function(e){return-1!==e.indexOf(t)}:t instanceof RegExp?function(e){return t.test(e)}:t}function n(e,n){function i(t,e){var c,o=t.href;if(o&amp;&amp;n(o,e)){s(t.imports,function(t){i(t,!0)});try{c=t.cssRules||t.rules}catch(a){}s(c,function(t){t.styleSheet?i(t.styleSheet,!0):t.selectorText&amp;&amp;s(t.selectorText.split(&quot;,&quot;),function(t){r.push(tinymce.trim(t))})})}}var r=[],c={};s(t.contentCSS,function(t){c[t]=!0}),n||(n=function(t,e){return e||c[t]});try{s(e.styleSheets,function(t){i(t)})}catch(o){}return r}function i(e){var n,i=/^(?:([a-z0-9\-_]+))?(\.[a-z0-9_\-\.]+)$/i.exec(e);if(i){var r=i[1],s=i[2].substr(1).split(&quot;.&quot;).join(&quot; &quot;),c=tinymce.makeMap(&quot;a,img&quot;);return i[1]?(n={title:e},t.schema.getTextBlockElements()[r]?n.block=r:t.schema.getBlockElements()[r]||c[r.toLowerCase()]?n.selector=r:n.inline=r):i[2]&amp;&amp;(n={inline:&quot;span&quot;,title:e.substr(1),classes:s}),t.settings.importcss_merge_classes!==!1?n.classes=s:n.attributes={&quot;class&quot;:s},n}}var r=this,s=tinymce.each;t.on(&quot;renderFormatsMenu&quot;,function(c){var o=t.settings,a={},l=o.importcss_selector_converter||i,f=e(o.importcss_selector_filter),m=c.control;t.settings.importcss_append||m.items().remove();var u=[];tinymce.each(o.importcss_groups,function(t){t=tinymce.extend({},t),t.filter=e(t.filter),u.push(t)}),s(n(c.doc||t.getDoc(),e(o.importcss_file_filter)),function(e){if(-1===e.indexOf(&quot;.mce-&quot;)&amp;&amp;!a[e]&amp;&amp;(!f||f(e))){var n,i=l.call(r,e);if(i){var s=i.name||tinymce.DOM.uniqueId();if(u)for(var c=0;c&lt;u.length;c++)if(!u[c].filter||u[c].filter(e)){u[c].item||(u[c].item={text:u[c].title,menu:[]}),n=u[c].item.menu;break}t.formatter.register(s,i);var o=tinymce.extend({},m.settings.itemDefaults,{text:i.title,format:s});n?n.push(o):m.add(o)}a[e]=!0}}),s(u,function(t){m.add(t.item)}),c.control.renderNew()}),r.convertSelectorToFormat=i});tinymce.PluginManager.add(&quot;insertdatetime&quot;,function(e){function t(t,a){function n(e,t){if(e=&quot;&quot;+e,e.length&lt;t)for(var a=0;a&lt;t-e.length;a++)e=&quot;0&quot;+e;return e}return a=a||new Date,t=t.replace(&quot;%D&quot;,&quot;%m/%d/%Y&quot;),t=t.replace(&quot;%r&quot;,&quot;%I:%M:%S %p&quot;),t=t.replace(&quot;%Y&quot;,&quot;&quot;+a.getFullYear()),t=t.replace(&quot;%y&quot;,&quot;&quot;+a.getYear()),t=t.replace(&quot;%m&quot;,n(a.getMonth()+1,2)),t=t.replace(&quot;%d&quot;,n(a.getDate(),2)),t=t.replace(&quot;%H&quot;,&quot;&quot;+n(a.getHours(),2)),t=t.replace(&quot;%M&quot;,&quot;&quot;+n(a.getMinutes(),2)),t=t.replace(&quot;%S&quot;,&quot;&quot;+n(a.getSeconds(),2)),t=t.replace(&quot;%I&quot;,&quot;&quot;+((a.getHours()+11)%12+1)),t=t.replace(&quot;%p&quot;,&quot;&quot;+(a.getHours()&lt;12?&quot;AM&quot;:&quot;PM&quot;)),t=t.replace(&quot;%B&quot;,&quot;&quot;+e.translate(m[a.getMonth()])),t=t.replace(&quot;%b&quot;,&quot;&quot;+e.translate(c[a.getMonth()])),t=t.replace(&quot;%A&quot;,&quot;&quot;+e.translate(d[a.getDay()])),t=t.replace(&quot;%a&quot;,&quot;&quot;+e.translate(i[a.getDay()])),t=t.replace(&quot;%%&quot;,&quot;%&quot;)}function a(a){var n=t(a);if(e.settings.insertdatetime_element){var r;r=t(/%[HMSIp]/.test(a)?&quot;%Y-%m-%dT%H:%M&quot;:&quot;%Y-%m-%d&quot;),n=&#039;&lt;time datetime=&quot;&#039;+r+&#039;&quot;&gt;&#039;+n+&quot;&lt;/time&gt;&quot;;var i=e.dom.getParent(e.selection.getStart(),&quot;time&quot;);if(i)return void e.dom.setOuterHTML(i,n)}e.insertContent(n)}var n,r,i=&quot;Sun Mon Tue Wed Thu Fri Sat Sun&quot;.split(&quot; &quot;),d=&quot;Sunday Monday Tuesday Wednesday Thursday Friday Saturday Sunday&quot;.split(&quot; &quot;),c=&quot;Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec&quot;.split(&quot; &quot;),m=&quot;January February March April May June July August September October November December&quot;.split(&quot; &quot;),u=[];e.addCommand(&quot;mceInsertDate&quot;,function(){a(e.getParam(&quot;insertdatetime_dateformat&quot;,e.translate(&quot;%Y-%m-%d&quot;)))}),e.addCommand(&quot;mceInsertTime&quot;,function(){a(e.getParam(&quot;insertdatetime_timeformat&quot;,e.translate(&quot;%H:%M:%S&quot;)))}),e.addButton(&quot;insertdatetime&quot;,{type:&quot;splitbutton&quot;,title:&quot;Insert date/time&quot;,onclick:function(){a(n||r)},menu:u}),tinymce.each(e.settings.insertdatetime_formats||[&quot;%H:%M:%S&quot;,&quot;%Y-%m-%d&quot;,&quot;%I:%M:%S %p&quot;,&quot;%D&quot;],function(e){r||(r=e),u.push({text:t(e),onclick:function(){n=e,a(e)}})}),e.addMenuItem(&quot;insertdatetime&quot;,{icon:&quot;date&quot;,text:&quot;Insert date/time&quot;,menu:u,context:&quot;insert&quot;})});!function(e){e.on(&quot;AddEditor&quot;,function(e){e.editor.settings.inline_styles=!1}),e.PluginManager.add(&quot;legacyoutput&quot;,function(t){t.on(&quot;init&quot;,function(){var i=&quot;p,h1,h2,h3,h4,h5,h6,td,th,div,ul,ol,li,table,img&quot;,n=e.explode(t.settings.font_size_style_values),l=t.schema;t.formatter.register({alignleft:{selector:i,attributes:{align:&quot;left&quot;}},aligncenter:{selector:i,attributes:{align:&quot;center&quot;}},alignright:{selector:i,attributes:{align:&quot;right&quot;}},alignjustify:{selector:i,attributes:{align:&quot;justify&quot;}},bold:[{inline:&quot;b&quot;,remove:&quot;all&quot;},{inline:&quot;strong&quot;,remove:&quot;all&quot;},{inline:&quot;span&quot;,styles:{fontWeight:&quot;bold&quot;}}],italic:[{inline:&quot;i&quot;,remove:&quot;all&quot;},{inline:&quot;em&quot;,remove:&quot;all&quot;},{inline:&quot;span&quot;,styles:{fontStyle:&quot;italic&quot;}}],underline:[{inline:&quot;u&quot;,remove:&quot;all&quot;},{inline:&quot;span&quot;,styles:{textDecoration:&quot;underline&quot;},exact:!0}],strikethrough:[{inline:&quot;strike&quot;,remove:&quot;all&quot;},{inline:&quot;span&quot;,styles:{textDecoration:&quot;line-through&quot;},exact:!0}],fontname:{inline:&quot;font&quot;,attributes:{face:&quot;%value&quot;}},fontsize:{inline:&quot;font&quot;,attributes:{size:function(t){return e.inArray(n,t.value)+1}}},forecolor:{inline:&quot;font&quot;,attributes:{color:&quot;%value&quot;}},hilitecolor:{inline:&quot;font&quot;,styles:{backgroundColor:&quot;%value&quot;}}}),e.each(&quot;b,i,u,strike&quot;.split(&quot;,&quot;),function(e){l.addValidElements(e+&quot;[*]&quot;)}),l.getElementRule(&quot;font&quot;)||l.addValidElements(&quot;font[face|size|color|style]&quot;),e.each(i.split(&quot;,&quot;),function(e){var t=l.getElementRule(e);t&amp;&amp;(t.attributes.align||(t.attributes.align={},t.attributesOrder.push(&quot;align&quot;)))})})})}(tinymce);tinymce.PluginManager.add(&quot;link&quot;,function(t){function e(e){return function(){var n=t.settings.link_list;&quot;string&quot;==typeof n?tinymce.util.XHR.send({url:n,success:function(t){e(tinymce.util.JSON.parse(t))}}):&quot;function&quot;==typeof n?n(e):e(n)}}function n(e){function n(t){var e=d.find(&quot;#text&quot;);(!e.value()||t.lastControl&amp;&amp;e.value()==t.lastControl.text())&amp;&amp;e.value(t.control.text()),d.find(&quot;#href&quot;).value(t.control.value())}function l(){var n=[{text:&quot;None&quot;,value:&quot;&quot;}];return tinymce.each(e,function(e){n.push({text:e.text||e.title,value:t.convertURL(e.value||e.url,&quot;href&quot;),menu:e.menu})}),n}function i(e){return tinymce.each(e,function(e){e.textStyle=function(){return t.formatter.getCssText({inline:&quot;a&quot;,classes:[e.value]})}}),e}function a(e,n,l){var i,a=[];return tinymce.each(t.settings[e]||l,function(t){var e={text:t.text||t.title,value:t.value};a.push(e),(b[n]===t.value||!i&amp;&amp;t.selected)&amp;&amp;(i=e)}),i&amp;&amp;!b[n]&amp;&amp;(b[n]=i.value,i.selected=!0),a}function r(e){var l=[];return tinymce.each(t.dom.select(&quot;a:not([href])&quot;),function(t){var n=t.name||t.id;n&amp;&amp;l.push({text:n,value:&quot;#&quot;+n,selected:-1!=e.indexOf(&quot;#&quot;+n)})}),l.length?(l.unshift({text:&quot;None&quot;,value:&quot;&quot;}),{name:&quot;anchor&quot;,type:&quot;listbox&quot;,label:&quot;Anchors&quot;,values:l,onselect:n}):void 0}function o(){h&amp;&amp;h.value(t.convertURL(this.value(),&quot;href&quot;)),!f&amp;&amp;0===b.text.length&amp;&amp;x&amp;&amp;this.parent().parent().find(&quot;#text&quot;)[0].value(this.value())}function s(t){var e=k.getContent();if(/&lt;/.test(e)&amp;&amp;(!/^&lt;a [^&gt;]+&gt;[^&lt;]+&lt;\/a&gt;$/.test(e)||-1==e.indexOf(&quot;href=&quot;)))return!1;if(t){var n,l=t.childNodes;if(0===l.length)return!1;for(n=l.length-1;n&gt;=0;n--)if(3!=l[n].nodeType)return!1}return!0}var u,c,f,d,x,v,h,g,m,p,y,b={},k=t.selection,w=t.dom;u=k.getNode(),c=w.getParent(u,&quot;a[href]&quot;),x=s(),b.text=f=c?c.innerText||c.textContent:k.getContent({format:&quot;text&quot;}),b.href=c?w.getAttrib(c,&quot;href&quot;):&quot;&quot;,b.target=c?w.getAttrib(c,&quot;target&quot;):t.settings.default_link_target||null,b.rel=c?w.getAttrib(c,&quot;rel&quot;):null,b[&quot;class&quot;]=c?w.getAttrib(c,&quot;class&quot;):null,b.title=c?w.getAttrib(c,&quot;title&quot;):&quot;&quot;,x&amp;&amp;(v={name:&quot;text&quot;,type:&quot;textbox&quot;,size:40,label:&quot;Text to display&quot;,onchange:function(){b.text=this.value()}}),e&amp;&amp;(h={type:&quot;listbox&quot;,label:&quot;Link list&quot;,values:l(),onselect:n,value:t.convertURL(b.href,&quot;href&quot;),onPostRender:function(){h=this}}),t.settings.target_list!==!1&amp;&amp;(m={name:&quot;target&quot;,type:&quot;listbox&quot;,label:&quot;Target&quot;,values:a(&quot;target_list&quot;,&quot;target&quot;,[{text:&quot;None&quot;,value:&quot;&quot;},{text:&quot;New window&quot;,value:&quot;_blank&quot;}])}),t.settings.rel_list&amp;&amp;(g={name:&quot;rel&quot;,type:&quot;listbox&quot;,label:&quot;Rel&quot;,values:a(&quot;rel_list&quot;,&quot;rel&quot;,[{text:&quot;None&quot;,value:&quot;&quot;}])}),t.settings.link_class_list&amp;&amp;(p={name:&quot;class&quot;,type:&quot;listbox&quot;,label:&quot;Class&quot;,values:i(a(&quot;link_class_list&quot;,&quot;class&quot;))}),t.settings.link_title!==!1&amp;&amp;(y={name:&quot;title&quot;,type:&quot;textbox&quot;,label:&quot;Title&quot;,value:b.title}),d=t.windowManager.open({title:&quot;Insert link&quot;,data:b,body:[{name:&quot;href&quot;,type:&quot;filepicker&quot;,filetype:&quot;file&quot;,size:40,autofocus:!0,label:&quot;Url&quot;,onchange:o,onkeyup:o},v,y,r(b.href),h,g,m,p],onSubmit:function(e){function n(e,n){var l=t.selection.getRng();window.setTimeout(function(){t.windowManager.confirm(e,function(e){t.selection.setRng(l),n(e)})},0)}function l(){var e={href:i,target:b.target?b.target:null,rel:b.rel?b.rel:null,&quot;class&quot;:b[&quot;class&quot;]?b[&quot;class&quot;]:null,title:b.title?b.title:null};c?(t.focus(),x&amp;&amp;b.text!=f&amp;&amp;(&quot;innerText&quot;in c?c.innerText=b.text:c.textContent=b.text),w.setAttribs(c,e),k.select(c),t.undoManager.add()):x?t.insertContent(w.createHTML(&quot;a&quot;,e,w.encode(b.text))):t.execCommand(&quot;mceInsertLink&quot;,!1,e)}var i;return b=tinymce.extend(b,e.data),(i=b.href)?i.indexOf(&quot;@&quot;)&gt;0&amp;&amp;-1==i.indexOf(&quot;//&quot;)&amp;&amp;-1==i.indexOf(&quot;mailto:&quot;)?void n(&quot;The URL you entered seems to be an email address. Do you want to add the required mailto: prefix?&quot;,function(t){t&amp;&amp;(i=&quot;mailto:&quot;+i),l()}):/^\s*www\./i.test(i)?void n(&quot;The URL you entered seems to be an external link. Do you want to add the required http:// prefix?&quot;,function(t){t&amp;&amp;(i=&quot;http://&quot;+i),l()}):void l():void t.execCommand(&quot;unlink&quot;)}})}t.addButton(&quot;link&quot;,{icon:&quot;link&quot;,tooltip:&quot;Insert/edit link&quot;,shortcut:&quot;Ctrl+K&quot;,onclick:e(n),stateSelector:&quot;a[href]&quot;}),t.addButton(&quot;unlink&quot;,{icon:&quot;unlink&quot;,tooltip:&quot;Remove link&quot;,cmd:&quot;unlink&quot;,stateSelector:&quot;a[href]&quot;}),t.addShortcut(&quot;Ctrl+K&quot;,&quot;&quot;,e(n)),this.showDialog=n,t.addMenuItem(&quot;link&quot;,{icon:&quot;link&quot;,text:&quot;Insert link&quot;,shortcut:&quot;Ctrl+K&quot;,onclick:e(n),stateSelector:&quot;a[href]&quot;,context:&quot;insert&quot;,prependToContext:!0})});tinymce.PluginManager.add(&quot;lists&quot;,function(e){function t(e){return e&amp;&amp;/^(OL|UL)$/.test(e.nodeName)}function n(e){return e.parentNode.firstChild==e}function r(e){return e.parentNode.lastChild==e}function o(t){return t&amp;&amp;!!e.schema.getTextBlockElements()[t.nodeName]}function i(e){return e&amp;&amp;&quot;SPAN&quot;===e.nodeName&amp;&amp;&quot;bookmark&quot;===e.getAttribute(&quot;data-mce-type&quot;)}var a=this;e.on(&quot;init&quot;,function(){function d(e){function t(t){var r,o,i;o=e[t?&quot;startContainer&quot;:&quot;endContainer&quot;],i=e[t?&quot;startOffset&quot;:&quot;endOffset&quot;],1==o.nodeType&amp;&amp;(r=b.create(&quot;span&quot;,{&quot;data-mce-type&quot;:&quot;bookmark&quot;}),o.hasChildNodes()?(i=Math.min(i,o.childNodes.length-1),t?o.insertBefore(r,o.childNodes[i]):b.insertAfter(r,o.childNodes[i])):o.appendChild(r),o=r,i=0),n[t?&quot;startContainer&quot;:&quot;endContainer&quot;]=o,n[t?&quot;startOffset&quot;:&quot;endOffset&quot;]=i}var n={};return t(!0),e.collapsed||t(),n}function s(e){function t(t){function n(e){for(var t=e.parentNode.firstChild,n=0;t;){if(t==e)return n;(1!=t.nodeType||&quot;bookmark&quot;!=t.getAttribute(&quot;data-mce-type&quot;))&amp;&amp;n++,t=t.nextSibling}return-1}var r,o,i;r=i=e[t?&quot;startContainer&quot;:&quot;endContainer&quot;],o=e[t?&quot;startOffset&quot;:&quot;endOffset&quot;],r&amp;&amp;(1==r.nodeType&amp;&amp;(o=n(r),r=r.parentNode,b.remove(i)),e[t?&quot;startContainer&quot;:&quot;endContainer&quot;]=r,e[t?&quot;startOffset&quot;:&quot;endOffset&quot;]=o)}t(!0),t();var n=b.createRng();n.setStart(e.startContainer,e.startOffset),e.endContainer&amp;&amp;n.setEnd(e.endContainer,e.endOffset),k.setRng(n)}function f(t,n){var r,o,i,a=b.createFragment(),d=e.schema.getBlockElements();if(e.settings.forced_root_block&amp;&amp;(n=n||e.settings.forced_root_block),n&amp;&amp;(o=b.create(n),o.tagName===e.settings.forced_root_block&amp;&amp;b.setAttribs(o,e.settings.forced_root_block_attrs),a.appendChild(o)),t)for(;r=t.firstChild;){var s=r.nodeName;i||&quot;SPAN&quot;==s&amp;&amp;&quot;bookmark&quot;==r.getAttribute(&quot;data-mce-type&quot;)||(i=!0),d[s]?(a.appendChild(r),o=null):n?(o||(o=b.create(n),a.appendChild(o)),o.appendChild(r)):a.appendChild(r)}return e.settings.forced_root_block?i||tinymce.Env.ie&amp;&amp;!(tinymce.Env.ie&gt;10)||o.appendChild(b.create(&quot;br&quot;,{&quot;data-mce-bogus&quot;:&quot;1&quot;})):a.appendChild(b.create(&quot;br&quot;)),a}function l(){return tinymce.grep(k.getSelectedBlocks(),function(e){return&quot;LI&quot;==e.nodeName})}function c(e,t,n){var r,o,i=b.select(&#039;span[data-mce-type=&quot;bookmark&quot;]&#039;,e);n=n||f(t),r=b.createRng(),r.setStartAfter(t),r.setEndAfter(e),o=r.extractContents(),b.isEmpty(o)||b.insertAfter(o,e),b.insertAfter(n,e),b.isEmpty(t.parentNode)&amp;&amp;(tinymce.each(i,function(e){t.parentNode.parentNode.insertBefore(e,t.parentNode)}),b.remove(t.parentNode)),b.remove(t)}function p(e){var n,r;if(n=e.nextSibling,n&amp;&amp;t(n)&amp;&amp;n.nodeName==e.nodeName){for(;r=n.firstChild;)e.appendChild(r);b.remove(n)}if(n=e.previousSibling,n&amp;&amp;t(n)&amp;&amp;n.nodeName==e.nodeName){for(;r=n.firstChild;)e.insertBefore(r,e.firstChild);b.remove(n)}}function u(e){tinymce.each(tinymce.grep(b.select(&quot;ol,ul&quot;,e)),function(e){var n,r=e.parentNode;&quot;LI&quot;==r.nodeName&amp;&amp;r.firstChild==e&amp;&amp;(n=r.previousSibling,n&amp;&amp;&quot;LI&quot;==n.nodeName&amp;&amp;(n.appendChild(e),b.isEmpty(r)&amp;&amp;b.remove(r))),t(r)&amp;&amp;(n=r.previousSibling,n&amp;&amp;&quot;LI&quot;==n.nodeName&amp;&amp;n.appendChild(e))})}function m(e){function o(e){b.isEmpty(e)&amp;&amp;b.remove(e)}var i,a=e.parentNode,d=a.parentNode;return n(e)&amp;&amp;r(e)?(&quot;LI&quot;==d.nodeName?(b.insertAfter(e,d),o(d),b.remove(a)):t(d)?b.remove(a,!0):(d.insertBefore(f(e),a),b.remove(a)),!0):n(e)?(&quot;LI&quot;==d.nodeName?(b.insertAfter(e,d),e.appendChild(a),o(d)):t(d)?d.insertBefore(e,a):(d.insertBefore(f(e),a),b.remove(e)),!0):r(e)?(&quot;LI&quot;==d.nodeName?b.insertAfter(e,d):t(d)?b.insertAfter(e,a):(b.insertAfter(f(e),a),b.remove(e)),!0):(&quot;LI&quot;==d.nodeName?(a=d,i=f(e,&quot;LI&quot;)):i=t(d)?f(e,&quot;LI&quot;):f(e),c(a,e,i),u(a.parentNode),!0)}function h(e){function n(n,r){var o;if(t(n)){for(;o=e.lastChild.firstChild;)r.appendChild(o);b.remove(n)}}var r,o;return r=e.previousSibling,r&amp;&amp;t(r)?(r.appendChild(e),!0):r&amp;&amp;&quot;LI&quot;==r.nodeName&amp;&amp;t(r.lastChild)?(r.lastChild.appendChild(e),n(e.lastChild,r.lastChild),!0):(r=e.nextSibling,r&amp;&amp;t(r)?(r.insertBefore(e,r.firstChild),!0):r&amp;&amp;&quot;LI&quot;==r.nodeName&amp;&amp;t(e.lastChild)?!1:(r=e.previousSibling,r&amp;&amp;&quot;LI&quot;==r.nodeName?(o=b.create(e.parentNode.nodeName),r.appendChild(o),o.appendChild(e),n(e.lastChild,o),!0):!1))}function v(){var t=l();if(t.length){for(var n=d(k.getRng(!0)),r=0;r&lt;t.length&amp;&amp;(h(t[r])||0!==r);r++);return s(n),e.nodeChanged(),!0}}function C(){var t=l();if(t.length){var n,r,o=d(k.getRng(!0)),i=e.getBody();for(n=t.length;n--;)for(var a=t[n].parentNode;a&amp;&amp;a!=i;){for(r=t.length;r--;)if(t[r]===a){t.splice(n,1);break}a=a.parentNode}for(n=0;n&lt;t.length&amp;&amp;(m(t[n])||0!==n);n++);return s(o),e.nodeChanged(),!0}}function g(n){function r(){function t(e){var t,n;for(t=a[e?&quot;startContainer&quot;:&quot;endContainer&quot;],n=a[e?&quot;startOffset&quot;:&quot;endOffset&quot;],1==t.nodeType&amp;&amp;(t=t.childNodes[Math.min(n,t.childNodes.length-1)]||t);t.parentNode!=d;){if(o(t))return t;if(/^(TD|TH)$/.test(t.parentNode.nodeName))return t;t=t.parentNode}return t}for(var n,r=[],d=e.getBody(),s=t(!0),f=t(),l=[],c=s;c&amp;&amp;(l.push(c),c!=f);c=c.nextSibling);return tinymce.each(l,function(e){if(o(e))return r.push(e),void(n=null);if(b.isBlock(e)||&quot;BR&quot;==e.nodeName)return&quot;BR&quot;==e.nodeName&amp;&amp;b.remove(e),void(n=null);var t=e.nextSibling;return i(e)&amp;&amp;(o(t)||!t&amp;&amp;e.parentNode==d)?void(n=null):(n||(n=b.create(&quot;p&quot;),e.parentNode.insertBefore(n,e),r.push(n)),void n.appendChild(e))}),r}var a=k.getRng(!0),f=d(a),l=r();tinymce.each(l,function(e){var r,o;o=e.previousSibling,o&amp;&amp;t(o)&amp;&amp;o.nodeName==n?(r=o,e=b.rename(e,&quot;LI&quot;),o.appendChild(e)):(r=b.create(n),e.parentNode.insertBefore(r,e),r.appendChild(e),e=b.rename(e,&quot;LI&quot;)),p(r)}),s(f)}function N(){var n=d(k.getRng(!0)),r=e.getBody();tinymce.each(l(),function(e){var n,o;if(b.isEmpty(e))return void m(e);for(n=e;n&amp;&amp;n!=r;n=n.parentNode)t(n)&amp;&amp;(o=n);c(o,e)}),s(n)}function y(e){var t=b.getParent(k.getStart(),&quot;OL,UL&quot;);if(t)if(t.nodeName==e)N(e);else{var n=d(k.getRng(!0));p(b.rename(t,e)),s(n)}else g(e)}var b=e.dom,k=e.selection;a.backspaceDelete=function(e){function n(e,t){var n=e.startContainer,r=e.startOffset;if(3==n.nodeType&amp;&amp;(t?r&lt;n.data.length:r&gt;0))return n;for(var o=new tinymce.dom.TreeWalker(e.startContainer);n=o[t?&quot;next&quot;:&quot;prev&quot;]();)if(3==n.nodeType&amp;&amp;n.data.length&gt;0)return n}function r(e,n){var r,o,i=e.parentNode;for(t(n.lastChild)&amp;&amp;(o=n.lastChild),r=n.lastChild,r&amp;&amp;&quot;BR&quot;==r.nodeName&amp;&amp;e.hasChildNodes()&amp;&amp;b.remove(r);r=e.firstChild;)n.appendChild(r);o&amp;&amp;n.appendChild(o),b.remove(e),b.isEmpty(i)&amp;&amp;b.remove(i)}if(k.isCollapsed()){var o=b.getParent(k.getStart(),&quot;LI&quot;);if(o){var i=k.getRng(!0),a=b.getParent(n(i,e),&quot;LI&quot;);if(a&amp;&amp;a!=o){var f=d(i);return e?r(a,o):r(o,a),s(f),!0}if(!a&amp;&amp;!e&amp;&amp;N(o.parentNode.nodeName))return!0}}},e.addCommand(&quot;Indent&quot;,function(){return v()?void 0:!0}),e.addCommand(&quot;Outdent&quot;,function(){return C()?void 0:!0}),e.addCommand(&quot;InsertUnorderedList&quot;,function(){y(&quot;UL&quot;)}),e.addCommand(&quot;InsertOrderedList&quot;,function(){y(&quot;OL&quot;)}),e.on(&quot;keydown&quot;,function(t){9==t.keyCode&amp;&amp;e.dom.getParent(e.selection.getStart(),&quot;LI&quot;)&amp;&amp;(t.preventDefault(),t.shiftKey?C():v())})}),e.addButton(&quot;indent&quot;,{icon:&quot;indent&quot;,title:&quot;Increase indent&quot;,cmd:&quot;Indent&quot;,onPostRender:function(){var t=this;e.on(&quot;nodechange&quot;,function(){for(var r=e.selection.getSelectedBlocks(),o=!1,i=0,a=r.length;!o&amp;&amp;a&gt;i;i++){var d=r[i].nodeName;o=&quot;LI&quot;==d&amp;&amp;n(r[i])||&quot;UL&quot;==d||&quot;OL&quot;==d}t.disabled(o)})}}),e.on(&quot;keydown&quot;,function(e){e.keyCode==tinymce.util.VK.BACKSPACE?a.backspaceDelete()&amp;&amp;e.preventDefault():e.keyCode==tinymce.util.VK.DELETE&amp;&amp;a.backspaceDelete(!0)&amp;&amp;e.preventDefault()})});tinymce.PluginManager.add(&quot;media&quot;,function(e,t){function i(e){return-1!=e.indexOf(&quot;.mp3&quot;)?&quot;audio/mpeg&quot;:-1!=e.indexOf(&quot;.wav&quot;)?&quot;audio/wav&quot;:-1!=e.indexOf(&quot;.mp4&quot;)?&quot;video/mp4&quot;:-1!=e.indexOf(&quot;.webm&quot;)?&quot;video/webm&quot;:-1!=e.indexOf(&quot;.ogg&quot;)?&quot;video/ogg&quot;:-1!=e.indexOf(&quot;.swf&quot;)?&quot;application/x-shockwave-flash&quot;:&quot;&quot;}function r(t){var i=e.settings.media_scripts;if(i)for(var r=0;r&lt;i.length;r++)if(-1!==t.indexOf(i[r].filter))return i[r]}function o(){function t(e){var t,a,c,s;t=i.find(&quot;#width&quot;)[0],a=i.find(&quot;#height&quot;)[0],c=t.value(),s=a.value(),i.find(&quot;#constrain&quot;)[0].checked()&amp;&amp;r&amp;&amp;o&amp;&amp;c&amp;&amp;s&amp;&amp;(e.control==t?(s=Math.round(c/r*s),a.value(s)):(c=Math.round(s/o*c),t.value(c))),r=c,o=s}var i,r,o,m,u=[{name:&quot;source1&quot;,type:&quot;filepicker&quot;,filetype:&quot;media&quot;,size:40,autofocus:!0,label:&quot;Source&quot;}];e.settings.media_alt_source!==!1&amp;&amp;u.push({name:&quot;source2&quot;,type:&quot;filepicker&quot;,filetype:&quot;media&quot;,size:40,label:&quot;Alternative source&quot;}),e.settings.media_poster!==!1&amp;&amp;u.push({name:&quot;poster&quot;,type:&quot;filepicker&quot;,filetype:&quot;image&quot;,size:40,label:&quot;Poster&quot;}),e.settings.media_dimensions!==!1&amp;&amp;u.push({type:&quot;container&quot;,label:&quot;Dimensions&quot;,layout:&quot;flex&quot;,align:&quot;center&quot;,spacing:5,items:[{name:&quot;width&quot;,type:&quot;textbox&quot;,maxLength:3,size:3,onchange:t},{type:&quot;label&quot;,text:&quot;x&quot;},{name:&quot;height&quot;,type:&quot;textbox&quot;,maxLength:3,size:3,onchange:t},{name:&quot;constrain&quot;,type:&quot;checkbox&quot;,checked:!0,text:&quot;Constrain proportions&quot;}]}),m=n(e.selection.getNode()),r=m.width,o=m.height,i=e.windowManager.open({title:&quot;Insert/edit video&quot;,data:m,bodyType:&quot;tabpanel&quot;,body:[{title:&quot;General&quot;,type:&quot;form&quot;,onShowTab:function(){m=s(this.next().find(&quot;#embed&quot;).value()),this.fromJSON(m)},items:u},{title:&quot;Embed&quot;,type:&quot;panel&quot;,layout:&quot;flex&quot;,direction:&quot;column&quot;,align:&quot;stretch&quot;,padding:10,spacing:10,onShowTab:function(){this.find(&quot;#embed&quot;).value(c(this.parent().toJSON()))},items:[{type:&quot;label&quot;,text:&quot;Paste your embed code below:&quot;,forId:&quot;mcemediasource&quot;},{id:&quot;mcemediasource&quot;,type:&quot;textbox&quot;,flex:1,name:&quot;embed&quot;,value:a(),multiline:!0,label:&quot;Source&quot;}]}],onSubmit:function(){e.insertContent(c(this.toJSON()))}})}function a(){var t=e.selection.getNode();return t.getAttribute(&quot;data-mce-object&quot;)?e.selection.getContent():void 0}function c(o){var a=&quot;&quot;;if(!o.source1&amp;&amp;(tinymce.extend(o,s(o.embed)),!o.source1))return&quot;&quot;;if(o.source2||(o.source2=&quot;&quot;),o.poster||(o.poster=&quot;&quot;),o.source1=e.convertURL(o.source1,&quot;source&quot;),o.source2=e.convertURL(o.source2,&quot;source&quot;),o.source1mime=i(o.source1),o.source2mime=i(o.source2),o.poster=e.convertURL(o.poster,&quot;poster&quot;),o.flashPlayerUrl=e.convertURL(t+&quot;/moxieplayer.swf&quot;,&quot;movie&quot;),tinymce.each(u,function(e){var t,i,r;if(t=e.regex.exec(o.source1)){for(r=e.url,i=0;t[i];i++)r=r.replace(&quot;$&quot;+i,function(){return t[i]});o.source1=r,o.type=e.type,o.width=o.width||e.w,o.height=o.height||e.h}}),o.embed)a=m(o.embed,o,!0);else{var c=r(o.source1);c&amp;&amp;(o.type=&quot;script&quot;,o.width=c.width,o.height=c.height),o.width=o.width||300,o.height=o.height||150,tinymce.each(o,function(t,i){o[i]=e.dom.encode(t)}),&quot;iframe&quot;==o.type?a+=&#039;&lt;iframe src=&quot;&#039;+o.source1+&#039;&quot; width=&quot;&#039;+o.width+&#039;&quot; height=&quot;&#039;+o.height+&#039;&quot;&gt;&lt;/iframe&gt;&#039;:&quot;application/x-shockwave-flash&quot;==o.source1mime?(a+=&#039;&lt;object data=&quot;&#039;+o.source1+&#039;&quot; width=&quot;&#039;+o.width+&#039;&quot; height=&quot;&#039;+o.height+&#039;&quot; type=&quot;application/x-shockwave-flash&quot;&gt;&#039;,o.poster&amp;&amp;(a+=&#039;&lt;img src=&quot;&#039;+o.poster+&#039;&quot; width=&quot;&#039;+o.width+&#039;&quot; height=&quot;&#039;+o.height+&#039;&quot; /&gt;&#039;),a+=&quot;&lt;/object&gt;&quot;):-1!=o.source1mime.indexOf(&quot;audio&quot;)?e.settings.audio_template_callback?a=e.settings.audio_template_callback(o):a+=&#039;&lt;audio controls=&quot;controls&quot; src=&quot;&#039;+o.source1+&#039;&quot;&gt;&#039;+(o.source2?&#039;\n&lt;source src=&quot;&#039;+o.source2+&#039;&quot;&#039;+(o.source2mime?&#039; type=&quot;&#039;+o.source2mime+&#039;&quot;&#039;:&quot;&quot;)+&quot; /&gt;\n&quot;:&quot;&quot;)+&quot;&lt;/audio&gt;&quot;:&quot;script&quot;==o.type?a+=&#039;&lt;script src=&quot;&#039;+o.source1+&#039;&quot;&gt;&lt;/script&gt;&#039;:a=e.settings.video_template_callback?e.settings.video_template_callback(o):&#039;&lt;video width=&quot;&#039;+o.width+&#039;&quot; height=&quot;&#039;+o.height+&#039;&quot;&#039;+(o.poster?&#039; poster=&quot;&#039;+o.poster+&#039;&quot;&#039;:&quot;&quot;)+&#039; controls=&quot;controls&quot;&gt;\n&lt;source src=&quot;&#039;+o.source1+&#039;&quot;&#039;+(o.source1mime?&#039; type=&quot;&#039;+o.source1mime+&#039;&quot;&#039;:&quot;&quot;)+&quot; /&gt;\n&quot;+(o.source2?&#039;&lt;source src=&quot;&#039;+o.source2+&#039;&quot;&#039;+(o.source2mime?&#039; type=&quot;&#039;+o.source2mime+&#039;&quot;&#039;:&quot;&quot;)+&quot; /&gt;\n&quot;:&quot;&quot;)+&quot;&lt;/video&gt;&quot;}return a}function s(e){var t={};return new tinymce.html.SaxParser({validate:!1,allow_conditional_comments:!0,special:&quot;script,noscript&quot;,start:function(e,i){if(t.source1||&quot;param&quot;!=e||(t.source1=i.map.movie),(&quot;iframe&quot;==e||&quot;object&quot;==e||&quot;embed&quot;==e||&quot;video&quot;==e||&quot;audio&quot;==e)&amp;&amp;(t.type||(t.type=e),t=tinymce.extend(i.map,t)),&quot;script&quot;==e){var o=r(i.map.src);if(!o)return;t={type:&quot;script&quot;,source1:i.map.src,width:o.width,height:o.height}}&quot;source&quot;==e&amp;&amp;(t.source1?t.source2||(t.source2=i.map.src):t.source1=i.map.src),&quot;img&quot;!=e||t.poster||(t.poster=i.map.src)}}).parse(e),t.source1=t.source1||t.src||t.data,t.source2=t.source2||&quot;&quot;,t.poster=t.poster||&quot;&quot;,t}function n(t){return t.getAttribute(&quot;data-mce-object&quot;)?s(e.serializer.serialize(t,{selection:!0})):{}}function m(e,t,i){function r(e,t){var i,r,o,a;for(i in t)if(o=&quot;&quot;+t[i],e.map[i])for(r=e.length;r--;)a=e[r],a.name==i&amp;&amp;(o?(e.map[i]=o,a.value=o):(delete e.map[i],e.splice(r,1)));else o&amp;&amp;(e.push({name:i,value:o}),e.map[i]=o)}var o,a=new tinymce.html.Writer,c=0;return new tinymce.html.SaxParser({validate:!1,allow_conditional_comments:!0,special:&quot;script,noscript&quot;,comment:function(e){a.comment(e)},cdata:function(e){a.cdata(e)},text:function(e,t){a.text(e,t)},start:function(e,s,n){switch(e){case&quot;video&quot;:case&quot;object&quot;:case&quot;embed&quot;:case&quot;img&quot;:case&quot;iframe&quot;:r(s,{width:t.width,height:t.height})}if(i)switch(e){case&quot;video&quot;:r(s,{poster:t.poster,src:&quot;&quot;}),t.source2&amp;&amp;r(s,{src:&quot;&quot;});break;case&quot;iframe&quot;:r(s,{src:t.source1});break;case&quot;source&quot;:if(c++,2&gt;=c&amp;&amp;(r(s,{src:t[&quot;source&quot;+c],type:t[&quot;source&quot;+c+&quot;mime&quot;]}),!t[&quot;source&quot;+c]))return;break;case&quot;img&quot;:if(!t.poster)return;o=!0}a.start(e,s,n)},end:function(e){if(&quot;video&quot;==e&amp;&amp;i)for(var s=1;2&gt;=s;s++)if(t[&quot;source&quot;+s]){var n=[];n.map={},s&gt;c&amp;&amp;(r(n,{src:t[&quot;source&quot;+s],type:t[&quot;source&quot;+s+&quot;mime&quot;]}),a.start(&quot;source&quot;,n,!0))}if(t.poster&amp;&amp;&quot;object&quot;==e&amp;&amp;i&amp;&amp;!o){var m=[];m.map={},r(m,{src:t.poster,width:t.width,height:t.height}),a.start(&quot;img&quot;,m,!0)}a.end(e)}},new tinymce.html.Schema({})).parse(e),a.getContent()}var u=[{regex:/youtu\.be\/([\w\-.]+)/,type:&quot;iframe&quot;,w:425,h:350,url:&quot;//www.youtube.com/embed/$1&quot;},{regex:/youtube\.com(.+)v=([^&amp;]+)/,type:&quot;iframe&quot;,w:425,h:350,url:&quot;//www.youtube.com/embed/$2&quot;},{regex:/vimeo\.com\/([0-9]+)/,type:&quot;iframe&quot;,w:425,h:350,url:&quot;//player.vimeo.com/video/$1?title=0&amp;byline=0&amp;portrait=0&amp;color=8dc7dc&quot;},{regex:/maps\.google\.([a-z]{2,3})\/maps\/(.+)msid=(.+)/,type:&quot;iframe&quot;,w:425,h:350,url:&#039;//maps.google.com/maps/ms?msid=$2&amp;output=embed&quot;&#039;}];e.on(&quot;ResolveName&quot;,function(e){var t;1==e.target.nodeType&amp;&amp;(t=e.target.getAttribute(&quot;data-mce-object&quot;))&amp;&amp;(e.name=t)}),e.on(&quot;preInit&quot;,function(){var t=e.schema.getSpecialElements();tinymce.each(&quot;video audio iframe object&quot;.split(&quot; &quot;),function(e){t[e]=new RegExp(&quot;&lt;/&quot;+e+&quot;[^&gt;]*&gt;&quot;,&quot;gi&quot;)});var i=e.schema.getBoolAttrs();tinymce.each(&quot;webkitallowfullscreen mozallowfullscreen allowfullscreen&quot;.split(&quot; &quot;),function(e){i[e]={}}),e.parser.addNodeFilter(&quot;iframe,video,audio,object,embed,script&quot;,function(t,i){for(var o,a,c,s,n,m,u,d,l=t.length;l--;)if(a=t[l],a.parent&amp;&amp;(&quot;script&quot;!=a.name||(d=r(a.attr(&quot;src&quot;))))){for(c=new tinymce.html.Node(&quot;img&quot;,1),c.shortEnded=!0,d&amp;&amp;(d.width&amp;&amp;a.attr(&quot;width&quot;,d.width.toString()),d.height&amp;&amp;a.attr(&quot;height&quot;,d.height.toString())),m=a.attributes,o=m.length;o--;)s=m[o].name,n=m[o].value,&quot;width&quot;!==s&amp;&amp;&quot;height&quot;!==s&amp;&amp;&quot;style&quot;!==s&amp;&amp;((&quot;data&quot;==s||&quot;src&quot;==s)&amp;&amp;(n=e.convertURL(n,s)),c.attr(&quot;data-mce-p-&quot;+s,n));u=a.firstChild&amp;&amp;a.firstChild.value,u&amp;&amp;(c.attr(&quot;data-mce-html&quot;,escape(u)),c.firstChild=null),c.attr({width:a.attr(&quot;width&quot;)||&quot;300&quot;,height:a.attr(&quot;height&quot;)||(&quot;audio&quot;==i?&quot;30&quot;:&quot;150&quot;),style:a.attr(&quot;style&quot;),src:tinymce.Env.transparentSrc,&quot;data-mce-object&quot;:i,&quot;class&quot;:&quot;mce-object mce-object-&quot;+i}),a.replace(c)}}),e.serializer.addAttributeFilter(&quot;data-mce-object&quot;,function(e,t){for(var i,r,o,a,c,s,n,m=e.length;m--;)if(i=e[m],i.parent){for(n=i.attr(t),r=new tinymce.html.Node(n,1),&quot;audio&quot;!=n&amp;&amp;&quot;script&quot;!=n&amp;&amp;r.attr({width:i.attr(&quot;width&quot;),height:i.attr(&quot;height&quot;)}),r.attr({style:i.attr(&quot;style&quot;)}),a=i.attributes,o=a.length;o--;){var u=a[o].name;0===u.indexOf(&quot;data-mce-p-&quot;)&amp;&amp;r.attr(u.substr(11),a[o].value)}&quot;script&quot;==n&amp;&amp;r.attr(&quot;type&quot;,&quot;text/javascript&quot;),c=i.attr(&quot;data-mce-html&quot;),c&amp;&amp;(s=new tinymce.html.Node(&quot;#text&quot;,3),s.raw=!0,s.value=unescape(c),r.append(s)),i.replace(r)}})}),e.on(&quot;ObjectSelected&quot;,function(e){var t=e.target.getAttribute(&quot;data-mce-object&quot;);(&quot;audio&quot;==t||&quot;script&quot;==t)&amp;&amp;e.preventDefault()}),e.on(&quot;objectResized&quot;,function(e){var t,i=e.target;i.getAttribute(&quot;data-mce-object&quot;)&amp;&amp;(t=i.getAttribute(&quot;data-mce-html&quot;),t&amp;&amp;(t=unescape(t),i.setAttribute(&quot;data-mce-html&quot;,escape(m(t,{width:e.width,height:e.height})))))}),e.addButton(&quot;media&quot;,{tooltip:&quot;Insert/edit video&quot;,onclick:o,stateSelector:[&quot;img[data-mce-object=video]&quot;,&quot;img[data-mce-object=iframe]&quot;]}),e.addMenuItem(&quot;media&quot;,{icon:&quot;media&quot;,text:&quot;Insert video&quot;,onclick:o,context:&quot;insert&quot;,prependToContext:!0})});tinymce.PluginManager.add(&quot;nonbreaking&quot;,function(n){var e=n.getParam(&quot;nonbreaking_force_tab&quot;);if(n.addCommand(&quot;mceNonBreaking&quot;,function(){n.insertContent(n.plugins.visualchars&amp;&amp;n.plugins.visualchars.state?&#039;&lt;span class=&quot;mce-nbsp&quot;&gt;&amp;nbsp;&lt;/span&gt;&#039;:&quot;&amp;nbsp;&quot;),n.dom.setAttrib(n.dom.select(&quot;span.mce-nbsp&quot;),&quot;data-mce-bogus&quot;,&quot;1&quot;)}),n.addButton(&quot;nonbreaking&quot;,{title:&quot;Insert nonbreaking space&quot;,cmd:&quot;mceNonBreaking&quot;}),n.addMenuItem(&quot;nonbreaking&quot;,{text:&quot;Nonbreaking space&quot;,cmd:&quot;mceNonBreaking&quot;,context:&quot;insert&quot;}),e){var a=+e&gt;1?+e:3;n.on(&quot;keydown&quot;,function(e){if(9==e.keyCode){if(e.shiftKey)return;e.preventDefault();for(var t=0;a&gt;t;t++)n.execCommand(&quot;mceNonBreaking&quot;)}})}});tinymce.PluginManager.add(&quot;noneditable&quot;,function(e){function t(e){var t;if(1===e.nodeType){if(t=e.getAttribute(u),t&amp;&amp;&quot;inherit&quot;!==t)return t;if(t=e.contentEditable,&quot;inherit&quot;!==t)return t}return null}function n(e){for(var n;e;){if(n=t(e))return&quot;false&quot;===n?e:null;e=e.parentNode}}function r(){function r(e){for(;e;){if(e.id===g)return e;e=e.parentNode}}function a(e){var t;if(e)for(t=new f(e,e),e=t.current();e;e=t.next())if(3===e.nodeType)return e}function i(n,r){var a,i;return&quot;false&quot;===t(n)&amp;&amp;u.isBlock(n)?void s.select(n):(i=u.createRng(),&quot;true&quot;===t(n)&amp;&amp;(n.firstChild||n.appendChild(e.getDoc().createTextNode(&quot;&quot;)),n=n.firstChild,r=!0),a=u.create(&quot;span&quot;,{id:g,&quot;data-mce-bogus&quot;:!0},m),r?n.parentNode.insertBefore(a,n):u.insertAfter(a,n),i.setStart(a.firstChild,1),i.collapse(!0),s.setRng(i),a)}function o(e){var t,n,i,o;if(e)t=s.getRng(!0),t.setStartBefore(e),t.setEndBefore(e),n=a(e),n&amp;&amp;n.nodeValue.charAt(0)==m&amp;&amp;(n=n.deleteData(0,1)),u.remove(e,!0),s.setRng(t);else for(i=r(s.getStart());(e=u.get(g))&amp;&amp;e!==o;)i!==e&amp;&amp;(n=a(e),n&amp;&amp;n.nodeValue.charAt(0)==m&amp;&amp;(n=n.deleteData(0,1)),u.remove(e,!0)),o=e}function l(){function e(e,n){var r,a,i,o,l;if(r=d.startContainer,a=d.startOffset,3==r.nodeType){if(l=r.nodeValue.length,a&gt;0&amp;&amp;l&gt;a||(n?a==l:0===a))return}else{if(!(a&lt;r.childNodes.length))return n?null:e;var u=!n&amp;&amp;a&gt;0?a-1:a;r=r.childNodes[u],r.hasChildNodes()&amp;&amp;(r=r.firstChild)}for(i=new f(r,e);o=i[n?&quot;prev&quot;:&quot;next&quot;]();){if(3===o.nodeType&amp;&amp;o.nodeValue.length&gt;0)return;if(&quot;true&quot;===t(o))return o}return e}var r,a,l,d,u;o(),l=s.isCollapsed(),r=n(s.getStart()),a=n(s.getEnd()),(r||a)&amp;&amp;(d=s.getRng(!0),l?(r=r||a,(u=e(r,!0))?i(u,!0):(u=e(r,!1))?i(u,!1):s.select(r)):(d=s.getRng(!0),r&amp;&amp;d.setStartBefore(r),a&amp;&amp;d.setEndAfter(a),s.setRng(d)))}function d(a){function i(e,t){for(;e=e[t?&quot;previousSibling&quot;:&quot;nextSibling&quot;];)if(3!==e.nodeType||e.nodeValue.length&gt;0)return e}function d(e,t){s.select(e),s.collapse(t)}function g(a){function i(e){for(var t=d;t;){if(t===e)return;t=t.parentNode}u.remove(e),l()}function o(){var r,o,l=e.schema.getNonEmptyElements();for(o=new tinymce.dom.TreeWalker(d,e.getBody());(r=a?o.prev():o.next())&amp;&amp;!l[r.nodeName.toLowerCase()]&amp;&amp;!(3===r.nodeType&amp;&amp;tinymce.trim(r.nodeValue).length&gt;0);)if(&quot;false&quot;===t(r))return i(r),!0;return n(r)?!0:!1}var f,d,c,g;if(s.isCollapsed()){if(f=s.getRng(!0),d=f.startContainer,c=f.startOffset,d=r(d)||d,g=n(d))return i(g),!1;if(3==d.nodeType&amp;&amp;(a?c&gt;0:c&lt;d.nodeValue.length))return!0;if(1==d.nodeType&amp;&amp;(d=d.childNodes[c]||d),o())return!1}return!0}var m,p,v,E,h=a.keyCode;if(v=s.getStart(),E=s.getEnd(),m=n(v)||n(E),m&amp;&amp;(112&gt;h||h&gt;124)&amp;&amp;h!=c.DELETE&amp;&amp;h!=c.BACKSPACE){if((tinymce.isMac?a.metaKey:a.ctrlKey)&amp;&amp;(67==h||88==h||86==h))return;if(a.preventDefault(),h==c.LEFT||h==c.RIGHT){var y=h==c.LEFT;if(e.dom.isBlock(m)){var T=y?m.previousSibling:m.nextSibling,C=new f(T,T),b=y?C.prev():C.next();d(b,!y)}else d(m,y)}}else if(h==c.LEFT||h==c.RIGHT||h==c.BACKSPACE||h==c.DELETE){if(p=r(v)){if(h==c.LEFT||h==c.BACKSPACE)if(m=i(p,!0),m&amp;&amp;&quot;false&quot;===t(m)){if(a.preventDefault(),h!=c.LEFT)return void u.remove(m);d(m,!0)}else o(p);if(h==c.RIGHT||h==c.DELETE)if(m=i(p),m&amp;&amp;&quot;false&quot;===t(m)){if(a.preventDefault(),h!=c.RIGHT)return void u.remove(m);d(m,!1)}else o(p)}if((h==c.BACKSPACE||h==c.DELETE)&amp;&amp;!g(h==c.BACKSPACE))return a.preventDefault(),!1}}var u=e.dom,s=e.selection,g=&quot;mce_noneditablecaret&quot;,m=&quot;&quot;;e.on(&quot;mousedown&quot;,function(n){var r=e.selection.getNode();&quot;false&quot;===t(r)&amp;&amp;r==n.target&amp;&amp;l()}),e.on(&quot;mouseup keyup&quot;,l),e.on(&quot;keydown&quot;,d)}function a(t){var n=l.length,r=t.content,a=tinymce.trim(o);if(&quot;raw&quot;!=t.format){for(;n--;)r=r.replace(l[n],function(t){var n=arguments,i=n[n.length-2];return i&gt;0&amp;&amp;&#039;&quot;&#039;==r.charAt(i-1)?t:&#039;&lt;span class=&quot;&#039;+a+&#039;&quot; data-mce-content=&quot;&#039;+e.dom.encode(n[0])+&#039;&quot;&gt;&#039;+e.dom.encode(&quot;string&quot;==typeof n[1]?n[1]:n[0])+&quot;&lt;/span&gt;&quot;});t.content=r}}var i,o,l,f=tinymce.dom.TreeWalker,d=&quot;contenteditable&quot;,u=&quot;data-mce-&quot;+d,c=tinymce.util.VK;i=&quot; &quot;+tinymce.trim(e.getParam(&quot;noneditable_editable_class&quot;,&quot;mceEditable&quot;))+&quot; &quot;,o=&quot; &quot;+tinymce.trim(e.getParam(&quot;noneditable_noneditable_class&quot;,&quot;mceNonEditable&quot;))+&quot; &quot;,l=e.getParam(&quot;noneditable_regexp&quot;),l&amp;&amp;!l.length&amp;&amp;(l=[l]),e.on(&quot;PreInit&quot;,function(){r(),l&amp;&amp;e.on(&quot;BeforeSetContent&quot;,a),e.parser.addAttributeFilter(&quot;class&quot;,function(e){for(var t,n,r=e.length;r--;)n=e[r],t=&quot; &quot;+n.attr(&quot;class&quot;)+&quot; &quot;,-1!==t.indexOf(i)?n.attr(u,&quot;true&quot;):-1!==t.indexOf(o)&amp;&amp;n.attr(u,&quot;false&quot;)}),e.serializer.addAttributeFilter(u,function(e){for(var t,n=e.length;n--;)t=e[n],l&amp;&amp;t.attr(&quot;data-mce-content&quot;)?(t.name=&quot;#text&quot;,t.type=3,t.raw=!0,t.value=t.attr(&quot;data-mce-content&quot;)):(t.attr(d,null),t.attr(u,null))}),e.parser.addAttributeFilter(d,function(e){for(var t,n=e.length;n--;)t=e[n],t.attr(u,t.attr(d)),t.attr(d,null)})}),e.on(&quot;drop&quot;,function(e){n(e.target)&amp;&amp;e.preventDefault()})});tinymce.PluginManager.add(&quot;pagebreak&quot;,function(e){var a=&quot;mce-pagebreak&quot;,t=e.getParam(&quot;pagebreak_separator&quot;,&quot;&lt;!-- pagebreak --&gt;&quot;),n=new RegExp(t.replace(/[\?\.\*\[\]\(\)\{\}\+\^\$\:]/g,function(e){return&quot;\\&quot;+e}),&quot;gi&quot;),r=&#039;&lt;img src=&quot;&#039;+tinymce.Env.transparentSrc+&#039;&quot; class=&quot;&#039;+a+&#039;&quot; data-mce-resize=&quot;false&quot; /&gt;&#039;;e.addCommand(&quot;mcePageBreak&quot;,function(){e.insertContent(e.settings.pagebreak_split_block?&quot;&lt;p&gt;&quot;+r+&quot;&lt;/p&gt;&quot;:r)}),e.addButton(&quot;pagebreak&quot;,{title:&quot;Page break&quot;,cmd:&quot;mcePageBreak&quot;}),e.addMenuItem(&quot;pagebreak&quot;,{text:&quot;Page break&quot;,icon:&quot;pagebreak&quot;,cmd:&quot;mcePageBreak&quot;,context:&quot;insert&quot;}),e.on(&quot;ResolveName&quot;,function(t){&quot;IMG&quot;==t.target.nodeName&amp;&amp;e.dom.hasClass(t.target,a)&amp;&amp;(t.name=&quot;pagebreak&quot;)}),e.on(&quot;click&quot;,function(t){t=t.target,&quot;IMG&quot;===t.nodeName&amp;&amp;e.dom.hasClass(t,a)&amp;&amp;e.selection.select(t)}),e.on(&quot;BeforeSetContent&quot;,function(e){e.content=e.content.replace(n,r)}),e.on(&quot;PreInit&quot;,function(){e.serializer.addNodeFilter(&quot;img&quot;,function(a){for(var n,r,c=a.length;c--;)if(n=a[c],r=n.attr(&quot;class&quot;),r&amp;&amp;-1!==r.indexOf(&quot;mce-pagebreak&quot;)){var o=n.parent;if(e.schema.getBlockElements()[o.name]&amp;&amp;e.settings.pagebreak_split_block){o.type=3,o.value=t,o.raw=!0,n.remove();continue}n.type=3,n.value=t,n.raw=!0}})})});!function(e,t){&quot;use strict&quot;;function n(e,t){for(var n,i=[],r=0;r&lt;e.length;++r){if(n=s[e[r]]||o(e[r]),!n)throw&quot;module definition dependecy not found: &quot;+e[r];i.push(n)}t.apply(null,i)}function i(e,i,r){if(&quot;string&quot;!=typeof e)throw&quot;invalid module definition, module id must be defined and be a string&quot;;if(i===t)throw&quot;invalid module definition, dependencies must be specified&quot;;if(r===t)throw&quot;invalid module definition, definition function must be specified&quot;;n(i,function(){s[e]=r.apply(null,arguments)})}function r(e){return!!s[e]}function o(t){for(var n=e,i=t.split(/[.\/]/),r=0;r&lt;i.length;++r){if(!n[i[r]])return;n=n[i[r]]}return n}function a(n){for(var i=0;i&lt;n.length;i++){for(var r=e,o=n[i],a=o.split(/[.\/]/),l=0;l&lt;a.length-1;++l)r[a[l]]===t&amp;&amp;(r[a[l]]={}),r=r[a[l]];r[a[a.length-1]]=s[o]}}var s={},l=&quot;tinymce/pasteplugin/Utils&quot;,c=&quot;tinymce/util/Tools&quot;,d=&quot;tinymce/html/DomParser&quot;,u=&quot;tinymce/html/Schema&quot;,f=&quot;tinymce/pasteplugin/Clipboard&quot;,m=&quot;tinymce/Env&quot;,p=&quot;tinymce/util/VK&quot;,g=&quot;tinymce/pasteplugin/WordFilter&quot;,h=&quot;tinymce/html/Serializer&quot;,v=&quot;tinymce/html/Node&quot;,b=&quot;tinymce/pasteplugin/Quirks&quot;,y=&quot;tinymce/pasteplugin/Plugin&quot;,x=&quot;tinymce/PluginManager&quot;;i(l,[c,d,u],function(e,t,n){function i(t,n){return e.each(n,function(e){t=e.constructor==RegExp?t.replace(e,&quot;&quot;):t.replace(e[0],e[1])}),t}function r(i){function r(e){var t=e.name,n=e;if(&quot;br&quot;===t)return void(s+=&quot;\n&quot;);if(l[t]&amp;&amp;(s+=&quot; &quot;),c[t])return void(s+=&quot; &quot;);if(3==e.type&amp;&amp;(s+=e.value),!e.shortEnded&amp;&amp;(e=e.firstChild))do r(e);while(e=e.next);d[t]&amp;&amp;n.next&amp;&amp;(s+=&quot;\n&quot;,&quot;p&quot;==t&amp;&amp;(s+=&quot;\n&quot;))}var o=new n,a=new t({},o),s=&quot;&quot;,l=o.getShortEndedElements(),c=e.makeMap(&quot;script noscript style textarea video audio iframe object&quot;,&quot; &quot;),d=o.getBlockElements();return r(a.parse(i)),s}return{filter:i,innerText:r}}),i(f,[m,p,l],function(e,t,n){return function(i){function r(e){var t,n=i.dom;if(t=i.fire(&quot;BeforePastePreProcess&quot;,{content:e}),t=i.fire(&quot;PastePreProcess&quot;,t),e=t.content,!t.isDefaultPrevented()){if(i.hasEventListeners(&quot;PastePostProcess&quot;)&amp;&amp;!t.isDefaultPrevented()){var r=n.add(i.getBody(),&quot;div&quot;,{style:&quot;display:none&quot;},e);t=i.fire(&quot;PastePostProcess&quot;,{node:r}),n.remove(r),e=t.node.innerHTML}t.isDefaultPrevented()||i.insertContent(e)}}function o(e){e=i.dom.encode(e).replace(/\r\n/g,&quot;\n&quot;);var t=i.dom.getParent(i.selection.getStart(),i.dom.isBlock),o=i.settings.forced_root_block,a;o&amp;&amp;(a=i.dom.createHTML(o,i.settings.forced_root_block_attrs),a=a.substr(0,a.length-3)+&quot;&gt;&quot;),t&amp;&amp;/^(PRE|DIV)$/.test(t.nodeName)||!o?e=n.filter(e,[[/\n/g,&quot;&lt;br&gt;&quot;]]):(e=n.filter(e,[[/\n\n/g,&quot;&lt;/p&gt;&quot;+a],[/^(.*&lt;\/p&gt;)(&lt;p&gt;)$/,a+&quot;$1&quot;],[/\n/g,&quot;&lt;br /&gt;&quot;]]),-1!=e.indexOf(&quot;&lt;p&gt;&quot;)&amp;&amp;(e=a+e)),r(e)}function a(){var t=i.dom,n=i.getBody(),r=i.dom.getViewPort(i.getWin()),o=r.y,a=20,s;if(v=i.selection.getRng(),i.inline&amp;&amp;(s=i.selection.getScrollContainer(),s&amp;&amp;s.scrollTop&gt;0&amp;&amp;(o=s.scrollTop)),v.getClientRects){var l=v.getClientRects();if(l.length)a=o+(l[0].top-t.getPos(n).y);else{a=o;var c=v.startContainer;c&amp;&amp;(3==c.nodeType&amp;&amp;c.parentNode!=n&amp;&amp;(c=c.parentNode),1==c.nodeType&amp;&amp;(a=t.getPos(c,s||n).y))}}h=t.add(i.getBody(),&quot;div&quot;,{id:&quot;mcepastebin&quot;,contentEditable:!0,&quot;data-mce-bogus&quot;:&quot;1&quot;,style:&quot;position: absolute; top: &quot;+a+&quot;px;width: 10px; height: 10px; overflow: hidden; opacity: 0&quot;},y),(e.ie||e.gecko)&amp;&amp;t.setStyle(h,&quot;left&quot;,&quot;rtl&quot;==t.getStyle(n,&quot;direction&quot;,!0)?65535:-65535),t.bind(h,&quot;beforedeactivate focusin focusout&quot;,function(e){e.stopPropagation()}),h.focus(),i.selection.select(h,!0)}function s(){if(h){for(var e;e=i.dom.get(&quot;mcepastebin&quot;);)i.dom.remove(e),i.dom.unbind(e);v&amp;&amp;i.selection.setRng(v)}x=!1,h=v=null}function l(){var e=y,t,n;for(t=i.dom.select(&quot;div[id=mcepastebin]&quot;),n=t.length;n--;){var r=t[n].innerHTML;e==y&amp;&amp;(e=&quot;&quot;),r.length&gt;e.length&amp;&amp;(e=r)}return e}function c(e){var t={};if(e&amp;&amp;e.types){var n=e.getData(&quot;Text&quot;);n&amp;&amp;n.length&gt;0&amp;&amp;(t[&quot;text/plain&quot;]=n);for(var i=0;i&lt;e.types.length;i++){var r=e.types[i];t[r]=e.getData(r)}}return t}function d(e){return c(e.clipboardData||i.getDoc().dataTransfer)}function u(e,t){function n(e){if(&quot;image/png&quot;==o[a].type){var t=new FileReader;return t.onload=function(){r(&#039;&lt;img src=&quot;&#039;+t.result+&#039;&quot;&gt;&#039;)},t.readAsDataURL(e.getAsFile()),!0}}if(!(!i.settings.paste_data_images||&quot;text/html&quot;in t||&quot;text/plain&quot;in t)&amp;&amp;e.clipboardData){var o=e.clipboardData.items;if(o)for(var a=0;a&lt;o.length;a++)if(n(o[a]))return!0}}function f(e){var t=i.getDoc(),n;if(t.caretPositionFromPoint){var r=t.caretPositionFromPoint(e.clientX,e.clientY);n=t.createRange(),n.setStart(r.offsetNode,r.offset),n.collapse(!0)}else t.caretRangeFromPoint&amp;&amp;(n=t.caretRangeFromPoint(e.clientX,e.clientY));return n}function m(e,t){return t in e&amp;&amp;e[t].length&gt;0}function p(){i.on(&quot;keydown&quot;,function(n){if(!n.isDefaultPrevented()&amp;&amp;(t.metaKeyPressed(n)&amp;&amp;86==n.keyCode||n.shiftKey&amp;&amp;45==n.keyCode)){if(x=n.shiftKey&amp;&amp;86==n.keyCode,n.stopImmediatePropagation(),b=(new Date).getTime(),e.ie&amp;&amp;x)return n.preventDefault(),void i.fire(&quot;paste&quot;,{ieFake:!0});s(),a()}}),i.on(&quot;paste&quot;,function(t){var c=d(t),f=(new Date).getTime()-b&lt;1e3,p=&quot;text&quot;==g.pasteFormat||x;return t.isDefaultPrevented()?void s():u(t,c)?void s():(f||t.preventDefault(),!e.ie||f&amp;&amp;!t.ieFake||(a(),i.dom.bind(h,&quot;paste&quot;,function(e){e.stopPropagation()}),i.getDoc().execCommand(&quot;Paste&quot;,!1,null),c[&quot;text/html&quot;]=l()),void setTimeout(function(){var e=l();return h&amp;&amp;h.firstChild&amp;&amp;&quot;mcepastebin&quot;===h.firstChild.id&amp;&amp;(p=!0),s(),!p&amp;&amp;f&amp;&amp;e&amp;&amp;e!=y&amp;&amp;(c[&quot;text/html&quot;]=e),e!=y&amp;&amp;f||(e=c[&quot;text/html&quot;]||c[&quot;text/plain&quot;]||y,e!=y)?(!m(c,&quot;text/html&quot;)&amp;&amp;m(c,&quot;text/plain&quot;)&amp;&amp;(p=!0),void(p?o(c[&quot;text/plain&quot;]||n.innerText(e)):r(e))):void(f||i.windowManager.alert(&quot;Please use Ctrl+V/Cmd+V keyboard shortcuts to paste contents.&quot;))},0))}),i.on(&quot;dragstart&quot;,function(e){if(e.dataTransfer.types)try{e.dataTransfer.setData(&quot;mce-internal&quot;,i.selection.getContent())}catch(t){}}),i.on(&quot;drop&quot;,function(e){var t=f(e);if(t&amp;&amp;!e.isDefaultPrevented()){var n=c(e.dataTransfer),a=n[&quot;mce-internal&quot;]||n[&quot;text/html&quot;]||n[&quot;text/plain&quot;];a&amp;&amp;(e.preventDefault(),i.undoManager.transact(function(){n[&quot;mce-internal&quot;]&amp;&amp;i.execCommand(&quot;Delete&quot;),i.selection.setRng(t),n[&quot;text/html&quot;]?r(a):o(a)}))}})}var g=this,h,v,b=0,y=&quot;%MCEPASTEBIN%&quot;,x;g.pasteHtml=r,g.pasteText=o,i.on(&quot;preInit&quot;,function(){p(),i.parser.addNodeFilter(&quot;img&quot;,function(t){if(!i.settings.paste_data_images)for(var n=t.length;n--;){var r=t[n].attributes.map.src;r&amp;&amp;0===r.indexOf(&quot;data:image&quot;)&amp;&amp;(t[n].attr(&quot;data-mce-object&quot;)||r===e.transparentSrc||t[n].remove())}})}),i.on(&quot;PreProcess&quot;,function(){i.dom.remove(i.dom.get(&quot;mcepastebin&quot;))})}}),i(g,[c,d,u,h,v,l],function(e,t,n,i,r,o){function a(e){return/&lt;font face=&quot;Times New Roman&quot;|class=&quot;?Mso|style=&quot;[^&quot;]*\bmso-|style=&#039;[^&#039;&#039;]*\bmso-|w:WordDocument/i.test(e)||/class=&quot;OutlineElement/.test(e)||/id=&quot;?docs\-internal\-guid\-/.test(e)}function s(s){var l=s.settings;s.on(&quot;BeforePastePreProcess&quot;,function(c){function d(e){function t(e,t,a,s){var l=e._listLevel||o;l!=o&amp;&amp;(o&gt;l?n&amp;&amp;(n=n.parent.parent):(i=n,n=null)),n&amp;&amp;n.name==a?n.append(e):(i=i||n,n=new r(a,1),s&gt;1&amp;&amp;n.attr(&quot;start&quot;,&quot;&quot;+s),e.wrap(n)),e.name=&quot;li&quot;,t.value=&quot;&quot;;var c=t.next;c&amp;&amp;3==c.type&amp;&amp;(c.value=c.value.replace(/^\u00a0+/,&quot;&quot;)),l&gt;o&amp;&amp;i&amp;&amp;i.lastChild.append(n),o=l}for(var n,i,o=1,a=e.getAll(&quot;p&quot;),s=0;s&lt;a.length;s++)if(e=a[s],&quot;p&quot;==e.name&amp;&amp;e.firstChild){for(var l=&quot;&quot;,c=e.firstChild;c&amp;&amp;!(l=c.value);)c=c.firstChild;if(/^\s*[\u2022\u00b7\u00a7\u00d8\u25CF]\s*$/.test(l)){t(e,c,&quot;ul&quot;);continue}if(/^\s*\w+\.$/.test(l)){var d=/([0-9])\./.exec(l),u=1;d&amp;&amp;(u=parseInt(d[1],10)),t(e,c,&quot;ol&quot;,u);continue}n=null}}function u(t,n){var i={},o=s.dom.parseStyle(n);if(&quot;p&quot;===t.name){var a=/mso-list:\w+ \w+([0-9]+)/.exec(n);a&amp;&amp;(t._listLevel=parseInt(a[1],10))}return e.each(o,function(e,n){switch(n){case&quot;horiz-align&quot;:n=&quot;text-align&quot;;break;case&quot;vert-align&quot;:n=&quot;vertical-align&quot;;break;case&quot;font-color&quot;:case&quot;mso-foreground&quot;:n=&quot;color&quot;;break;case&quot;mso-background&quot;:case&quot;mso-highlight&quot;:n=&quot;background&quot;;break;case&quot;font-weight&quot;:case&quot;font-style&quot;:return void(&quot;normal&quot;!=e&amp;&amp;(i[n]=e));case&quot;mso-element&quot;:if(/^(comment|comment-list)$/i.test(e))return void t.remove()}return 0===n.indexOf(&quot;mso-comment&quot;)?void t.remove():void(0!==n.indexOf(&quot;mso-&quot;)&amp;&amp;(&quot;all&quot;==m||p&amp;&amp;p[n])&amp;&amp;(i[n]=e))}),/(bold)/i.test(i[&quot;font-weight&quot;])&amp;&amp;(delete i[&quot;font-weight&quot;],t.wrap(new r(&quot;b&quot;,1))),/(italic)/i.test(i[&quot;font-style&quot;])&amp;&amp;(delete i[&quot;font-style&quot;],t.wrap(new r(&quot;i&quot;,1))),i=s.dom.serializeStyle(i,t.name),i?i:null}var f=c.content,m,p;if(m=l.paste_retain_style_properties,m&amp;&amp;(p=e.makeMap(m.split(/[, ]/))),l.paste_enable_default_filters!==!1&amp;&amp;a(c.content)){c.wordContent=!0,f=o.filter(f,[/&lt;!--[\s\S]+?--&gt;/gi,/&lt;(!|script[^&gt;]*&gt;.*?&lt;\/script(?=[&gt;\s])|\/?(\?xml(:\w+)?|img|meta|link|style|\w:\w+)(?=[\s\/&gt;]))[^&gt;]*&gt;/gi,[/&lt;(\/?)s&gt;/gi,&quot;&lt;$1strike&gt;&quot;],[/&amp;nbsp;/gi,&quot;\xa0&quot;],[/&lt;span\s+style\s*=\s*&quot;\s*mso-spacerun\s*:\s*yes\s*;?\s*&quot;\s*&gt;([\s\u00a0]*)&lt;\/span&gt;/gi,function(e,t){return t.length&gt;0?t.replace(/./,&quot; &quot;).slice(Math.floor(t.length/2)).split(&quot;&quot;).join(&quot;\xa0&quot;):&quot;&quot;}]]);var g=l.paste_word_valid_elements;g||(g=&quot;-strong/b,-em/i,-span,-p,-ol,-ul,-li,-h1,-h2,-h3,-h4,-h5,-h6,-p/div,-table[width],-tr,-td[colspan|rowspan|width],-th,-thead,-tfoot,-tbody,-a[href|name],sub,sup,strike,br,del&quot;);var h=new n({valid_elements:g,valid_children:&quot;-li[p]&quot;});e.each(h.elements,function(e){e.attributes[&quot;class&quot;]||(e.attributes[&quot;class&quot;]={},e.attributesOrder.push(&quot;class&quot;)),e.attributes.style||(e.attributes.style={},e.attributesOrder.push(&quot;style&quot;))});var v=new t({},h);v.addAttributeFilter(&quot;style&quot;,function(e){for(var t=e.length,n;t--;)n=e[t],n.attr(&quot;style&quot;,u(n,n.attr(&quot;style&quot;))),&quot;span&quot;==n.name&amp;&amp;n.parent&amp;&amp;!n.attributes.length&amp;&amp;n.unwrap()}),v.addAttributeFilter(&quot;class&quot;,function(e){for(var t=e.length,n,i;t--;)n=e[t],i=n.attr(&quot;class&quot;),/^(MsoCommentReference|MsoCommentText|msoDel)$/i.test(i)&amp;&amp;n.remove(),n.attr(&quot;class&quot;,null)}),v.addNodeFilter(&quot;del&quot;,function(e){for(var t=e.length;t--;)e[t].remove()}),v.addNodeFilter(&quot;a&quot;,function(e){for(var t=e.length,n,i,r;t--;)if(n=e[t],i=n.attr(&quot;href&quot;),r=n.attr(&quot;name&quot;),i&amp;&amp;-1!=i.indexOf(&quot;#_msocom_&quot;))n.remove();else if(i&amp;&amp;0===i.indexOf(&quot;file://&quot;)&amp;&amp;(i=i.split(&quot;#&quot;)[1],i&amp;&amp;(i=&quot;#&quot;+i)),i||r){if(r&amp;&amp;!/^_?(?:toc|edn|ftn)/i.test(r)){n.unwrap();continue}n.attr({href:i,name:r})}else n.unwrap()});var b=v.parse(f);d(b),c.content=new i({},h).serialize(b)}})}return s.isWordContent=a,s}),i(b,[m,c,g,l],function(e,t,n,i){return function(r){function o(e){r.on(&quot;BeforePastePreProcess&quot;,function(t){t.content=e(t.content)})}function a(e){return e=i.filter(e,[/^[\s\S]*&lt;body[^&gt;]*&gt;\s*&lt;!--StartFragment--&gt;|&lt;!--EndFragment--&gt;\s*&lt;\/body[^&gt;]*&gt;[\s\S]*$/g,/&lt;!--StartFragment--&gt;|&lt;!--EndFragment--&gt;/g,[/&lt;span class=&quot;Apple-converted-space&quot;&gt;\u00a0&lt;\/span&gt;/g,&quot;\xa0&quot;],/&lt;br&gt;$/i])}function s(e){if(!n.isWordContent(e))return e;var o=[];t.each(r.schema.getBlockElements(),function(e,t){o.push(t)});var a=new RegExp(&quot;(?:&lt;br&gt;&amp;nbsp;[\\s\\r\\n]+|&lt;br&gt;)*(&lt;\\/?(&quot;+o.join(&quot;|&quot;)+&quot;)[^&gt;]*&gt;)(?:&lt;br&gt;&amp;nbsp;[\\s\\r\\n]+|&lt;br&gt;)*&quot;,&quot;g&quot;);return e=i.filter(e,[[a,&quot;$1&quot;]]),e=i.filter(e,[[/&lt;br&gt;&lt;br&gt;/g,&quot;&lt;BR&gt;&lt;BR&gt;&quot;],[/&lt;br&gt;/g,&quot; &quot;],[/&lt;BR&gt;&lt;BR&gt;/g,&quot;&lt;br&gt;&quot;]])}function l(e){if(n.isWordContent(e))return e;var t=r.settings.paste_webkit_styles;if(r.settings.paste_remove_styles_if_webkit===!1||&quot;all&quot;==t)return e;if(t&amp;&amp;(t=t.split(/[, ]/)),t){var i=r.dom,o=r.selection.getNode();e=e.replace(/(&lt;[^&gt;]+) style=&quot;([^&quot;]*)&quot;([^&gt;]*&gt;)/gi,function(e,n,r,a){var s=i.parseStyle(r,&quot;span&quot;),l={};if(&quot;none&quot;===t)return n+a;for(var c=0;c&lt;t.length;c++){var d=s[t[c]],u=i.getStyle(o,t[c],!0);/color/.test(t[c])&amp;&amp;(d=i.toHex(d),u=i.toHex(u)),u!=d&amp;&amp;(l[t[c]]=d)}return l=i.serializeStyle(l,&quot;span&quot;),l?n+&#039; style=&quot;&#039;+l+&#039;&quot;&#039;+a:&quot;&quot;})}else e=e.replace(/(&lt;[^&gt;]+) style=&quot;([^&quot;]*)&quot;([^&gt;]*&gt;)/gi,&quot;$1$3&quot;);return e=e.replace(/(&lt;[^&gt;]+) data-mce-style=&quot;([^&quot;]+)&quot;([^&gt;]*&gt;)/gi,function(e,t,n,i){return t+&#039; style=&quot;&#039;+n+&#039;&quot;&#039;+i})}e.webkit&amp;&amp;(o(l),o(a)),e.ie&amp;&amp;o(s)}}),i(y,[x,f,g,b],function(e,t,n,i){var r;e.add(&quot;paste&quot;,function(e){function o(){&quot;text&quot;==s.pasteFormat?(this.active(!1),s.pasteFormat=&quot;html&quot;):(s.pasteFormat=&quot;text&quot;,this.active(!0),r||(e.windowManager.alert(&quot;Paste is now in plain text mode. Contents will now be pasted as plain text until you toggle this option off.&quot;),r=!0))}var a=this,s,l=e.settings;a.clipboard=s=new t(e),a.quirks=new i(e),a.wordFilter=new n(e),e.settings.paste_as_text&amp;&amp;(a.clipboard.pasteFormat=&quot;text&quot;),l.paste_preprocess&amp;&amp;e.on(&quot;PastePreProcess&quot;,function(e){l.paste_preprocess.call(a,a,e)}),l.paste_postprocess&amp;&amp;e.on(&quot;PastePostProcess&quot;,function(e){l.paste_postprocess.call(a,a,e)}),e.addCommand(&quot;mceInsertClipboardContent&quot;,function(e,t){t.content&amp;&amp;a.clipboard.pasteHtml(t.content),t.text&amp;&amp;a.clipboard.pasteText(t.text)}),e.paste_block_drop&amp;&amp;e.on(&quot;dragend dragover draggesture dragdrop drop drag&quot;,function(e){e.preventDefault(),e.stopPropagation()}),e.settings.paste_data_images||e.on(&quot;drop&quot;,function(e){var t=e.dataTransfer;t&amp;&amp;t.files&amp;&amp;t.files.length&gt;0&amp;&amp;e.preventDefault()}),e.addButton(&quot;pastetext&quot;,{icon:&quot;pastetext&quot;,tooltip:&quot;Paste as text&quot;,onclick:o,active:&quot;text&quot;==a.clipboard.pasteFormat}),e.addMenuItem(&quot;pastetext&quot;,{text:&quot;Paste as text&quot;,selectable:!0,active:s.pasteFormat,onclick:o})})}),a([l,f,g,b,y])}(this);tinymce.PluginManager.add(&quot;preview&quot;,function(e){var t=e.settings,i=!tinymce.Env.ie;e.addCommand(&quot;mcePreview&quot;,function(){e.windowManager.open({title:&quot;Preview&quot;,width:parseInt(e.getParam(&quot;plugin_preview_width&quot;,&quot;650&quot;),10),height:parseInt(e.getParam(&quot;plugin_preview_height&quot;,&quot;500&quot;),10),html:&#039;&lt;iframe src=&quot;javascript:\&#039;\&#039;&quot; frameborder=&quot;0&quot;&#039;+(i?&#039; sandbox=&quot;allow-scripts&quot;&#039;:&quot;&quot;)+&quot;&gt;&lt;/iframe&gt;&quot;,buttons:{text:&quot;Close&quot;,onclick:function(){this.parent().parent().close()}},onPostRender:function(){var n,a=&quot;&quot;;a+=&#039;&lt;base href=&quot;&#039;+e.documentBaseURI.getURI()+&#039;&quot;&gt;&#039;,tinymce.each(e.contentCSS,function(t){a+=&#039;&lt;link type=&quot;text/css&quot; rel=&quot;stylesheet&quot; href=&quot;&#039;+e.documentBaseURI.toAbsolute(t)+&#039;&quot;&gt;&#039;});var r=t.body_id||&quot;tinymce&quot;;-1!=r.indexOf(&quot;=&quot;)&amp;&amp;(r=e.getParam(&quot;body_id&quot;,&quot;&quot;,&quot;hash&quot;),r=r[e.id]||r);var d=t.body_class||&quot;&quot;;-1!=d.indexOf(&quot;=&quot;)&amp;&amp;(d=e.getParam(&quot;body_class&quot;,&quot;&quot;,&quot;hash&quot;),d=d[e.id]||&quot;&quot;);var o=e.settings.directionality?&#039; dir=&quot;&#039;+e.settings.directionality+&#039;&quot;&#039;:&quot;&quot;;if(n=&quot;&lt;!DOCTYPE html&gt;&lt;html&gt;&lt;head&gt;&quot;+a+&#039;&lt;/head&gt;&lt;body id=&quot;&#039;+r+&#039;&quot; class=&quot;mce-content-body &#039;+d+&#039;&quot;&#039;+o+&quot;&gt;&quot;+e.getContent()+&quot;&lt;/body&gt;&lt;/html&gt;&quot;,i)this.getEl(&quot;body&quot;).firstChild.src=&quot;data:text/html;charset=utf-8,&quot;+encodeURIComponent(n);else{var s=this.getEl(&quot;body&quot;).firstChild.contentWindow.document;s.open(),s.write(n),s.close()}}})}),e.addButton(&quot;preview&quot;,{title:&quot;Preview&quot;,cmd:&quot;mcePreview&quot;}),e.addMenuItem(&quot;preview&quot;,{text:&quot;Preview&quot;,cmd:&quot;mcePreview&quot;,context:&quot;view&quot;})});tinymce.PluginManager.add(&quot;print&quot;,function(t){t.addCommand(&quot;mcePrint&quot;,function(){t.getWin().print()}),t.addButton(&quot;print&quot;,{title:&quot;Print&quot;,cmd:&quot;mcePrint&quot;}),t.addShortcut(&quot;Ctrl+P&quot;,&quot;&quot;,&quot;mcePrint&quot;),t.addMenuItem(&quot;print&quot;,{text:&quot;Print&quot;,cmd:&quot;mcePrint&quot;,icon:&quot;print&quot;,shortcut:&quot;Ctrl+P&quot;,context:&quot;file&quot;})});tinymce.PluginManager.add(&quot;save&quot;,function(e){function a(){var a;return a=tinymce.DOM.getParent(e.id,&quot;form&quot;),!e.getParam(&quot;save_enablewhendirty&quot;,!0)||e.isDirty()?(tinymce.triggerSave(),e.getParam(&quot;save_onsavecallback&quot;)?void(e.execCallback(&quot;save_onsavecallback&quot;,e)&amp;&amp;(e.startContent=tinymce.trim(e.getContent({format:&quot;raw&quot;})),e.nodeChanged())):void(a?(e.isNotDirty=!0,(!a.onsubmit||a.onsubmit())&amp;&amp;(&quot;function&quot;==typeof a.submit?a.submit():e.windowManager.alert(&quot;Error: Form submit field collision.&quot;)),e.nodeChanged()):e.windowManager.alert(&quot;Error: No form element found.&quot;))):void 0}function n(){var a=tinymce.trim(e.startContent);return e.getParam(&quot;save_oncancelcallback&quot;)?void e.execCallback(&quot;save_oncancelcallback&quot;,e):(e.setContent(a),e.undoManager.clear(),void e.nodeChanged())}function t(){var a=this;e.on(&quot;nodeChange&quot;,function(){a.disabled(e.getParam(&quot;save_enablewhendirty&quot;,!0)&amp;&amp;!e.isDirty())})}e.addCommand(&quot;mceSave&quot;,a),e.addCommand(&quot;mceCancel&quot;,n),e.addButton(&quot;save&quot;,{icon:&quot;save&quot;,text:&quot;Save&quot;,cmd:&quot;mceSave&quot;,disabled:!0,onPostRender:t}),e.addButton(&quot;cancel&quot;,{text:&quot;Cancel&quot;,icon:!1,cmd:&quot;mceCancel&quot;,disabled:!0,onPostRender:t}),e.addShortcut(&quot;ctrl+s&quot;,&quot;&quot;,&quot;mceSave&quot;)});!function(){function e(e,t,n,a,r){function i(e,t){if(t=t||0,!e[0])throw&quot;findAndReplaceDOMText cannot handle zero-length matches&quot;;var n=e.index;if(t&gt;0){var a=e[t];if(!a)throw&quot;Invalid capture group&quot;;n+=e[0].indexOf(a),e[0]=a}return[n,n+e[0].length,[e[0]]]}function d(e){var t;if(3===e.nodeType)return e.data;if(h[e.nodeName]&amp;&amp;!u[e.nodeName])return&quot;&quot;;if(t=&quot;&quot;,(u[e.nodeName]||m[e.nodeName])&amp;&amp;(t+=&quot;\n&quot;),e=e.firstChild)do t+=d(e);while(e=e.nextSibling);return t}function o(e,t,n){var a,r,i,d,o=[],l=0,c=e,s=t.shift(),f=0;e:for(;;){if((u[c.nodeName]||m[c.nodeName])&amp;&amp;l++,3===c.nodeType&amp;&amp;(!r&amp;&amp;c.length+l&gt;=s[1]?(r=c,d=s[1]-l):a&amp;&amp;o.push(c),!a&amp;&amp;c.length+l&gt;s[0]&amp;&amp;(a=c,i=s[0]-l),l+=c.length),a&amp;&amp;r){if(c=n({startNode:a,startNodeIndex:i,endNode:r,endNodeIndex:d,innerNodes:o,match:s[2],matchIndex:f}),l-=r.length-d,a=null,r=null,o=[],s=t.shift(),f++,!s)break}else{if((!h[c.nodeName]||u[c.nodeName])&amp;&amp;c.firstChild){c=c.firstChild;continue}if(c.nextSibling){c=c.nextSibling;continue}}for(;;){if(c.nextSibling){c=c.nextSibling;break}if(c.parentNode===e)break e;c=c.parentNode}}}function l(e){var t;if(&quot;function&quot;!=typeof e){var n=e.nodeType?e:f.createElement(e);t=function(e,t){var a=n.cloneNode(!1);return a.setAttribute(&quot;data-mce-index&quot;,t),e&amp;&amp;a.appendChild(f.createTextNode(e)),a}}else t=e;return function(e){var n,a,r,i=e.startNode,d=e.endNode,o=e.matchIndex;if(i===d){var l=i;r=l.parentNode,e.startNodeIndex&gt;0&amp;&amp;(n=f.createTextNode(l.data.substring(0,e.startNodeIndex)),r.insertBefore(n,l));var c=t(e.match[0],o);return r.insertBefore(c,l),e.endNodeIndex&lt;l.length&amp;&amp;(a=f.createTextNode(l.data.substring(e.endNodeIndex)),r.insertBefore(a,l)),l.parentNode.removeChild(l),c}n=f.createTextNode(i.data.substring(0,e.startNodeIndex)),a=f.createTextNode(d.data.substring(e.endNodeIndex));for(var s=t(i.data.substring(e.startNodeIndex),o),u=[],h=0,m=e.innerNodes.length;m&gt;h;++h){var g=e.innerNodes[h],p=t(g.data,o);g.parentNode.replaceChild(p,g),u.push(p)}var x=t(d.data.substring(0,e.endNodeIndex),o);return r=i.parentNode,r.insertBefore(n,i),r.insertBefore(s,i),r.removeChild(i),r=d.parentNode,r.insertBefore(x,d),r.insertBefore(a,d),r.removeChild(d),x}}var c,s,f,u,h,m,g=[],p=0;if(f=t.ownerDocument,u=r.getBlockElements(),h=r.getWhiteSpaceElements(),m=r.getShortEndedElements(),s=d(t)){if(e.global)for(;c=e.exec(s);)g.push(i(c,a));else c=s.match(e),g.push(i(c,a));return g.length&amp;&amp;(p=g.length,o(t,g,l(n))),p}}function t(t){function n(){function e(){r.statusbar.find(&quot;#next&quot;).disabled(!d(s+1).length),r.statusbar.find(&quot;#prev&quot;).disabled(!d(s-1).length)}function n(){tinymce.ui.MessageBox.alert(&quot;Could not find the specified string.&quot;,function(){r.find(&quot;#find&quot;)[0].focus()})}var a={},r=tinymce.ui.Factory.create({type:&quot;window&quot;,layout:&quot;flex&quot;,pack:&quot;center&quot;,align:&quot;center&quot;,onClose:function(){t.focus(),c.done()},onSubmit:function(t){var i,o,l,f;return t.preventDefault(),o=r.find(&quot;#case&quot;).checked(),f=r.find(&quot;#words&quot;).checked(),l=r.find(&quot;#find&quot;).value(),l.length?a.text==l&amp;&amp;a.caseState==o&amp;&amp;a.wholeWord==f?0===d(s+1).length?void n():(c.next(),void e()):(i=c.find(l,o,f),i||n(),r.statusbar.items().slice(1).disabled(0===i),e(),void(a={text:l,caseState:o,wholeWord:f})):(c.done(!1),void r.statusbar.items().slice(1).disabled(!0))},buttons:[{text:&quot;Find&quot;,onclick:function(){r.submit()}},{text:&quot;Replace&quot;,disabled:!0,onclick:function(){c.replace(r.find(&quot;#replace&quot;).value())||(r.statusbar.items().slice(1).disabled(!0),s=-1,a={})}},{text:&quot;Replace all&quot;,disabled:!0,onclick:function(){c.replace(r.find(&quot;#replace&quot;).value(),!0,!0),r.statusbar.items().slice(1).disabled(!0),a={}}},{type:&quot;spacer&quot;,flex:1},{text:&quot;Prev&quot;,name:&quot;prev&quot;,disabled:!0,onclick:function(){c.prev(),e()}},{text:&quot;Next&quot;,name:&quot;next&quot;,disabled:!0,onclick:function(){c.next(),e()}}],title:&quot;Find and replace&quot;,items:{type:&quot;form&quot;,padding:20,labelGap:30,spacing:10,items:[{type:&quot;textbox&quot;,name:&quot;find&quot;,size:40,label:&quot;Find&quot;,value:t.selection.getNode().src},{type:&quot;textbox&quot;,name:&quot;replace&quot;,size:40,label:&quot;Replace with&quot;},{type:&quot;checkbox&quot;,name:&quot;case&quot;,text:&quot;Match case&quot;,label:&quot; &quot;},{type:&quot;checkbox&quot;,name:&quot;words&quot;,text:&quot;Whole words&quot;,label:&quot; &quot;}]}}).renderTo().reflow()}function a(e){var t=e.getAttribute(&quot;data-mce-index&quot;);return&quot;number&quot;==typeof t?&quot;&quot;+t:t}function r(n){var a,r;return r=t.dom.create(&quot;span&quot;,{&quot;data-mce-bogus&quot;:1}),r.className=&quot;mce-match-marker&quot;,a=t.getBody(),c.done(!1),e(n,a,r,!1,t.schema)}function i(e){var t=e.parentNode;e.firstChild&amp;&amp;t.insertBefore(e.firstChild,e),e.parentNode.removeChild(e)}function d(e){var n,r=[];if(n=tinymce.toArray(t.getBody().getElementsByTagName(&quot;span&quot;)),n.length)for(var i=0;i&lt;n.length;i++){var d=a(n[i]);null!==d&amp;&amp;d.length&amp;&amp;d===e.toString()&amp;&amp;r.push(n[i])}return r}function o(e){var n=s,a=t.dom;e=e!==!1,e?n++:n--,a.removeClass(d(s),&quot;mce-match-marker-selected&quot;);var r=d(n);return r.length?(a.addClass(d(n),&quot;mce-match-marker-selected&quot;),t.selection.scrollIntoView(r[0]),n):-1}function l(e){e.parentNode.removeChild(e)}var c=this,s=-1;c.init=function(e){e.addMenuItem(&quot;searchreplace&quot;,{text:&quot;Find and replace&quot;,shortcut:&quot;Ctrl+F&quot;,onclick:n,separator:&quot;before&quot;,context:&quot;edit&quot;}),e.addButton(&quot;searchreplace&quot;,{tooltip:&quot;Find and replace&quot;,shortcut:&quot;Ctrl+F&quot;,onclick:n}),e.addCommand(&quot;SearchReplace&quot;,n),e.shortcuts.add(&quot;Ctrl+F&quot;,&quot;&quot;,n)},c.find=function(e,t,n){e=e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,&quot;\\$&amp;&quot;),e=n?&quot;\\b&quot;+e+&quot;\\b&quot;:e;var a=r(new RegExp(e,t?&quot;g&quot;:&quot;gi&quot;));return a&amp;&amp;(s=-1,s=o(!0)),a},c.next=function(){var e=o(!0);-1!==e&amp;&amp;(s=e)},c.prev=function(){var e=o(!1);-1!==e&amp;&amp;(s=e)},c.replace=function(e,n,r){var o,f,u,h,m,g,p=s;for(n=n!==!1,u=t.getBody(),f=tinymce.toArray(u.getElementsByTagName(&quot;span&quot;)),o=0;o&lt;f.length;o++){var x=a(f[o]);if(null!==x&amp;&amp;x.length)if(h=m=parseInt(x,10),r||h===s){for(e.length?(f[o].firstChild.nodeValue=e,i(f[o])):l(f[o]);f[++o];)if(h=a(f[o]),null!==x&amp;&amp;x.length){if(h!==m){o--;break}l(f[o])}n&amp;&amp;p--}else m&gt;s&amp;&amp;f[o].setAttribute(&quot;data-mce-index&quot;,m-1)}return t.undoManager.add(),s=p,n?(g=d(p+1).length&gt;0,c.next()):(g=d(p-1).length&gt;0,c.prev()),!r&amp;&amp;g},c.done=function(e){var n,r,d,o;for(r=tinymce.toArray(t.getBody().getElementsByTagName(&quot;span&quot;)),n=0;n&lt;r.length;n++){var l=a(r[n]);null!==l&amp;&amp;l.length&amp;&amp;(l===s.toString()&amp;&amp;(d||(d=r[n].firstChild),o=r[n].firstChild),i(r[n]))}if(d&amp;&amp;o){var c=t.dom.createRng();return c.setStart(d,0),c.setEnd(o,o.data.length),e!==!1&amp;&amp;t.selection.setRng(c),c}}}tinymce.PluginManager.add(&quot;searchreplace&quot;,t)}();!function(e,t){&quot;use strict&quot;;function n(e,t){for(var n,o=[],r=0;r&lt;e.length;++r){if(n=l[e[r]]||i(e[r]),!n)throw&quot;module definition dependecy not found: &quot;+e[r];o.push(n)}t.apply(null,o)}function o(e,o,r){if(&quot;string&quot;!=typeof e)throw&quot;invalid module definition, module id must be defined and be a string&quot;;if(o===t)throw&quot;invalid module definition, dependencies must be specified&quot;;if(r===t)throw&quot;invalid module definition, definition function must be specified&quot;;n(o,function(){l[e]=r.apply(null,arguments)})}function r(e){return!!l[e]}function i(t){for(var n=e,o=t.split(/[.\/]/),r=0;r&lt;o.length;++r){if(!n[o[r]])return;n=n[o[r]]}return n}function a(n){for(var o=0;o&lt;n.length;o++){for(var r=e,i=n[o],a=i.split(/[.\/]/),s=0;s&lt;a.length-1;++s)r[a[s]]===t&amp;&amp;(r[a[s]]={}),r=r[a[s]];r[a[a.length-1]]=l[i]}}var l={},s=&quot;tinymce/spellcheckerplugin/DomTextMatcher&quot;,c=&quot;tinymce/spellcheckerplugin/Plugin&quot;,d=&quot;tinymce/PluginManager&quot;,u=&quot;tinymce/util/Tools&quot;,f=&quot;tinymce/ui/Menu&quot;,m=&quot;tinymce/dom/DOMUtils&quot;,p=&quot;tinymce/util/XHR&quot;,g=&quot;tinymce/util/URI&quot;,h=&quot;tinymce/util/JSON&quot;;o(s,[],function(){return function(e,t){function n(e,t){if(!e[0])throw&quot;findAndReplaceDOMText cannot handle zero-length matches&quot;;return{start:e.index,end:e.index+e[0].length,text:e[0],data:t}}function o(e){var t;if(3===e.nodeType)return e.data;if(P[e.nodeName]&amp;&amp;!S[e.nodeName])return&quot;&quot;;if(t=&quot;&quot;,(S[e.nodeName]||N[e.nodeName])&amp;&amp;(t+=&quot;\n&quot;),e=e.firstChild)do t+=o(e);while(e=e.nextSibling);return t}function r(e,t,n){var o,r,i,a,l=[],s=0,c=e,d,u=0;t=t.slice(0),t.sort(function(e,t){return e.start-t.start}),d=t.shift();e:for(;;){if((S[c.nodeName]||N[c.nodeName])&amp;&amp;s++,3===c.nodeType&amp;&amp;(!r&amp;&amp;c.length+s&gt;=d.end?(r=c,a=d.end-s):o&amp;&amp;l.push(c),!o&amp;&amp;c.length+s&gt;d.start&amp;&amp;(o=c,i=d.start-s),s+=c.length),o&amp;&amp;r){if(c=n({startNode:o,startNodeIndex:i,endNode:r,endNodeIndex:a,innerNodes:l,match:d.text,matchIndex:u}),s-=r.length-a,o=null,r=null,l=[],d=t.shift(),u++,!d)break}else{if((!P[c.nodeName]||S[c.nodeName])&amp;&amp;c.firstChild){c=c.firstChild;continue}if(c.nextSibling){c=c.nextSibling;continue}}for(;;){if(c.nextSibling){c=c.nextSibling;break}if(c.parentNode===e)break e;c=c.parentNode}}}function i(e){function t(t,n){var o=w[n];o.stencil||(o.stencil=e(o));var r=o.stencil.cloneNode(!1);return r.setAttribute(&quot;data-mce-index&quot;,n),t&amp;&amp;r.appendChild(k.doc.createTextNode(t)),r}return function(e){var n,o,r,i=e.startNode,a=e.endNode,l=e.matchIndex,s=k.doc;if(i===a){var c=i;r=c.parentNode,e.startNodeIndex&gt;0&amp;&amp;(n=s.createTextNode(c.data.substring(0,e.startNodeIndex)),r.insertBefore(n,c));var d=t(e.match,l);return r.insertBefore(d,c),e.endNodeIndex&lt;c.length&amp;&amp;(o=s.createTextNode(c.data.substring(e.endNodeIndex)),r.insertBefore(o,c)),c.parentNode.removeChild(c),d}n=s.createTextNode(i.data.substring(0,e.startNodeIndex)),o=s.createTextNode(a.data.substring(e.endNodeIndex));for(var u=t(i.data.substring(e.startNodeIndex),l),f=[],m=0,p=e.innerNodes.length;p&gt;m;++m){var g=e.innerNodes[m],h=t(g.data,l);g.parentNode.replaceChild(h,g),f.push(h)}var v=t(a.data.substring(0,e.endNodeIndex),l);return r=i.parentNode,r.insertBefore(n,i),r.insertBefore(u,i),r.removeChild(i),r=a.parentNode,r.insertBefore(v,a),r.insertBefore(o,a),r.removeChild(a),v}}function a(e){var t=e.parentNode;t.insertBefore(e.firstChild,e),e.parentNode.removeChild(e)}function l(t){var n=e.getElementsByTagName(&quot;*&quot;),o=[];t=&quot;number&quot;==typeof t?&quot;&quot;+t:null;for(var r=0;r&lt;n.length;r++){var i=n[r],a=i.getAttribute(&quot;data-mce-index&quot;);null!==a&amp;&amp;a.length&amp;&amp;(a===t||null===t)&amp;&amp;o.push(i)}return o}function s(e){for(var t=w.length;t--;)if(w[t]===e)return t;return-1}function c(e){var t=[];return d(function(n,o){e(n,o)&amp;&amp;t.push(n)}),w=t,this}function d(e){for(var t=0,n=w.length;n&gt;t&amp;&amp;e(w[t],t)!==!1;t++);return this}function u(t){return w.length&amp;&amp;r(e,w,i(t)),this}function f(e,t){if(C&amp;&amp;e.global)for(;x=e.exec(C);)w.push(n(x,t));return this}function m(e){var t,n=l(e?s(e):null);for(t=n.length;t--;)a(n[t]);return this}function p(e){return w[e.getAttribute(&quot;data-mce-index&quot;)]}function g(e){return l(s(e))[0]}function h(e,t,n){return w.push({start:e,end:e+t,text:C.substr(e,t),data:n}),this}function v(e){var n=l(s(e)),o=t.dom.createRng();return o.setStartBefore(n[0]),o.setEndAfter(n[n.length-1]),o}function b(e,n){var o=v(e);return o.deleteContents(),n.length&gt;0&amp;&amp;o.insertNode(t.dom.doc.createTextNode(n)),o}function y(){return w.splice(0,w.length),m(),this}var x,w=[],C,k=t.dom,S,P,N;return S=t.schema.getBlockElements(),P=t.schema.getWhiteSpaceElements(),N=t.schema.getShortEndedElements(),C=o(e),{text:C,matches:w,each:d,filter:c,reset:y,matchFromElement:p,elementFromMatch:g,find:f,add:h,wrap:u,unwrap:m,replace:b,rangeFromMatch:v,indexOf:s}}}),o(c,[s,d,u,f,m,p,g,h],function(e,t,n,o,r,i,a,l){t.add(&quot;spellchecker&quot;,function(t,s){function c(){return C.textMatcher||(C.textMatcher=new e(t.getBody(),t)),C.textMatcher}function d(e,t){var o=[];return n.each(t,function(e){o.push({selectable:!0,text:e.name,data:e.value})}),o}function u(e){for(var t in e)return!1;return!0}function f(e,i){var a=[],l=k[e];n.each(l,function(e){a.push({text:e,onclick:function(){t.insertContent(t.dom.encode(e)),t.dom.remove(i),g()}})}),a.push.apply(a,[{text:&quot;-&quot;},{text:&quot;Ignore&quot;,onclick:function(){h(e,i)}},{text:&quot;Ignore all&quot;,onclick:function(){h(e,i,!0)}},{text:&quot;Finish&quot;,onclick:v}]),P=new o({items:a,context:&quot;contextmenu&quot;,onautohide:function(e){-1!=e.target.className.indexOf(&quot;spellchecker&quot;)&amp;&amp;e.preventDefault()},onhide:function(){P.remove(),P=null}}),P.renderTo(document.body);var s=r.DOM.getPos(t.getContentAreaContainer()),c=t.dom.getPos(i[0]),d=t.dom.getRoot();&quot;BODY&quot;==d.nodeName?(c.x-=d.ownerDocument.documentElement.scrollLeft||d.scrollLeft,c.y-=d.ownerDocument.documentElement.scrollTop||d.scrollTop):(c.x-=d.scrollLeft,c.y-=d.scrollTop),s.x+=c.x,s.y+=c.y,P.moveTo(s.x,s.y+i[0].offsetHeight)}function m(){return t.getParam(&quot;spellchecker_wordchar_pattern&quot;)||new RegExp(&#039;[^\\s!&quot;#$%&amp;()*+,-./:;&lt;=&gt;?@[\\]^_{|}`\xa7\xa9\xab\xae\xb1\xb6\xb7\xb8\xbb\xbc\xbd\xbe\xbf\xd7\xf7\xa4\u201d\u201c\u201e]+&#039;,&quot;g&quot;)}function p(){function e(e){return t.setProgressState(!1),u(e)?(t.windowManager.alert(&quot;No misspellings found&quot;),void(S=!1)):(k=e,c().find(m()).filter(function(t){return!!e[t.text]}).wrap(function(e){return t.dom.create(&quot;span&quot;,{&quot;class&quot;:&quot;mce-spellchecker-word&quot;,&quot;data-mce-bogus&quot;:1,&quot;data-mce-word&quot;:e.text})}),void t.fire(&quot;SpellcheckStart&quot;))}function n(e){t.windowManager.alert(e),t.setProgressState(!1),v()}function o(e,t,o){i.send({url:new a(s).toAbsolute(N.spellchecker_rpc_url),type:&quot;post&quot;,content_type:&quot;application/x-www-form-urlencoded&quot;,data:&quot;text=&quot;+encodeURIComponent(t)+&quot;&amp;lang=&quot;+N.spellchecker_language,success:function(e){e=l.parse(e),e?e.error?n(e.error):o(e.words):n(&quot;Sever response wasn&#039;t proper JSON.&quot;)},error:function(e,t){n(&quot;Spellchecker request error: &quot;+t.status)}})}if(S)return void v();v(),S=!0,t.setProgressState(!0);var r=N.spellchecker_callback||o;r.call(C,&quot;spellcheck&quot;,c().text,e,n),t.focus()}function g(){t.dom.select(&quot;span.mce-spellchecker-word&quot;).length||v()}function h(e,o,r){t.selection.collapse(),r?n.each(t.dom.select(&quot;span.mce-spellchecker-word&quot;),function(n){n.getAttribute(&quot;data-mce-word&quot;)==e&amp;&amp;t.dom.remove(n,!0)}):t.dom.remove(o,!0),g()}function v(){c().reset(),C.textMatcher=null,S&amp;&amp;(S=!1,t.fire(&quot;SpellcheckEnd&quot;))}function b(e){var t=e.getAttribute(&quot;data-mce-index&quot;);return&quot;number&quot;==typeof t?&quot;&quot;+t:t}function y(e){var o,r=[];if(o=n.toArray(t.getBody().getElementsByTagName(&quot;span&quot;)),o.length)for(var i=0;i&lt;o.length;i++){var a=b(o[i]);null!==a&amp;&amp;a.length&amp;&amp;a===e.toString()&amp;&amp;r.push(o[i])}return r}function x(e){var t=N.spellchecker_language;e.control.items().each(function(e){e.active(e.settings.data===t)})}var w,C=this,k,S,P,N=t.settings,R=N.spellchecker_languages||&quot;English=en,Danish=da,Dutch=nl,Finnish=fi,French=fr_FR,German=de,Italian=it,Polish=pl,Portuguese=pt_BR,Spanish=es,Swedish=sv&quot;;w=d(&quot;Language&quot;,n.map(R.split(&quot;,&quot;),function(e){var t=e.split(&quot;=&quot;);return{name:t[0],value:t[1]}})),t.on(&quot;click&quot;,function(e){var n=e.target;if(&quot;mce-spellchecker-word&quot;==n.className){e.preventDefault();var o=y(b(n));if(o.length&gt;0){var r=t.dom.createRng();r.setStartBefore(o[0]),r.setEndAfter(o[o.length-1]),t.selection.setRng(r),f(n.getAttribute(&quot;data-mce-word&quot;),o)}}}),t.addMenuItem(&quot;spellchecker&quot;,{text:&quot;Spellcheck&quot;,context:&quot;tools&quot;,onclick:p,selectable:!0,onPostRender:function(){var e=this;t.on(&quot;SpellcheckStart SpellcheckEnd&quot;,function(){e.active(S)})}});var T={tooltip:&quot;Spellcheck&quot;,onclick:p,onPostRender:function(){var e=this;t.on(&quot;SpellcheckStart SpellcheckEnd&quot;,function(){e.active(S)})}};w.length&gt;1&amp;&amp;(T.type=&quot;splitbutton&quot;,T.menu=w,T.onshow=x,T.onselect=function(e){N.spellchecker_language=e.control.settings.data}),t.addButton(&quot;spellchecker&quot;,T),t.addCommand(&quot;mceSpellCheck&quot;,p),t.on(&quot;remove&quot;,function(){P&amp;&amp;(P.remove(),P=null)}),t.on(&quot;change&quot;,g),this.getTextMatcher=c,this.getWordCharPattern=m,this.getLanguage=function(){return N.spellchecker_language},N.spellchecker_language=N.spellchecker_language||N.language||&quot;en&quot;})}),a([s,c])}(this);tinymce.PluginManager.add(&quot;tabfocus&quot;,function(e){function n(e){9!==e.keyCode||e.ctrlKey||e.altKey||e.metaKey||e.preventDefault()}function t(n){function t(n){function t(e){return&quot;BODY&quot;===e.nodeName||&quot;hidden&quot;!=e.type&amp;&amp;&quot;none&quot;!=e.style.display&amp;&amp;&quot;hidden&quot;!=e.style.visibility&amp;&amp;t(e.parentNode)}function r(e){return e.tabIndex||&quot;INPUT&quot;==e.nodeName||&quot;TEXTAREA&quot;==e.nodeName}function c(e){return!r(e)&amp;&amp;&quot;-1&quot;!=e.getAttribute(&quot;tabindex&quot;)&amp;&amp;t(e)}if(u=i.select(&quot;:input:enabled,*[tabindex]:not(iframe)&quot;),o(u,function(n,t){return n.id==e.id?(a=t,!1):void 0}),n&gt;0){for(d=a+1;d&lt;u.length;d++)if(c(u[d]))return u[d]}else for(d=a-1;d&gt;=0;d--)if(c(u[d]))return u[d];return null}var a,u,c,d;if(!(9!==n.keyCode||n.ctrlKey||n.altKey||n.metaKey)&amp;&amp;(c=r(e.getParam(&quot;tab_focus&quot;,e.getParam(&quot;tabfocus_elements&quot;,&quot;:prev,:next&quot;))),1==c.length&amp;&amp;(c[1]=c[0],c[0]=&quot;:prev&quot;),u=n.shiftKey?&quot;:prev&quot;==c[0]?t(-1):i.get(c[0]):&quot;:next&quot;==c[1]?t(1):i.get(c[1]))){var y=tinymce.get(u.id||u.name);u.id&amp;&amp;y?y.focus():window.setTimeout(function(){tinymce.Env.webkit||window.focus(),u.focus()},10),n.preventDefault()}}var i=tinymce.DOM,o=tinymce.each,r=tinymce.explode;e.on(&quot;init&quot;,function(){e.inline&amp;&amp;tinymce.DOM.setAttrib(e.getBody(),&quot;tabIndex&quot;,null)}),e.on(&quot;keyup&quot;,n),tinymce.Env.gecko?e.on(&quot;keypress keydown&quot;,t):e.on(&quot;keydown&quot;,t)});!function(e,t){&quot;use strict&quot;;function n(e,t){for(var n,o=[],i=0;i&lt;e.length;++i){if(n=l[e[i]]||r(e[i]),!n)throw&quot;module definition dependecy not found: &quot;+e[i];o.push(n)}t.apply(null,o)}function o(e,o,i){if(&quot;string&quot;!=typeof e)throw&quot;invalid module definition, module id must be defined and be a string&quot;;if(o===t)throw&quot;invalid module definition, dependencies must be specified&quot;;if(i===t)throw&quot;invalid module definition, definition function must be specified&quot;;n(o,function(){l[e]=i.apply(null,arguments)})}function i(e){return!!l[e]}function r(t){for(var n=e,o=t.split(/[.\/]/),i=0;i&lt;o.length;++i){if(!n[o[i]])return;n=n[o[i]]}return n}function a(n){for(var o=0;o&lt;n.length;o++){for(var i=e,r=n[o],a=r.split(/[.\/]/),s=0;s&lt;a.length-1;++s)i[a[s]]===t&amp;&amp;(i[a[s]]={}),i=i[a[s]];i[a[a.length-1]]=l[r]}}var l={},s=&quot;tinymce/tableplugin/TableGrid&quot;,c=&quot;tinymce/util/Tools&quot;,d=&quot;tinymce/Env&quot;,u=&quot;tinymce/tableplugin/Quirks&quot;,f=&quot;tinymce/util/VK&quot;,m=&quot;tinymce/tableplugin/CellSelection&quot;,p=&quot;tinymce/dom/TreeWalker&quot;,g=&quot;tinymce/tableplugin/Plugin&quot;,h=&quot;tinymce/PluginManager&quot;;o(s,[c,d],function(e,n){function o(e,t){return parseInt(e.getAttribute(t)||1,10)}var i=e.each;return function(r,a){function l(){var e=0;A=[],i([&quot;thead&quot;,&quot;tbody&quot;,&quot;tfoot&quot;],function(t){var n=I.select(&quot;&gt; &quot;+t+&quot; tr&quot;,a);i(n,function(n,r){r+=e,i(I.select(&quot;&gt; td, &gt; th&quot;,n),function(e,n){var i,a,l,s;if(A[r])for(;A[r][n];)n++;for(l=o(e,&quot;rowspan&quot;),s=o(e,&quot;colspan&quot;),a=r;r+l&gt;a;a++)for(A[a]||(A[a]=[]),i=n;n+s&gt;i;i++)A[a][i]={part:t,real:a==r&amp;&amp;i==n,elm:e,rowspan:l,colspan:s}})}),e+=n.length})}function s(e,t){return e=e.cloneNode(t),e.removeAttribute(&quot;id&quot;),e}function c(e,t){var n;return n=A[t],n?n[e]:void 0}function d(e,t,n){e&amp;&amp;(n=parseInt(n,10),1===n?e.removeAttribute(t,1):e.setAttribute(t,n,1))}function u(e){return e&amp;&amp;(I.hasClass(e.elm,&quot;mce-item-selected&quot;)||e==M)}function f(){var e=[];return i(a.rows,function(t){i(t.cells,function(n){return I.hasClass(n,&quot;mce-item-selected&quot;)||M&amp;&amp;n==M.elm?(e.push(t),!1):void 0})}),e}function m(){var e=I.createRng();e.setStartAfter(a),e.setEndAfter(a),E.setRng(e),I.remove(a)}function p(t){var o,a={};return r.settings.table_clone_elements!==!1&amp;&amp;(a=e.makeMap((r.settings.table_clone_elements||&quot;strong em b i span font h1 h2 h3 h4 h5 h6 p div&quot;).toUpperCase(),/[ ,]/)),e.walk(t,function(e){var r;return 3==e.nodeType?(i(I.getParents(e.parentNode,null,t).reverse(),function(e){a[e.nodeName]&amp;&amp;(e=s(e,!1),o?r&amp;&amp;r.appendChild(e):o=r=e,r=e)}),r&amp;&amp;(r.innerHTML=n.ie?&quot;&amp;nbsp;&quot;:&#039;&lt;br data-mce-bogus=&quot;1&quot; /&gt;&#039;),!1):void 0},&quot;childNodes&quot;),t=s(t,!1),d(t,&quot;rowSpan&quot;,1),d(t,&quot;colSpan&quot;,1),o?t.appendChild(o):n.ie||(t.innerHTML=&#039;&lt;br data-mce-bogus=&quot;1&quot; /&gt;&#039;),t}function g(){var e=I.createRng(),t;return i(I.select(&quot;tr&quot;,a),function(e){0===e.cells.length&amp;&amp;I.remove(e)}),0===I.select(&quot;tr&quot;,a).length?(e.setStartBefore(a),e.setEndBefore(a),E.setRng(e),void I.remove(a)):(i(I.select(&quot;thead,tbody,tfoot&quot;,a),function(e){0===e.rows.length&amp;&amp;I.remove(e)}),l(),void(B&amp;&amp;(t=A[Math.min(A.length-1,B.y)],t&amp;&amp;(E.select(t[Math.min(t.length-1,B.x)].elm,!0),E.collapse(!0)))))}function h(e,t,n,o){var i,r,a,l,s;for(i=A[t][e].elm.parentNode,a=1;n&gt;=a;a++)if(i=I.getNext(i,&quot;tr&quot;)){for(r=e;r&gt;=0;r--)if(s=A[t+a][r].elm,s.parentNode==i){for(l=1;o&gt;=l;l++)I.insertAfter(p(s),s);break}if(-1==r)for(l=1;o&gt;=l;l++)i.insertBefore(p(i.cells[0]),i.cells[0])}}function v(){i(A,function(e,t){i(e,function(e,n){var i,r,a;if(u(e)&amp;&amp;(e=e.elm,i=o(e,&quot;colspan&quot;),r=o(e,&quot;rowspan&quot;),i&gt;1||r&gt;1)){for(d(e,&quot;rowSpan&quot;,1),d(e,&quot;colSpan&quot;,1),a=0;i-1&gt;a;a++)I.insertAfter(p(e),e);h(n,t,r-1,i)}})})}function b(t,n,o){var r,a,s,f,m,p,h,b,y,w,x;if(t?(r=T(t),a=r.x,s=r.y,f=a+(n-1),m=s+(o-1)):(B=D=null,i(A,function(e,t){i(e,function(e,n){u(e)&amp;&amp;(B||(B={x:n,y:t}),D={x:n,y:t})})}),B&amp;&amp;(a=B.x,s=B.y,f=D.x,m=D.y)),b=c(a,s),y=c(f,m),b&amp;&amp;y&amp;&amp;b.part==y.part){for(v(),l(),b=c(a,s).elm,d(b,&quot;colSpan&quot;,f-a+1),d(b,&quot;rowSpan&quot;,m-s+1),h=s;m&gt;=h;h++)for(p=a;f&gt;=p;p++)A[h]&amp;&amp;A[h][p]&amp;&amp;(t=A[h][p].elm,t!=b&amp;&amp;(w=e.grep(t.childNodes),i(w,function(e){b.appendChild(e)}),w.length&amp;&amp;(w=e.grep(b.childNodes),x=0,i(w,function(e){&quot;BR&quot;==e.nodeName&amp;&amp;I.getAttrib(e,&quot;data-mce-bogus&quot;)&amp;&amp;x++&lt;w.length-1&amp;&amp;b.removeChild(e)})),I.remove(t)));g()}}function y(e){var n,r,a,l,c,f,m,g,h;if(i(A,function(t,o){return i(t,function(t){return u(t)&amp;&amp;(t=t.elm,c=t.parentNode,f=s(c,!1),n=o,e)?!1:void 0}),e?!n:void 0}),n!==t){for(l=0;l&lt;A[0].length;l++)if(A[n][l]&amp;&amp;(r=A[n][l].elm,r!=a)){if(e){if(n&gt;0&amp;&amp;A[n-1][l]&amp;&amp;(g=A[n-1][l].elm,h=o(g,&quot;rowSpan&quot;),h&gt;1)){d(g,&quot;rowSpan&quot;,h+1);continue}}else if(h=o(r,&quot;rowspan&quot;),h&gt;1){d(r,&quot;rowSpan&quot;,h+1);continue}m=p(r),d(m,&quot;colSpan&quot;,r.colSpan),f.appendChild(m),a=r}f.hasChildNodes()&amp;&amp;(e?c.parentNode.insertBefore(f,c):I.insertAfter(f,c))}}function w(e){var t,n;i(A,function(n){return i(n,function(n,o){return u(n)&amp;&amp;(t=o,e)?!1:void 0}),e?!t:void 0}),i(A,function(i,r){var a,l,s;i[t]&amp;&amp;(a=i[t].elm,a!=n&amp;&amp;(s=o(a,&quot;colspan&quot;),l=o(a,&quot;rowspan&quot;),1==s?e?(a.parentNode.insertBefore(p(a),a),h(t,r,l-1,s)):(I.insertAfter(p(a),a),h(t,r,l-1,s)):d(a,&quot;colSpan&quot;,a.colSpan+1),n=a))})}function x(){var t=[];i(A,function(n){i(n,function(n,r){u(n)&amp;&amp;-1===e.inArray(t,r)&amp;&amp;(i(A,function(e){var t=e[r].elm,n;n=o(t,&quot;colSpan&quot;),n&gt;1?d(t,&quot;colSpan&quot;,n-1):I.remove(t)}),t.push(r))})}),g()}function C(){function e(e){var t,n,r;t=I.getNext(e,&quot;tr&quot;),i(e.cells,function(e){var t=o(e,&quot;rowSpan&quot;);t&gt;1&amp;&amp;(d(e,&quot;rowSpan&quot;,t-1),n=T(e),h(n.x,n.y,1,1))}),n=T(e.cells[0]),i(A[n.y],function(e){var t;e=e.elm,e!=r&amp;&amp;(t=o(e,&quot;rowSpan&quot;),1&gt;=t?I.remove(e):d(e,&quot;rowSpan&quot;,t-1),r=e)})}var t;t=f(),i(t.reverse(),function(t){e(t)}),g()}function P(){var e=f();return I.remove(e),g(),e}function S(){var e=f();return i(e,function(t,n){e[n]=s(t,!0)}),e}function R(e,t){var n=f(),o=n[t?0:n.length-1],r=o.cells.length;e&amp;&amp;(i(A,function(e){var t;return r=0,i(e,function(e){e.real&amp;&amp;(r+=e.colspan),e.elm.parentNode==o&amp;&amp;(t=1)}),t?!1:void 0}),t||e.reverse(),i(e,function(e){var n,i=e.cells.length,a;for(n=0;i&gt;n;n++)a=e.cells[n],d(a,&quot;colSpan&quot;,1),d(a,&quot;rowSpan&quot;,1);for(n=i;r&gt;n;n++)e.appendChild(p(e.cells[i-1]));for(n=r;i&gt;n;n++)I.remove(e.cells[n]);t?o.parentNode.insertBefore(e,o):I.insertAfter(e,o)}),I.removeClass(I.select(&quot;td.mce-item-selected,th.mce-item-selected&quot;),&quot;mce-item-selected&quot;))}function T(e){var t;return i(A,function(n,o){return i(n,function(n,i){return n.elm==e?(t={x:i,y:o},!1):void 0}),!t}),t}function k(e){B=T(e)}function N(){var e,t;return e=t=0,i(A,function(n,o){i(n,function(n,i){var r,a;u(n)&amp;&amp;(n=A[o][i],i&gt;e&amp;&amp;(e=i),o&gt;t&amp;&amp;(t=o),n.real&amp;&amp;(r=n.colspan-1,a=n.rowspan-1,r&amp;&amp;i+r&gt;e&amp;&amp;(e=i+r),a&amp;&amp;o+a&gt;t&amp;&amp;(t=o+a)))})}),{x:e,y:t}}function _(e){var t,n,o,i,r,a,l,s,c,d;if(D=T(e),B&amp;&amp;D){for(t=Math.min(B.x,D.x),n=Math.min(B.y,D.y),o=Math.max(B.x,D.x),i=Math.max(B.y,D.y),r=o,a=i,d=n;a&gt;=d;d++)e=A[d][t],e.real||t-(e.colspan-1)&lt;t&amp;&amp;(t-=e.colspan-1);for(c=t;r&gt;=c;c++)e=A[n][c],e.real||n-(e.rowspan-1)&lt;n&amp;&amp;(n-=e.rowspan-1);for(d=n;i&gt;=d;d++)for(c=t;o&gt;=c;c++)e=A[d][c],e.real&amp;&amp;(l=e.colspan-1,s=e.rowspan-1,l&amp;&amp;c+l&gt;r&amp;&amp;(r=c+l),s&amp;&amp;d+s&gt;a&amp;&amp;(a=d+s));for(I.removeClass(I.select(&quot;td.mce-item-selected,th.mce-item-selected&quot;),&quot;mce-item-selected&quot;),d=n;a&gt;=d;d++)for(c=t;r&gt;=c;c++)A[d][c]&amp;&amp;I.addClass(A[d][c].elm,&quot;mce-item-selected&quot;)}}var A,B,D,M,E=r.selection,I=E.dom;a=a||I.getParent(E.getStart(),&quot;table&quot;),l(),M=I.getParent(E.getStart(),&quot;th,td&quot;),M&amp;&amp;(B=T(M),D=N(),M=c(B.x,B.y)),e.extend(this,{deleteTable:m,split:v,merge:b,insertRow:y,insertCol:w,deleteCols:x,deleteRows:C,cutRows:P,copyRows:S,pasteRows:R,getPos:T,setStartCell:k,setEndCell:_})}}),o(u,[f,d,c],function(e,t,n){function o(e,t){return parseInt(e.getAttribute(t)||1,10)}var i=n.each;return function(n){function r(){function t(t){function r(e,o){var i=e?&quot;previousSibling&quot;:&quot;nextSibling&quot;,r=n.dom.getParent(o,&quot;tr&quot;),l=r[i];if(l)return h(n,o,l,e),t.preventDefault(),!0;var d=n.dom.getParent(r,&quot;table&quot;),u=r.parentNode,f=u.nodeName.toLowerCase();if(&quot;tbody&quot;===f||f===(e?&quot;tfoot&quot;:&quot;thead&quot;)){var m=a(e,d,u,&quot;tbody&quot;);if(null!==m)return s(e,m,o)}return c(e,r,i,d)}function a(e,t,o,i){var r=n.dom.select(&quot;&gt;&quot;+i,t),a=r.indexOf(o);if(e&amp;&amp;0===a||!e&amp;&amp;a===r.length-1)return l(e,t);if(-1===a){var s=&quot;thead&quot;===o.tagName.toLowerCase()?0:r.length-1;return r[s]}return r[a+(e?-1:1)]}function l(e,t){var o=e?&quot;thead&quot;:&quot;tfoot&quot;,i=n.dom.select(&quot;&gt;&quot;+o,t);return 0!==i.length?i[0]:null}function s(e,o,i){var r=d(o,e);return r&amp;&amp;h(n,i,r,e),t.preventDefault(),!0}function c(e,o,i,a){var l=a[i];if(l)return u(l),!0;var s=n.dom.getParent(a,&quot;td,th&quot;);if(s)return r(e,s,t);var c=d(o,!e);return u(c),t.preventDefault(),!1}function d(e,t){var o=e&amp;&amp;e[t?&quot;lastChild&quot;:&quot;firstChild&quot;];return o&amp;&amp;&quot;BR&quot;===o.nodeName?n.dom.getParent(o,&quot;td,th&quot;):o}function u(e){n.selection.setCursorLocation(e,0)}function f(){return y==e.UP||y==e.DOWN}function m(e){var t=e.selection.getNode(),n=e.dom.getParent(t,&quot;tr&quot;);return null!==n}function p(e){for(var t=0,n=e;n.previousSibling;)n=n.previousSibling,t+=o(n,&quot;colspan&quot;);return t}function g(e,t){var n=0,r=0;return i(e.children,function(e,i){return n+=o(e,&quot;colspan&quot;),r=i,n&gt;t?!1:void 0}),r}function h(e,t,o,i){var r=p(n.dom.getParent(t,&quot;td,th&quot;)),a=g(o,r),l=o.childNodes[a],s=d(l,i);u(s||l)}function v(e){var t=n.selection.getNode(),o=n.dom.getParent(t,&quot;td,th&quot;),i=n.dom.getParent(e,&quot;td,th&quot;);return o&amp;&amp;o!==i&amp;&amp;b(o,i)}function b(e,t){return n.dom.getParent(e,&quot;TABLE&quot;)===n.dom.getParent(t,&quot;TABLE&quot;)}var y=t.keyCode;if(f()&amp;&amp;m(n)){var w=n.selection.getNode();setTimeout(function(){v(w)&amp;&amp;r(!t.shiftKey&amp;&amp;y===e.UP,w,t)},0)}}n.on(&quot;KeyDown&quot;,function(e){t(e)})}function a(){function e(e,t){var n=t.ownerDocument,o=n.createRange(),i;return o.setStartBefore(t),o.setEnd(e.endContainer,e.endOffset),i=n.createElement(&quot;body&quot;),i.appendChild(o.cloneContents()),0===i.innerHTML.replace(/&lt;(br|img|object|embed|input|textarea)[^&gt;]*&gt;/gi,&quot;-&quot;).replace(/&lt;[^&gt;]+&gt;/g,&quot;&quot;).length}n.on(&quot;KeyDown&quot;,function(t){var o,i,r=n.dom;(37==t.keyCode||38==t.keyCode)&amp;&amp;(o=n.selection.getRng(),i=r.getParent(o.startContainer,&quot;table&quot;),i&amp;&amp;n.getBody().firstChild==i&amp;&amp;e(o,i)&amp;&amp;(o=r.createRng(),o.setStartBefore(i),o.setEndBefore(i),n.selection.setRng(o),t.preventDefault()))})}function l(){n.on(&quot;KeyDown SetContent VisualAid&quot;,function(){var e;for(e=n.getBody().lastChild;e;e=e.previousSibling)if(3==e.nodeType){if(e.nodeValue.length&gt;0)break}else if(1==e.nodeType&amp;&amp;!e.getAttribute(&quot;data-mce-bogus&quot;))break;e&amp;&amp;&quot;TABLE&quot;==e.nodeName&amp;&amp;(n.settings.forced_root_block?n.dom.add(n.getBody(),n.settings.forced_root_block,n.settings.forced_root_block_attrs,t.ie&amp;&amp;t.ie&lt;11?&quot;&amp;nbsp;&quot;:&#039;&lt;br data-mce-bogus=&quot;1&quot; /&gt;&#039;):n.dom.add(n.getBody(),&quot;br&quot;,{&quot;data-mce-bogus&quot;:&quot;1&quot;}))}),n.on(&quot;PreProcess&quot;,function(e){var t=e.node.lastChild;t&amp;&amp;(&quot;BR&quot;==t.nodeName||1==t.childNodes.length&amp;&amp;(&quot;BR&quot;==t.firstChild.nodeName||&quot;\xa0&quot;==t.firstChild.nodeValue))&amp;&amp;t.previousSibling&amp;&amp;&quot;TABLE&quot;==t.previousSibling.nodeName&amp;&amp;n.dom.remove(t)})}function s(){function e(e,t,n,o){var i=3,r=e.dom.getParent(t.startContainer,&quot;TABLE&quot;),a,l,s;return r&amp;&amp;(a=r.parentNode),l=t.startContainer.nodeType==i&amp;&amp;0===t.startOffset&amp;&amp;0===t.endOffset&amp;&amp;o&amp;&amp;(&quot;TR&quot;==n.nodeName||n==a),s=(&quot;TD&quot;==n.nodeName||&quot;TH&quot;==n.nodeName)&amp;&amp;!o,l||s}function t(){var t=n.selection.getRng(),o=n.selection.getNode(),i=n.dom.getParent(t.startContainer,&quot;TD,TH&quot;);if(e(n,t,o,i)){i||(i=o);for(var r=i.lastChild;r.lastChild;)r=r.lastChild;t.setEnd(r,r.nodeValue.length),n.selection.setRng(t)}}n.on(&quot;KeyDown&quot;,function(){t()}),n.on(&quot;MouseDown&quot;,function(e){2!=e.button&amp;&amp;t()})}function c(){n.on(&quot;keydown&quot;,function(t){if((t.keyCode==e.DELETE||t.keyCode==e.BACKSPACE)&amp;&amp;!t.isDefaultPrevented()){var o=n.dom.getParent(n.selection.getStart(),&quot;table&quot;);if(o){for(var i=n.dom.select(&quot;td,th&quot;,o),r=i.length;r--;)if(!n.dom.hasClass(i[r],&quot;mce-item-selected&quot;))return;t.preventDefault(),n.execCommand(&quot;mceTableDelete&quot;)}}})}c(),t.webkit&amp;&amp;(r(),s()),t.gecko&amp;&amp;(a(),l()),t.ie&gt;10&amp;&amp;(a(),l())}}),o(m,[s,p,c],function(e,t,n){return function(o){function i(){o.getBody().style.webkitUserSelect=&quot;&quot;,d&amp;&amp;(o.dom.removeClass(o.dom.select(&quot;td.mce-item-selected,th.mce-item-selected&quot;),&quot;mce-item-selected&quot;),d=!1)}function r(t){var n,i,r=t.target;if(s&amp;&amp;(l||r!=s)&amp;&amp;(&quot;TD&quot;==r.nodeName||&quot;TH&quot;==r.nodeName)){i=a.getParent(r,&quot;table&quot;),i==c&amp;&amp;(l||(l=new e(o,i),l.setStartCell(s),o.getBody().style.webkitUserSelect=&quot;none&quot;),l.setEndCell(r),d=!0),n=o.selection.getSel();try{n.removeAllRanges?n.removeAllRanges():n.empty()}catch(u){}t.preventDefault()}}var a=o.dom,l,s,c,d=!0;return o.on(&quot;MouseDown&quot;,function(e){2!=e.button&amp;&amp;(i(),s=a.getParent(e.target,&quot;td,th&quot;),c=a.getParent(s,&quot;table&quot;))}),o.on(&quot;mouseover&quot;,r),o.on(&quot;remove&quot;,function(){a.unbind(o.getDoc(),&quot;mouseover&quot;,r)}),o.on(&quot;MouseUp&quot;,function(){function e(e,o){var r=new t(e,e);do{if(3==e.nodeType&amp;&amp;0!==n.trim(e.nodeValue).length)return void(o?i.setStart(e,0):i.setEnd(e,e.nodeValue.length));if(&quot;BR&quot;==e.nodeName)return void(o?i.setStartBefore(e):i.setEndBefore(e))}while(e=o?r.next():r.prev())}var i,r=o.selection,d,u,f,m,p;if(s){if(l&amp;&amp;(o.getBody().style.webkitUserSelect=&quot;&quot;),d=a.select(&quot;td.mce-item-selected,th.mce-item-selected&quot;),d.length&gt;0){i=a.createRng(),f=d[0],p=d[d.length-1],i.setStartBefore(f),i.setEndAfter(f),e(f,1),u=new t(f,a.getParent(d[0],&quot;table&quot;));do if(&quot;TD&quot;==f.nodeName||&quot;TH&quot;==f.nodeName){if(!a.hasClass(f,&quot;mce-item-selected&quot;))break;m=f}while(f=u.next());e(m),r.setRng(i)}o.nodeChanged(),s=l=c=null}}),o.on(&quot;KeyUp Drop&quot;,function(){i(),s=l=c=null}),{clear:i}}}),o(g,[s,u,m,c,p,d,h],function(e,t,n,o,i,r,a){function l(o){function i(e){return e?e.replace(/px$/,&quot;&quot;):&quot;&quot;}function a(e){return/^[0-9]+$/.test(e)&amp;&amp;(e+=&quot;px&quot;),e}function l(e){s(&quot;left center right&quot;.split(&quot; &quot;),function(t){o.formatter.remove(&quot;align&quot;+t,{},e)})}function c(e){s(&quot;top middle bottom&quot;.split(&quot; &quot;),function(t){o.formatter.remove(&quot;valign&quot;+t,{},e)})}function d(){var e=o.dom,t,n,c,d;t=e.getParent(o.selection.getStart(),&quot;table&quot;),d={width:i(e.getStyle(t,&quot;width&quot;)||e.getAttrib(t,&quot;width&quot;)),height:i(e.getStyle(t,&quot;height&quot;)||e.getAttrib(t,&quot;height&quot;)),cellspacing:t?e.getAttrib(t,&quot;cellspacing&quot;):&quot;&quot;,cellpadding:t?e.getAttrib(t,&quot;cellpadding&quot;):&quot;&quot;,border:t?e.getAttrib(t,&quot;border&quot;):&quot;&quot;,caption:!!e.select(&quot;caption&quot;,t)[0]},s(&quot;left center right&quot;.split(&quot; &quot;),function(e){o.formatter.matchNode(t,&quot;align&quot;+e)&amp;&amp;(d.align=e)}),t||(n={label:&quot;Cols&quot;,name:&quot;cols&quot;},c={label:&quot;Rows&quot;,name:&quot;rows&quot;}),o.windowManager.open({title:&quot;Table properties&quot;,items:{type:&quot;form&quot;,layout:&quot;grid&quot;,columns:2,data:d,defaults:{type:&quot;textbox&quot;,maxWidth:50},items:[n,c,{label:&quot;Width&quot;,name:&quot;width&quot;},{label:&quot;Height&quot;,name:&quot;height&quot;},{label:&quot;Cell spacing&quot;,name:&quot;cellspacing&quot;},{label:&quot;Cell padding&quot;,name:&quot;cellpadding&quot;},{label:&quot;Border&quot;,name:&quot;border&quot;},{label:&quot;Caption&quot;,name:&quot;caption&quot;,type:&quot;checkbox&quot;},{label:&quot;Alignment&quot;,minWidth:90,name:&quot;align&quot;,type:&quot;listbox&quot;,text:&quot;None&quot;,maxWidth:null,values:[{text:&quot;None&quot;,value:&quot;&quot;},{text:&quot;Left&quot;,value:&quot;left&quot;},{text:&quot;Center&quot;,value:&quot;center&quot;},{text:&quot;Right&quot;,value:&quot;right&quot;}]}]},onsubmit:function(){var n=this.toJSON(),i;o.undoManager.transact(function(){t||(t=g(n.cols||1,n.rows||1)),o.dom.setAttribs(t,{cellspacing:n.cellspacing,cellpadding:n.cellpadding,border:n.border}),o.dom.setStyles(t,{width:a(n.width),height:a(n.height)}),i=e.select(&quot;caption&quot;,t)[0],i&amp;&amp;!n.caption&amp;&amp;e.remove(i),!i&amp;&amp;n.caption&amp;&amp;(i=e.create(&quot;caption&quot;),i.innerHTML=r.ie?&quot;\xa0&quot;:&#039;&lt;br data-mce-bogus=&quot;1&quot;/&gt;&#039;,t.insertBefore(i,t.firstChild)),l(t),n.align&amp;&amp;o.formatter.apply(&quot;align&quot;+n.align,{},t),o.focus(),o.addVisual()})}})}function u(e,t){o.windowManager.open({title:&quot;Merge cells&quot;,body:[{label:&quot;Cols&quot;,name:&quot;cols&quot;,type:&quot;textbox&quot;,size:10},{label:&quot;Rows&quot;,name:&quot;rows&quot;,type:&quot;textbox&quot;,size:10}],onsubmit:function(){var n=this.toJSON();o.undoManager.transact(function(){e.merge(t,n.cols,n.rows)})}})}function f(){var e=o.dom,t,n,r=[];r=o.dom.select(&quot;td.mce-item-selected,th.mce-item-selected&quot;),t=o.dom.getParent(o.selection.getStart(),&quot;td,th&quot;),!r.length&amp;&amp;t&amp;&amp;r.push(t),t=t||r[0],t&amp;&amp;(n={width:i(e.getStyle(t,&quot;width&quot;)||e.getAttrib(t,&quot;width&quot;)),height:i(e.getStyle(t,&quot;height&quot;)||e.getAttrib(t,&quot;height&quot;)),scope:e.getAttrib(t,&quot;scope&quot;)},n.type=t.nodeName.toLowerCase(),s(&quot;left center right&quot;.split(&quot; &quot;),function(e){o.formatter.matchNode(t,&quot;align&quot;+e)&amp;&amp;(n.align=e)}),s(&quot;top middle bottom&quot;.split(&quot; &quot;),function(e){o.formatter.matchNode(t,&quot;valign&quot;+e)&amp;&amp;(n.valign=e)}),o.windowManager.open({title:&quot;Cell properties&quot;,items:{type:&quot;form&quot;,data:n,layout:&quot;grid&quot;,columns:2,defaults:{type:&quot;textbox&quot;,maxWidth:50},items:[{label:&quot;Width&quot;,name:&quot;width&quot;},{label:&quot;Height&quot;,name:&quot;height&quot;},{label:&quot;Cell type&quot;,name:&quot;type&quot;,type:&quot;listbox&quot;,text:&quot;None&quot;,minWidth:90,maxWidth:null,values:[{text:&quot;Cell&quot;,value:&quot;td&quot;},{text:&quot;Header cell&quot;,value:&quot;th&quot;}]},{label:&quot;Scope&quot;,name:&quot;scope&quot;,type:&quot;listbox&quot;,text:&quot;None&quot;,minWidth:90,maxWidth:null,values:[{text:&quot;None&quot;,value:&quot;&quot;},{text:&quot;Row&quot;,value:&quot;row&quot;},{text:&quot;Column&quot;,value:&quot;col&quot;},{text:&quot;Row group&quot;,value:&quot;rowgroup&quot;},{text:&quot;Column group&quot;,value:&quot;colgroup&quot;}]},{label:&quot;H Align&quot;,name:&quot;align&quot;,type:&quot;listbox&quot;,text:&quot;None&quot;,minWidth:90,maxWidth:null,values:[{text:&quot;None&quot;,value:&quot;&quot;},{text:&quot;Left&quot;,value:&quot;left&quot;},{text:&quot;Center&quot;,value:&quot;center&quot;},{text:&quot;Right&quot;,value:&quot;right&quot;}]},{label:&quot;V Align&quot;,name:&quot;valign&quot;,type:&quot;listbox&quot;,text:&quot;None&quot;,minWidth:90,maxWidth:null,values:[{text:&quot;None&quot;,value:&quot;&quot;},{text:&quot;Top&quot;,value:&quot;top&quot;},{text:&quot;Middle&quot;,value:&quot;middle&quot;},{text:&quot;Bottom&quot;,value:&quot;bottom&quot;}]}]},onsubmit:function(){var t=this.toJSON();o.undoManager.transact(function(){s(r,function(n){o.dom.setAttrib(n,&quot;scope&quot;,t.scope),o.dom.setStyles(n,{width:a(t.width),height:a(t.height)}),t.type&amp;&amp;n.nodeName.toLowerCase()!=t.type&amp;&amp;(n=e.rename(n,t.type)),l(n),t.align&amp;&amp;o.formatter.apply(&quot;align&quot;+t.align,{},n),c(n),t.valign&amp;&amp;o.formatter.apply(&quot;valign&quot;+t.valign,{},n)}),o.focus()})}}))}function m(){var e=o.dom,t,n,r,c,d=[];t=o.dom.getParent(o.selection.getStart(),&quot;table&quot;),n=o.dom.getParent(o.selection.getStart(),&quot;td,th&quot;),s(t.rows,function(t){s(t.cells,function(o){return e.hasClass(o,&quot;mce-item-selected&quot;)||o==n?(d.push(t),!1):void 0})}),r=d[0],r&amp;&amp;(c={height:i(e.getStyle(r,&quot;height&quot;)||e.getAttrib(r,&quot;height&quot;)),scope:e.getAttrib(r,&quot;scope&quot;)},c.type=r.parentNode.nodeName.toLowerCase(),s(&quot;left center right&quot;.split(&quot; &quot;),function(e){o.formatter.matchNode(r,&quot;align&quot;+e)&amp;&amp;(c.align=e)}),o.windowManager.open({title:&quot;Row properties&quot;,items:{type:&quot;form&quot;,data:c,columns:2,defaults:{type:&quot;textbox&quot;},items:[{type:&quot;listbox&quot;,name:&quot;type&quot;,label:&quot;Row type&quot;,text:&quot;None&quot;,maxWidth:null,values:[{text:&quot;Header&quot;,value:&quot;thead&quot;},{text:&quot;Body&quot;,value:&quot;tbody&quot;},{text:&quot;Footer&quot;,value:&quot;tfoot&quot;}]},{type:&quot;listbox&quot;,name:&quot;align&quot;,label:&quot;Alignment&quot;,text:&quot;None&quot;,maxWidth:null,values:[{text:&quot;None&quot;,value:&quot;&quot;},{text:&quot;Left&quot;,value:&quot;left&quot;},{text:&quot;Center&quot;,value:&quot;center&quot;},{text:&quot;Right&quot;,value:&quot;right&quot;}]},{label:&quot;Height&quot;,name:&quot;height&quot;}]},onsubmit:function(){var t=this.toJSON(),n,i,r;o.undoManager.transact(function(){var c=t.type;s(d,function(s){o.dom.setAttrib(s,&quot;scope&quot;,t.scope),o.dom.setStyles(s,{height:a(t.height)}),c!=s.parentNode.nodeName.toLowerCase()&amp;&amp;(n=e.getParent(s,&quot;table&quot;),i=s.parentNode,r=e.select(c,n)[0],r||(r=e.create(c),n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r)),r.appendChild(s),i.hasChildNodes()||e.remove(i)),l(s),t.align&amp;&amp;o.formatter.apply(&quot;align&quot;+t.align,{},s)}),o.focus()})}}))}function p(e){return function(){o.execCommand(e)}}function g(e,t){var n,i,a;for(a=&#039;&lt;table id=&quot;__mce&quot;&gt;&lt;tbody&gt;&#039;,n=0;t&gt;n;n++){for(a+=&quot;&lt;tr&gt;&quot;,i=0;e&gt;i;i++)a+=&quot;&lt;td&gt;&quot;+(r.ie?&quot; &quot;:&quot;&lt;br&gt;&quot;)+&quot;&lt;/td&gt;&quot;;a+=&quot;&lt;/tr&gt;&quot;}a+=&quot;&lt;/tbody&gt;&lt;/table&gt;&quot;,o.insertContent(a);var l=o.dom.get(&quot;__mce&quot;);return o.dom.setAttrib(l,&quot;id&quot;,null),l}function h(e,t){function n(){e.disabled(!o.dom.getParent(o.selection.getStart(),t)),o.selection.selectorChanged(t,function(t){e.disabled(!t)})}o.initialized?n():o.on(&quot;init&quot;,n)}function v(){h(this,&quot;table&quot;)}function b(){h(this,&quot;td,th&quot;)}function y(){var e=&quot;&quot;;e=&#039;&lt;table role=&quot;grid&quot; class=&quot;mce-grid mce-grid-border&quot; aria-readonly=&quot;true&quot;&gt;&#039;;for(var t=0;10&gt;t;t++){e+=&quot;&lt;tr&gt;&quot;;for(var n=0;10&gt;n;n++)e+=&#039;&lt;td role=&quot;gridcell&quot; tabindex=&quot;-1&quot;&gt;&lt;a id=&quot;mcegrid&#039;+(10*t+n)+&#039;&quot; href=&quot;#&quot; data-mce-x=&quot;&#039;+n+&#039;&quot; data-mce-y=&quot;&#039;+t+&#039;&quot;&gt;&lt;/a&gt;&lt;/td&gt;&#039;;e+=&quot;&lt;/tr&gt;&quot;}return e+=&quot;&lt;/table&gt;&quot;,e+=&#039;&lt;div class=&quot;mce-text-center&quot; role=&quot;presentation&quot;&gt;1 x 1&lt;/div&gt;&#039;}function w(e,t,n){var i=n.getEl().getElementsByTagName(&quot;table&quot;)[0],r,a,l,s,c,d=n.isRtl()||&quot;tl-tr&quot;==n.parent().rel;for(i.nextSibling.innerHTML=e+1+&quot; x &quot;+(t+1),d&amp;&amp;(e=9-e),a=0;10&gt;a;a++)for(r=0;10&gt;r;r++)s=i.rows[a].childNodes[r].firstChild,c=(d?r&gt;=e:e&gt;=r)&amp;&amp;t&gt;=a,o.dom.toggleClass(s,&quot;mce-active&quot;,c),c&amp;&amp;(l=s);return l.parentNode}var x,C,P=this;o.settings.table_grid===!1?o.addMenuItem(&quot;inserttable&quot;,{text:&quot;Insert table&quot;,icon:&quot;table&quot;,context:&quot;table&quot;,onclick:d}):o.addMenuItem(&quot;inserttable&quot;,{text:&quot;Insert table&quot;,icon:&quot;table&quot;,context:&quot;table&quot;,ariaHideMenu:!0,onclick:function(e){e.aria&amp;&amp;(this.parent().hideAll(),e.stopImmediatePropagation(),d())},onshow:function(){w(0,0,this.menu.items()[0])},onhide:function(){var e=this.menu.items()[0].getEl().getElementsByTagName(&quot;a&quot;);o.dom.removeClass(e,&quot;mce-active&quot;),o.dom.addClass(e[0],&quot;mce-active&quot;)},menu:[{type:&quot;container&quot;,html:y(),onPostRender:function(){this.lastX=this.lastY=0},onmousemove:function(e){var t=e.target,n,o;&quot;A&quot;==t.tagName.toUpperCase()&amp;&amp;(n=parseInt(t.getAttribute(&quot;data-mce-x&quot;),10),o=parseInt(t.getAttribute(&quot;data-mce-y&quot;),10),(this.isRtl()||&quot;tl-tr&quot;==this.parent().rel)&amp;&amp;(n=9-n),(n!==this.lastX||o!==this.lastY)&amp;&amp;(w(n,o,e.control),this.lastX=n,this.lastY=o))},onkeydown:function(e){var t=this.lastX,n=this.lastY,o;switch(e.keyCode){case 37:t&gt;0&amp;&amp;(t--,o=!0);break;case 39:o=!0,9&gt;t&amp;&amp;t++;break;case 38:o=!0,n&gt;0&amp;&amp;n--;break;case 40:o=!0,9&gt;n&amp;&amp;n++}o&amp;&amp;(e.preventDefault(),e.stopPropagation(),w(t,n,e.control).focus(),this.lastX=t,this.lastY=n)},onclick:function(e){&quot;A&quot;==e.target.tagName.toUpperCase()&amp;&amp;(e.preventDefault(),e.stopPropagation(),this.parent().cancel(),g(this.lastX+1,this.lastY+1))}}]}),o.addMenuItem(&quot;tableprops&quot;,{text:&quot;Table properties&quot;,context:&quot;table&quot;,onPostRender:v,onclick:d}),o.addMenuItem(&quot;deletetable&quot;,{text:&quot;Delete table&quot;,context:&quot;table&quot;,onPostRender:v,cmd:&quot;mceTableDelete&quot;}),o.addMenuItem(&quot;cell&quot;,{separator:&quot;before&quot;,text:&quot;Cell&quot;,context:&quot;table&quot;,menu:[{text:&quot;Cell properties&quot;,onclick:p(&quot;mceTableCellProps&quot;),onPostRender:b},{text:&quot;Merge cells&quot;,onclick:p(&quot;mceTableMergeCells&quot;),onPostRender:b},{text:&quot;Split cell&quot;,onclick:p(&quot;mceTableSplitCells&quot;),onPostRender:b}]}),o.addMenuItem(&quot;row&quot;,{text:&quot;Row&quot;,context:&quot;table&quot;,menu:[{text:&quot;Insert row before&quot;,onclick:p(&quot;mceTableInsertRowBefore&quot;),onPostRender:b},{text:&quot;Insert row after&quot;,onclick:p(&quot;mceTableInsertRowAfter&quot;),onPostRender:b},{text:&quot;Delete row&quot;,onclick:p(&quot;mceTableDeleteRow&quot;),onPostRender:b},{text:&quot;Row properties&quot;,onclick:p(&quot;mceTableRowProps&quot;),onPostRender:b},{text:&quot;-&quot;},{text:&quot;Cut row&quot;,onclick:p(&quot;mceTableCutRow&quot;),onPostRender:b},{text:&quot;Copy row&quot;,onclick:p(&quot;mceTableCopyRow&quot;),onPostRender:b},{text:&quot;Paste row before&quot;,onclick:p(&quot;mceTablePasteRowBefore&quot;),onPostRender:b},{text:&quot;Paste row after&quot;,onclick:p(&quot;mceTablePasteRowAfter&quot;),onPostRender:b}]}),o.addMenuItem(&quot;column&quot;,{text:&quot;Column&quot;,context:&quot;table&quot;,menu:[{text:&quot;Insert column before&quot;,onclick:p(&quot;mceTableInsertColBefore&quot;),onPostRender:b},{text:&quot;Insert column after&quot;,onclick:p(&quot;mceTableInsertColAfter&quot;),onPostRender:b},{text:&quot;Delete column&quot;,onclick:p(&quot;mceTableDeleteCol&quot;),onPostRender:b}]});var S=[];s(&quot;inserttable tableprops deletetable | cell row column&quot;.split(&quot; &quot;),function(e){S.push(&quot;|&quot;==e?{text:&quot;-&quot;}:o.menuItems[e])}),o.addButton(&quot;table&quot;,{type:&quot;menubutton&quot;,title:&quot;Table&quot;,menu:S}),r.isIE||o.on(&quot;click&quot;,function(e){e=e.target,&quot;TABLE&quot;===e.nodeName&amp;&amp;(o.selection.select(e),o.nodeChanged())}),P.quirks=new t(o),o.on(&quot;Init&quot;,function(){x=o.windowManager,P.cellSelection=new n(o)}),s({mceTableSplitCells:function(e){e.split()},mceTableMergeCells:function(e){var t,n,i;i=o.dom.getParent(o.selection.getStart(),&quot;th,td&quot;),i&amp;&amp;(t=i.rowSpan,n=i.colSpan),o.dom.select(&quot;td.mce-item-selected,th.mce-item-selected&quot;).length?e.merge():u(e,i)},mceTableInsertRowBefore:function(e){e.insertRow(!0)},mceTableInsertRowAfter:function(e){e.insertRow()},mceTableInsertColBefore:function(e){e.insertCol(!0)},mceTableInsertColAfter:function(e){e.insertCol()},mceTableDeleteCol:function(e){e.deleteCols()},mceTableDeleteRow:function(e){e.deleteRows()},mceTableCutRow:function(e){C=e.cutRows()},mceTableCopyRow:function(e){C=e.copyRows()},mceTablePasteRowBefore:function(e){e.pasteRows(C,!0)},mceTablePasteRowAfter:function(e){e.pasteRows(C)},mceTableDelete:function(e){e.deleteTable()}},function(t,n){o.addCommand(n,function(){var n=new e(o);n&amp;&amp;(t(n),o.execCommand(&quot;mceRepaint&quot;),P.cellSelection.clear())})}),s({mceInsertTable:function(){d()},mceTableRowProps:m,mceTableCellProps:f},function(e,t){o.addCommand(t,function(t,n){e(n)})})}var s=o.each;a.add(&quot;table&quot;,l)}),a([s,u,m,g])}(this);tinymce.PluginManager.add(&quot;template&quot;,function(e){function t(t){return function(){var a=e.settings.templates;&quot;string&quot;==typeof a?tinymce.util.XHR.send({url:a,success:function(e){t(tinymce.util.JSON.parse(e))}}):t(a)}}function a(t){function a(t){function a(t){if(-1==t.indexOf(&quot;&lt;html&gt;&quot;)){var a=&quot;&quot;;tinymce.each(e.contentCSS,function(t){a+=&#039;&lt;link type=&quot;text/css&quot; rel=&quot;stylesheet&quot; href=&quot;&#039;+e.documentBaseURI.toAbsolute(t)+&#039;&quot;&gt;&#039;}),t=&quot;&lt;!DOCTYPE html&gt;&lt;html&gt;&lt;head&gt;&quot;+a+&quot;&lt;/head&gt;&lt;body&gt;&quot;+t+&quot;&lt;/body&gt;&lt;/html&gt;&quot;}t=r(t,&quot;template_preview_replace_values&quot;);var l=n.find(&quot;iframe&quot;)[0].getEl().contentWindow.document;l.open(),l.write(t),l.close()}var c=t.control.value();c.url?tinymce.util.XHR.send({url:c.url,success:function(e){l=e,a(l)}}):(l=c.content,a(l)),n.find(&quot;#description&quot;)[0].text(t.control.value().description)}var n,l,i=[];return t&amp;&amp;0!==t.length?(tinymce.each(t,function(e){i.push({selected:!i.length,text:e.title,value:{url:e.url,content:e.content,description:e.description}})}),n=e.windowManager.open({title:&quot;Insert template&quot;,layout:&quot;flex&quot;,direction:&quot;column&quot;,align:&quot;stretch&quot;,padding:15,spacing:10,items:[{type:&quot;form&quot;,flex:0,padding:0,items:[{type:&quot;container&quot;,label:&quot;Templates&quot;,items:{type:&quot;listbox&quot;,label:&quot;Templates&quot;,name:&quot;template&quot;,values:i,onselect:a}}]},{type:&quot;label&quot;,name:&quot;description&quot;,label:&quot;Description&quot;,text:&quot;&quot;},{type:&quot;iframe&quot;,flex:1,border:1}],onsubmit:function(){c(!1,l)},width:e.getParam(&quot;template_popup_width&quot;,600),height:e.getParam(&quot;template_popup_height&quot;,500)}),void n.find(&quot;listbox&quot;)[0].fire(&quot;select&quot;)):void e.windowManager.alert(&quot;No templates defined&quot;)}function n(t,a){function n(e,t){if(e=&quot;&quot;+e,e.length&lt;t)for(var a=0;a&lt;t-e.length;a++)e=&quot;0&quot;+e;return e}var l=&quot;Sun Mon Tue Wed Thu Fri Sat Sun&quot;.split(&quot; &quot;),r=&quot;Sunday Monday Tuesday Wednesday Thursday Friday Saturday Sunday&quot;.split(&quot; &quot;),c=&quot;Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec&quot;.split(&quot; &quot;),i=&quot;January February March April May June July August September October November December&quot;.split(&quot; &quot;);return a=a||new Date,t=t.replace(&quot;%D&quot;,&quot;%m/%d/%Y&quot;),t=t.replace(&quot;%r&quot;,&quot;%I:%M:%S %p&quot;),t=t.replace(&quot;%Y&quot;,&quot;&quot;+a.getFullYear()),t=t.replace(&quot;%y&quot;,&quot;&quot;+a.getYear()),t=t.replace(&quot;%m&quot;,n(a.getMonth()+1,2)),t=t.replace(&quot;%d&quot;,n(a.getDate(),2)),t=t.replace(&quot;%H&quot;,&quot;&quot;+n(a.getHours(),2)),t=t.replace(&quot;%M&quot;,&quot;&quot;+n(a.getMinutes(),2)),t=t.replace(&quot;%S&quot;,&quot;&quot;+n(a.getSeconds(),2)),t=t.replace(&quot;%I&quot;,&quot;&quot;+((a.getHours()+11)%12+1)),t=t.replace(&quot;%p&quot;,&quot;&quot;+(a.getHours()&lt;12?&quot;AM&quot;:&quot;PM&quot;)),t=t.replace(&quot;%B&quot;,&quot;&quot;+e.translate(i[a.getMonth()])),t=t.replace(&quot;%b&quot;,&quot;&quot;+e.translate(c[a.getMonth()])),t=t.replace(&quot;%A&quot;,&quot;&quot;+e.translate(r[a.getDay()])),t=t.replace(&quot;%a&quot;,&quot;&quot;+e.translate(l[a.getDay()])),t=t.replace(&quot;%%&quot;,&quot;%&quot;)}function l(t){var a=e.dom,n=e.getParam(&quot;template_replace_values&quot;);i(a.select(&quot;*&quot;,t),function(e){i(n,function(t,l){a.hasClass(e,l)&amp;&amp;&quot;function&quot;==typeof n[l]&amp;&amp;n[l](e)})})}function r(t,a){return i(e.getParam(a),function(e,a){&quot;function&quot;!=typeof e&amp;&amp;(t=t.replace(new RegExp(&quot;\\{\\$&quot;+a+&quot;\\}&quot;,&quot;g&quot;),e))}),t}function c(t,a){function c(e,t){return new RegExp(&quot;\\b&quot;+t+&quot;\\b&quot;,&quot;g&quot;).test(e.className)}var o,s,p=e.dom,m=e.selection.getContent();a=r(a,&quot;template_replace_values&quot;),o=p.create(&quot;div&quot;,null,a),s=p.select(&quot;.mceTmpl&quot;,o),s&amp;&amp;s.length&gt;0&amp;&amp;(o=p.create(&quot;div&quot;,null),o.appendChild(s[0].cloneNode(!0))),i(p.select(&quot;*&quot;,o),function(t){c(t,e.getParam(&quot;template_cdate_classes&quot;,&quot;cdate&quot;).replace(/\s+/g,&quot;|&quot;))&amp;&amp;(t.innerHTML=n(e.getParam(&quot;template_cdate_format&quot;,e.getLang(&quot;template.cdate_format&quot;)))),c(t,e.getParam(&quot;template_mdate_classes&quot;,&quot;mdate&quot;).replace(/\s+/g,&quot;|&quot;))&amp;&amp;(t.innerHTML=n(e.getParam(&quot;template_mdate_format&quot;,e.getLang(&quot;template.mdate_format&quot;)))),c(t,e.getParam(&quot;template_selected_content_classes&quot;,&quot;selcontent&quot;).replace(/\s+/g,&quot;|&quot;))&amp;&amp;(t.innerHTML=m)}),l(o),e.execCommand(&quot;mceInsertContent&quot;,!1,o.innerHTML),e.addVisual()}var i=tinymce.each;e.addCommand(&quot;mceInsertTemplate&quot;,c),e.addButton(&quot;template&quot;,{title:&quot;Insert template&quot;,onclick:t(a)}),e.addMenuItem(&quot;template&quot;,{text:&quot;Insert template&quot;,onclick:t(a),context:&quot;insert&quot;}),e.on(&quot;PreProcess&quot;,function(t){var a=e.dom;i(a.select(&quot;div&quot;,t.node),function(t){a.hasClass(t,&quot;mceTmpl&quot;)&amp;&amp;(i(a.select(&quot;*&quot;,t),function(t){a.hasClass(t,e.getParam(&quot;template_mdate_classes&quot;,&quot;mdate&quot;).replace(/\s+/g,&quot;|&quot;))&amp;&amp;(t.innerHTML=n(e.getParam(&quot;template_mdate_format&quot;,e.getLang(&quot;template.mdate_format&quot;))))}),l(t))})})});tinymce.PluginManager.add(&quot;textcolor&quot;,function(e){function t(){var t,o,l=[];for(o=e.settings.textcolor_map||[&quot;000000&quot;,&quot;Black&quot;,&quot;993300&quot;,&quot;Burnt orange&quot;,&quot;333300&quot;,&quot;Dark olive&quot;,&quot;003300&quot;,&quot;Dark green&quot;,&quot;003366&quot;,&quot;Dark azure&quot;,&quot;000080&quot;,&quot;Navy Blue&quot;,&quot;333399&quot;,&quot;Indigo&quot;,&quot;333333&quot;,&quot;Very dark gray&quot;,&quot;800000&quot;,&quot;Maroon&quot;,&quot;FF6600&quot;,&quot;Orange&quot;,&quot;808000&quot;,&quot;Olive&quot;,&quot;008000&quot;,&quot;Green&quot;,&quot;008080&quot;,&quot;Teal&quot;,&quot;0000FF&quot;,&quot;Blue&quot;,&quot;666699&quot;,&quot;Grayish blue&quot;,&quot;808080&quot;,&quot;Gray&quot;,&quot;FF0000&quot;,&quot;Red&quot;,&quot;FF9900&quot;,&quot;Amber&quot;,&quot;99CC00&quot;,&quot;Yellow green&quot;,&quot;339966&quot;,&quot;Sea green&quot;,&quot;33CCCC&quot;,&quot;Turquoise&quot;,&quot;3366FF&quot;,&quot;Royal blue&quot;,&quot;800080&quot;,&quot;Purple&quot;,&quot;999999&quot;,&quot;Medium gray&quot;,&quot;FF00FF&quot;,&quot;Magenta&quot;,&quot;FFCC00&quot;,&quot;Gold&quot;,&quot;FFFF00&quot;,&quot;Yellow&quot;,&quot;00FF00&quot;,&quot;Lime&quot;,&quot;00FFFF&quot;,&quot;Aqua&quot;,&quot;00CCFF&quot;,&quot;Sky blue&quot;,&quot;993366&quot;,&quot;Red violet&quot;,&quot;C0C0C0&quot;,&quot;Silver&quot;,&quot;FF99CC&quot;,&quot;Pink&quot;,&quot;FFCC99&quot;,&quot;Peach&quot;,&quot;FFFF99&quot;,&quot;Light yellow&quot;,&quot;CCFFCC&quot;,&quot;Pale green&quot;,&quot;CCFFFF&quot;,&quot;Pale cyan&quot;,&quot;99CCFF&quot;,&quot;Light sky blue&quot;,&quot;CC99FF&quot;,&quot;Plum&quot;,&quot;FFFFFF&quot;,&quot;White&quot;],t=0;t&lt;o.length;t+=2)l.push({text:o[t+1],color:o[t]});return l}function o(){var o,l,r,a,c,i,n,F,d,s=this;for(o=t(),r=&#039;&lt;table class=&quot;mce-grid mce-grid-border mce-colorbutton-grid&quot; role=&quot;list&quot; cellspacing=&quot;0&quot;&gt;&lt;tbody&gt;&#039;,a=o.length-1,c=e.settings.textcolor_rows||5,i=e.settings.textcolor_cols||8,F=0;c&gt;F;F++){for(r+=&quot;&lt;tr&gt;&quot;,n=0;i&gt;n;n++)d=F*i+n,d&gt;a?r+=&quot;&lt;td&gt;&lt;/td&gt;&quot;:(l=o[d],r+=&#039;&lt;td&gt;&lt;div id=&quot;&#039;+s._id+&quot;-&quot;+d+&#039;&quot; data-mce-color=&quot;&#039;+l.color+&#039;&quot; role=&quot;option&quot; tabIndex=&quot;-1&quot; style=&quot;&#039;+(l?&quot;background-color: #&quot;+l.color:&quot;&quot;)+&#039;&quot; title=&quot;&#039;+l.text+&#039;&quot;&gt;&lt;/div&gt;&lt;/td&gt;&#039;);r+=&quot;&lt;/tr&gt;&quot;}return r+=&quot;&lt;/tbody&gt;&lt;/table&gt;&quot;}function l(t){var o,l=this.parent();(o=t.target.getAttribute(&quot;data-mce-color&quot;))&amp;&amp;(this.lastId&amp;&amp;document.getElementById(this.lastId).setAttribute(&quot;aria-selected&quot;,!1),t.target.setAttribute(&quot;aria-selected&quot;,!0),this.lastId=t.target.id,l.hidePanel(),o=&quot;#&quot;+o,l.color(o),e.execCommand(l.settings.selectcmd,!1,o))}function r(){var t=this;t._color&amp;&amp;e.execCommand(t.settings.selectcmd,!1,t._color)}e.addButton(&quot;forecolor&quot;,{type:&quot;colorbutton&quot;,tooltip:&quot;Text color&quot;,selectcmd:&quot;ForeColor&quot;,panel:{role:&quot;application&quot;,ariaRemember:!0,html:o,onclick:l},onclick:r}),e.addButton(&quot;backcolor&quot;,{type:&quot;colorbutton&quot;,tooltip:&quot;Background color&quot;,selectcmd:&quot;HiliteColor&quot;,panel:{role:&quot;application&quot;,ariaRemember:!0,html:o,onclick:l},onclick:r})});tinymce.PluginManager.add(&quot;visualblocks&quot;,function(e,s){function o(){var s=this;s.active(a),e.on(&quot;VisualBlocks&quot;,function(){s.active(e.dom.hasClass(e.getBody(),&quot;mce-visualblocks&quot;))})}var l,t,a;window.NodeList&amp;&amp;(e.addCommand(&quot;mceVisualBlocks&quot;,function(){var o,c=e.dom;l||(l=c.uniqueId(),o=c.create(&quot;link&quot;,{id:l,rel:&quot;stylesheet&quot;,href:s+&quot;/css/visualblocks.css&quot;}),e.getDoc().getElementsByTagName(&quot;head&quot;)[0].appendChild(o)),e.on(&quot;PreviewFormats AfterPreviewFormats&quot;,function(s){a&amp;&amp;c.toggleClass(e.getBody(),&quot;mce-visualblocks&quot;,&quot;afterpreviewformats&quot;==s.type)}),c.toggleClass(e.getBody(),&quot;mce-visualblocks&quot;),a=e.dom.hasClass(e.getBody(),&quot;mce-visualblocks&quot;),t&amp;&amp;t.active(c.hasClass(e.getBody(),&quot;mce-visualblocks&quot;)),e.fire(&quot;VisualBlocks&quot;)}),e.addButton(&quot;visualblocks&quot;,{title:&quot;Show blocks&quot;,cmd:&quot;mceVisualBlocks&quot;,onPostRender:o}),e.addMenuItem(&quot;visualblocks&quot;,{text:&quot;Show blocks&quot;,cmd:&quot;mceVisualBlocks&quot;,onPostRender:o,selectable:!0,context:&quot;view&quot;,prependToContext:!0}),e.on(&quot;init&quot;,function(){e.settings.visualblocks_default_state&amp;&amp;e.execCommand(&quot;mceVisualBlocks&quot;,!1,null,{skip_focus:!0})}),e.on(&quot;remove&quot;,function(){e.dom.removeClass(e.getBody(),&quot;mce-visualblocks&quot;)}))});tinymce.PluginManager.add(&quot;visualchars&quot;,function(e){function a(a){var t,s,i,r,c,d,l=e.getBody(),m=e.selection;if(n=!n,o.state=n,e.fire(&quot;VisualChars&quot;,{state:n}),a&amp;&amp;(d=m.getBookmark()),n)for(s=[],tinymce.walk(l,function(e){3==e.nodeType&amp;&amp;e.nodeValue&amp;&amp;-1!=e.nodeValue.indexOf(&quot;&quot;)&amp;&amp;s.push(e)},&quot;childNodes&quot;),i=0;i&lt;s.length;i++){for(r=s[i].nodeValue,r=r.replace(/(\u00a0)/g,&#039;&lt;span data-mce-bogus=&quot;1&quot; class=&quot;mce-nbsp&quot;&gt;$1&lt;/span&gt;&#039;),c=e.dom.create(&quot;div&quot;,null,r);t=c.lastChild;)e.dom.insertAfter(t,s[i]);e.dom.remove(s[i])}else for(s=e.dom.select(&quot;span.mce-nbsp&quot;,l),i=s.length-1;i&gt;=0;i--)e.dom.remove(s[i],1);m.moveToBookmark(d)}function t(){var a=this;e.on(&quot;VisualChars&quot;,function(e){a.active(e.state)})}var n,o=this;e.addCommand(&quot;mceVisualChars&quot;,a),e.addButton(&quot;visualchars&quot;,{title:&quot;Show invisible characters&quot;,cmd:&quot;mceVisualChars&quot;,onPostRender:t}),e.addMenuItem(&quot;visualchars&quot;,{text:&quot;Show invisible characters&quot;,cmd:&quot;mceVisualChars&quot;,onPostRender:t,selectable:!0,context:&quot;view&quot;,prependToContext:!0}),e.on(&quot;beforegetcontent&quot;,function(e){n&amp;&amp;&quot;raw&quot;!=e.format&amp;&amp;!e.draft&amp;&amp;(n=!0,a(!1))})});tinymce.PluginManager.add(&quot;wordcount&quot;,function(e){function t(){e.theme.panel.find(&quot;#wordcount&quot;).text([&quot;Words: {0}&quot;,a.getCount()])}var n,o,a=this;n=e.getParam(&quot;wordcount_countregex&quot;,/[\w\u2019\x27\-\u00C0-\u1FFF]+/g),o=e.getParam(&quot;wordcount_cleanregex&quot;,/[0-9.(),;:!?%#$?\x27\x22_+=\\\/\-]*/g),e.on(&quot;init&quot;,function(){var n=e.theme.panel&amp;&amp;e.theme.panel.find(&quot;#statusbar&quot;)[0];n&amp;&amp;window.setTimeout(function(){n.insert({type:&quot;label&quot;,name:&quot;wordcount&quot;,text:[&quot;Words: {0}&quot;,a.getCount()],classes:&quot;wordcount&quot;,disabled:e.settings.readonly},0),e.on(&quot;setcontent beforeaddundo&quot;,t),e.on(&quot;keyup&quot;,function(e){32==e.keyCode&amp;&amp;t()})},0)}),a.getCount=function(){var t=e.getContent({format:&quot;raw&quot;}),a=0;if(t){t=t.replace(/\.\.\./g,&quot; &quot;),t=t.replace(/&lt;.[^&lt;&gt;]*?&gt;/g,&quot; &quot;).replace(/&amp;nbsp;|&amp;#160;/gi,&quot; &quot;),t=t.replace(/(\w+)(&amp;#?[a-z0-9]+;)+(\w+)/i,&quot;$1$3&quot;).replace(/&amp;.+?;/g,&quot; &quot;),t=t.replace(o,&quot;&quot;);var r=t.match(n);r&amp;&amp;(a=r.length)}return a}});tinymce.ThemeManager.add(&quot;modern&quot;,function(e){function t(){function t(t){var n,o=[];if(t)return d(t.split(/[ ,]/),function(t){function i(){var i=e.selection;&quot;bullist&quot;==r&amp;&amp;i.selectorChanged(&quot;ul &gt; li&quot;,function(e,i){for(var n,o=i.parents.length;o--&amp;&amp;(n=i.parents[o].nodeName,&quot;OL&quot;!=n&amp;&amp;&quot;UL&quot;!=n););t.active(e&amp;&amp;&quot;UL&quot;==n)}),&quot;numlist&quot;==r&amp;&amp;i.selectorChanged(&quot;ol &gt; li&quot;,function(e,i){for(var n,o=i.parents.length;o--&amp;&amp;(n=i.parents[o].nodeName,&quot;OL&quot;!=n&amp;&amp;&quot;UL&quot;!=n););t.active(e&amp;&amp;&quot;OL&quot;==n)}),t.settings.stateSelector&amp;&amp;i.selectorChanged(t.settings.stateSelector,function(e){t.active(e)},!0),t.settings.disabledStateSelector&amp;&amp;i.selectorChanged(t.settings.disabledStateSelector,function(e){t.disabled(e)})}var r;&quot;|&quot;==t?n=null:c.has(t)?(t={type:t},u.toolbar_items_size&amp;&amp;(t.size=u.toolbar_items_size),o.push(t),n=null):(n||(n={type:&quot;buttongroup&quot;,items:[]},o.push(n)),e.buttons[t]&amp;&amp;(r=t,t=e.buttons[r],&quot;function&quot;==typeof t&amp;&amp;(t=t()),t.type=t.type||&quot;button&quot;,u.toolbar_items_size&amp;&amp;(t.size=u.toolbar_items_size),t=c.create(t),n.items.push(t),e.initialized?i():e.on(&quot;init&quot;,i)))}),i.push({type:&quot;toolbar&quot;,layout:&quot;flow&quot;,items:o}),!0}var i=[];if(tinymce.isArray(u.toolbar)){if(0===u.toolbar.length)return;tinymce.each(u.toolbar,function(e,t){u[&quot;toolbar&quot;+(t+1)]=e}),delete u.toolbar}for(var n=1;10&gt;n&amp;&amp;t(u[&quot;toolbar&quot;+n]);n++);return i.length||u.toolbar===!1||t(u.toolbar||f),i.length?{type:&quot;panel&quot;,layout:&quot;stack&quot;,classes:&quot;toolbar-grp&quot;,ariaRoot:!0,ariaRemember:!0,items:i}:void 0}function i(){function t(t){var i;return&quot;|&quot;==t?{text:&quot;|&quot;}:i=e.menuItems[t]}function i(i){var n,o,r,a,s;if(s=tinymce.makeMap((u.removed_menuitems||&quot;&quot;).split(/[ ,]/)),u.menu?(o=u.menu[i],a=!0):o=h[i],o){n={text:o.title},r=[],d((o.items||&quot;&quot;).split(/[ ,]/),function(e){var i=t(e);i&amp;&amp;!s[e]&amp;&amp;r.push(t(e))}),a||d(e.menuItems,function(e){e.context==i&amp;&amp;(&quot;before&quot;==e.separator&amp;&amp;r.push({text:&quot;|&quot;}),e.prependToContext?r.unshift(e):r.push(e),&quot;after&quot;==e.separator&amp;&amp;r.push({text:&quot;|&quot;}))});for(var l=0;l&lt;r.length;l++)&quot;|&quot;==r[l].text&amp;&amp;(0===l||l==r.length-1)&amp;&amp;r.splice(l,1);if(n.menu=r,!n.menu.length)return null}return n}var n,o=[],r=[];if(u.menu)for(n in u.menu)r.push(n);else for(n in h)r.push(n);for(var a=&quot;string&quot;==typeof u.menubar?u.menubar.split(/[ ,]/):r,s=0;s&lt;a.length;s++){var l=a[s];l=i(l),l&amp;&amp;o.push(l)}return o}function n(t){function i(e){var i=t.find(e)[0];i&amp;&amp;i.focus(!0)}e.shortcuts.add(&quot;Alt+F9&quot;,&quot;&quot;,function(){i(&quot;menubar&quot;)}),e.shortcuts.add(&quot;Alt+F10&quot;,&quot;&quot;,function(){i(&quot;toolbar&quot;)}),e.shortcuts.add(&quot;Alt+F11&quot;,&quot;&quot;,function(){i(&quot;elementpath&quot;)}),t.on(&quot;cancel&quot;,function(){e.focus()})}function o(t,i){function n(e){return{width:e.clientWidth,height:e.clientHeight}}var o,r,a,s;o=e.getContainer(),r=e.getContentAreaContainer().firstChild,a=n(o),s=n(r),null!==t&amp;&amp;(t=Math.max(u.min_width||100,t),t=Math.min(u.max_width||65535,t),m.css(o,&quot;width&quot;,t+(a.width-s.width)),m.css(r,&quot;width&quot;,t)),i=Math.max(u.min_height||100,i),i=Math.min(u.max_height||65535,i),m.css(r,&quot;height&quot;,i),e.fire(&quot;ResizeEditor&quot;)}function r(t,i){var n=e.getContentAreaContainer();l.resizeTo(n.clientWidth+t,n.clientHeight+i)}function a(o){function r(){if(h&amp;&amp;h.moveRel&amp;&amp;h.visible()&amp;&amp;!h._fixed){var t=e.selection.getScrollContainer(),i=e.getBody(),n=0,o=0;if(t){var r=m.getPos(i),a=m.getPos(t);n=Math.max(0,a.x-r.x),o=Math.max(0,a.y-r.y)}h.fixed(!1).moveRel(i,e.rtl?[&quot;tr-br&quot;,&quot;br-tr&quot;]:[&quot;tl-bl&quot;,&quot;bl-tl&quot;]).moveBy(n,o)}}function a(){h&amp;&amp;(h.show(),r(),m.addClass(e.getBody(),&quot;mce-edit-focus&quot;))}function s(){h&amp;&amp;(h.hide(),m.removeClass(e.getBody(),&quot;mce-edit-focus&quot;))}function d(){return h?void(h.visible()||a()):(h=l.panel=c.create({type:f?&quot;panel&quot;:&quot;floatpanel&quot;,role:&quot;application&quot;,classes:&quot;tinymce tinymce-inline&quot;,layout:&quot;flex&quot;,direction:&quot;column&quot;,align:&quot;stretch&quot;,autohide:!1,autofix:!0,fixed:!!f,border:1,items:[u.menubar===!1?null:{type:&quot;menubar&quot;,border:&quot;0 0 1 0&quot;,items:i()},t()]}),e.fire(&quot;BeforeRenderUI&quot;),h.renderTo(f||document.body).reflow(),n(h),a(),e.on(&quot;nodeChange&quot;,r),e.on(&quot;activate&quot;,a),e.on(&quot;deactivate&quot;,s),void e.nodeChanged())}var h,f;return u.fixed_toolbar_container&amp;&amp;(f=m.select(u.fixed_toolbar_container)[0]),u.content_editable=!0,e.on(&quot;focus&quot;,function(){o.skinUiCss?tinymce.DOM.styleSheetLoader.load(o.skinUiCss,d,d):d()}),e.on(&quot;blur hide&quot;,s),e.on(&quot;remove&quot;,function(){h&amp;&amp;(h.remove(),h=null)}),o.skinUiCss&amp;&amp;tinymce.DOM.styleSheetLoader.load(o.skinUiCss),{}}function s(r){var a,s,d;return r.skinUiCss&amp;&amp;tinymce.DOM.loadCSS(r.skinUiCss),a=l.panel=c.create({type:&quot;panel&quot;,role:&quot;application&quot;,classes:&quot;tinymce&quot;,style:&quot;visibility: hidden&quot;,layout:&quot;stack&quot;,border:1,items:[u.menubar===!1?null:{type:&quot;menubar&quot;,border:&quot;0 0 1 0&quot;,items:i()},t(),{type:&quot;panel&quot;,name:&quot;iframe&quot;,layout:&quot;stack&quot;,classes:&quot;edit-area&quot;,html:&quot;&quot;,border:&quot;1 0 0 0&quot;}]}),u.resize!==!1&amp;&amp;(s={type:&quot;resizehandle&quot;,direction:u.resize,onResizeStart:function(){var t=e.getContentAreaContainer().firstChild;d={width:t.clientWidth,height:t.clientHeight}},onResize:function(e){&quot;both&quot;==u.resize?o(d.width+e.deltaX,d.height+e.deltaY):o(null,d.height+e.deltaY)}}),u.statusbar!==!1&amp;&amp;a.add({type:&quot;panel&quot;,name:&quot;statusbar&quot;,classes:&quot;statusbar&quot;,layout:&quot;flow&quot;,border:&quot;1 0 0 0&quot;,ariaRoot:!0,items:[{type:&quot;elementpath&quot;},s]}),u.readonly&amp;&amp;a.find(&quot;*&quot;).disabled(!0),e.fire(&quot;BeforeRenderUI&quot;),a.renderBefore(r.targetNode).reflow(),u.width&amp;&amp;tinymce.DOM.setStyle(a.getEl(),&quot;width&quot;,u.width),e.on(&quot;remove&quot;,function(){a.remove(),a=null}),n(a),{iframeContainer:a.find(&quot;#iframe&quot;)[0].getEl(),editorContainer:a.getEl()}}var l=this,u=e.settings,c=tinymce.ui.Factory,d=tinymce.each,m=tinymce.DOM,h={file:{title:&quot;File&quot;,items:&quot;newdocument&quot;},edit:{title:&quot;Edit&quot;,items:&quot;undo redo | cut copy paste pastetext | selectall&quot;},insert:{title:&quot;Insert&quot;,items:&quot;|&quot;},view:{title:&quot;View&quot;,items:&quot;visualaid |&quot;},format:{title:&quot;Format&quot;,items:&quot;bold italic underline strikethrough superscript subscript | formats | removeformat&quot;},table:{title:&quot;Table&quot;},tools:{title:&quot;Tools&quot;}},f=&quot;undo redo | styleselect | bold italic | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | link image&quot;;l.renderUI=function(t){var i=u.skin!==!1?u.skin||&quot;lightgray&quot;:!1;if(i){var n=u.skin_url;n=n?e.documentBaseURI.toAbsolute(n):tinymce.baseURL+&quot;/skins/&quot;+i,t.skinUiCss=tinymce.Env.documentMode&lt;=7?n+&quot;/skin.ie7.min.css&quot;:n+&quot;/skin.min.css&quot;,e.contentCSS.push(n+&quot;/content&quot;+(e.inline?&quot;.inline&quot;:&quot;&quot;)+&quot;.min.css&quot;)}return e.on(&quot;ProgressState&quot;,function(e){l.throbber=l.throbber||new tinymce.ui.Throbber(l.panel.getEl(&quot;body&quot;)),e.state?l.throbber.show(e.time):l.throbber.hide()}),u.inline?a(t):s(t)},l.resizeTo=o,l.resizeBy=r});</textarea>
  </div>
</div>

<footer class="footer">
  <div class="container">
    <p>.</p>
  </div>
</footer>

<script type="text/html" id="complexity-popover-template">
  <div class="complexity-notice">
    Complexity : {{ complexity.cyclomatic }} <br>
    Length : {{ complexity.halstead.length }} <br>
    Difficulty : {{ complexity.halstead.difficulty.toFixed(2) }} <br>
    Est # bugs : {{ complexity.halstead.bugs.toFixed(2) }}<br>
  </div>
</script>

<script type="text/javascript" src="../../assets/scripts/bundles/core-bundle.js"></script>
<script type="text/javascript" src="../../assets/scripts/bundles/codemirror.js"></script>
<script type="text/javascript" src="../../assets/scripts/codemirror.markpopovertext.js"></script>
<script type="text/javascript" src="report.js"></script>
<script type="text/javascript" src="report.history.js"></script>
<script type="text/javascript" src="../../assets/scripts/plato-file.js"></script>
</body>
</html>
