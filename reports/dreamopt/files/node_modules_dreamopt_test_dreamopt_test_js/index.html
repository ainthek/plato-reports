<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Plato - node_modules/dreamopt/test/dreamopt_test.js</title>

  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="">
  <meta name="author" content="">

  <!--[if lt IE 9]>
  <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
  <![endif]-->

  <link href="../../assets/css/vendor/morris.css" rel="stylesheet">
  <link href="../../assets/css/vendor/bootstrap.css" rel="stylesheet">
  <link href="../../assets/css/vendor/font-awesome.css" rel="stylesheet">
  <link href="../../assets/css/vendor/codemirror.css" rel="stylesheet">
  <link href="../../assets/css/plato.css" rel="stylesheet">
  <link href="../../assets/css/plato-file.css" rel="stylesheet">

</head>

<body>

<div class="navbar navbar-fixed-top">
  <div class="container">
    <a class="navbar-brand" href="http://github.com/es-analysis/plato">Plato on Github</a>
    <ul class="nav navbar-nav">
      <li>
        <a href="../../index.html">Report Home</a>
      </li>
    </ul>
  </div>
</div>

<div class="jumbotron">
  <div class="container">
    <h1>node_modules/dreamopt/test/dreamopt_test.js</h1>
  </div>
</div>

<div class="container aggregate-stats">
  <div class="row">
    <div class="col-md-6">
      <h2 class="header">Maintainability <a href="http://blogs.msdn.com/b/codeanalysis/archive/2007/11/20/maintainability-index-range-and-meaning.aspx"><i class="icon icon-info-sign" rel="popover" data-placement="top" data-trigger="hover" data-content="A value between 0 and 100 that represents the relative ease of maintaining the code. A high value means better maintainability." data-original-title="Maintainability Index"  data-container="body"></i></a></h2>
      <p class="stat">63.47</p>
    </div>
    <div class="col-md-6">
      <h2 class="header">Lines of code <i class="icon icon-info-sign" rel="popover" data-placement="top" data-trigger="hover" data-content="Source Lines of Code / Logical Lines of Code" data-original-title="SLOC/LSLOC" data-container="body"></i></h2>
      <p class="stat">341</p>
    </div>
  </div>
  <div class="row historical">
    <div class="col-md-6">
      <p id="chart_historical_maint" class="chart"></p>
    </div>
    <div class="col-md-6">
      <p id="chart_historical_sloc" class="chart"></p>
    </div>
  </div>
  <div class="row">
    <div class="col-md-6">
      <h2 class="header">Difficulty  <a href="http://en.wikipedia.org/wiki/Halstead_complexity_measures"><i class="icon icon-info-sign" rel="popover" data-placement="top" data-trigger="hover" data-content="The difficulty measure is related to the difficulty of the program to write or understand." data-original-title="Difficulty" data-container="body"></i></a></h2>
      <p class="stat">55.72</p>
    </div>
    <div class="col-md-6">
      <h2 class="header">Estimated Errors  <a href="http://en.wikipedia.org/wiki/Halstead_complexity_measures"><i class="icon icon-info-sign" rel="popover" data-placement="top" data-trigger="hover" data-content="Halstead's delivered bugs is an estimate for the number of errors in the implementation." data-original-title="Delivered Bugs" data-container="body"></i></a></h2>
      <p class="stat">3.81</p>
    </div>
  </div>
</div>

<div class="container charts">
  <div class="row">
    <h2 class="header">Function weight</h2>
  </div>
  <div class="row">
    <div class="col-md-6">
      <h3 class="chart-header">By Complexity <a href="http://en.wikipedia.org/wiki/Cyclomatic_complexity"><i class="icon icon-info-sign" rel="popover" data-placement="top" data-trigger="hover" data-content="This metric counts the number of distinct paths through a block of code. Lower values are better." data-original-title="Cyclomatic Complexity" data-container="body"></i></a></h3>
      <div id="fn-by-complexity" class="stat"></div>
    </div>
    <div class="col-md-6">
      <h3 class="chart-header">By SLOC  <i class="icon icon-info-sign" rel="popover" data-placement="top" data-trigger="hover" data-content="Source Lines of Code / Logical Lines of Code" data-original-title="SLOC/LSLOC" data-container="body"></i></h3>
      <div id="fn-by-sloc" class="stat"></div>
    </div>
  </div>
</div>

<div class="container">
  <div class="row">
    <textarea id="file-source" class="col-md-12">// Generated by CoffeeScript 1.3.3
(function() {
  var GIT_SYNTAX, assert, dreamopt, o, oo, ooo,
    __hasProp = {}.hasOwnProperty;

  assert = require(&#039;assert&#039;);

  dreamopt = require(&#039;../lib/dreamopt&#039;);

  GIT_SYNTAX = [&quot;  remote&quot;, [&quot;Manage set of tracked repositories.&quot;, &quot;  add&quot;, [&quot;Adds a remote named &lt;name&gt; for the repository at &lt;url&gt;.&quot;, &quot;Usage: git remote add &lt;name&gt; &lt;url&gt;&quot;, &quot;  &lt;name&gt;  name of remote ref&quot;, &quot;  &lt;url&gt;  repository url&quot;], &quot;  rename&quot;, [&quot;Rename the remote named &lt;old&gt; to &lt;new&gt;.&quot;, &quot;Usage: git remote rename &lt;old&gt; &lt;new&gt;&quot;, &quot;  &lt;old&gt;  old remote ref name&quot;, &quot;  &lt;new&gt;  new remote ref name&quot;], &quot;  rm&quot;, [&quot;Remove the remote named &lt;name&gt;.&quot;, &quot;Usage: git remote rm &lt;name&gt;&quot;, &quot;  &lt;name&gt;  remote ref name&quot;]], &quot;  push&quot;, [&quot;Update remote refs along with associated objects.&quot;, &quot;Usage: git push &lt;repository&gt; &lt;refspec&gt;&quot;, &quot;  &lt;repository&gt;  The &#039;remote&#039; repository that is destination of a push operation.&quot;, &quot;  &lt;refspec&gt;  Used to specify with what &lt;src&gt; object the &lt;dst&gt; ref is to be updated.&quot;], &quot;Global options:&quot;];

  o = function(syntax, argv, expected) {
    expected.argv || (expected.argv = []);
    return describe(&quot;when given &quot; + (JSON.stringify(argv)), function() {
      var k, v, _actual, _fn;
      _actual = null;
      before(function() {
        return _actual = dreamopt(syntax, {
          argv: argv,
          error: function(e) {
            throw e;
          }
        });
      });
      _fn = function(k, v) {
        return it(&quot;value of &quot; + k + &quot; should be &quot; + (JSON.stringify(v)), function() {
          return assert.deepEqual(_actual[k], v, &quot;&quot; + k + &quot; is &quot; + (JSON.stringify(_actual[k])) + &quot;, expected &quot; + (JSON.stringify(v)) + &quot;, actual = &quot; + (JSON.stringify(_actual)));
        });
      };
      for (k in expected) {
        if (!__hasProp.call(expected, k)) continue;
        v = expected[k];
        _fn(k, v);
      }
      return it(&quot;should not return any other option keys&quot;, function() {
        var keys;
        keys = {};
        for (k in _actual) {
          if (!__hasProp.call(_actual, k)) continue;
          v = _actual[k];
          keys[k] = true;
        }
        for (k in expected) {
          if (!__hasProp.call(expected, k)) continue;
          v = expected[k];
          delete keys[k];
        }
        return assert.deepEqual(keys, [], &quot;Extra keys found in expected: &quot; + (Object.keys(keys).join(&#039;, &#039;)) + &quot;, actual = &quot; + (JSON.stringify(_actual)) + &quot;, expected = &quot; + (JSON.stringify(expected)));
      });
    });
  };

  oo = function(syntax, argv, errorRegexp) {
    return describe(&quot;when given &quot; + (JSON.stringify(argv)), function() {
      var _actual, _err;
      _actual = null;
      _err = null;
      before(function() {
        try {
          return _actual = dreamopt(syntax, {
            argv: argv,
            error: function(e) {
              throw e;
            }
          });
        } catch (e) {
          return _err = e;
        }
      });
      return it(&quot;should throw an error matching &quot; + errorRegexp, function() {
        assert.ok(!!_err, &quot;Expected error matching &quot; + errorRegexp + &quot;, no error thrown, actual = &quot; + (JSON.stringify(_actual)));
        return assert.ok(_err.message.match(errorRegexp), &quot;Expected error matching &quot; + errorRegexp + &quot;, got error &quot; + _err.message);
      });
    });
  };

  ooo = function(syntax, expectedUsage, argv) {
    var doit;
    if (argv == null) {
      argv = [];
    }
    doit = function() {
      return it(&quot;should display correct usage info&quot;, function() {
        var captureUsage, _usage;
        _usage = null;
        captureUsage = function(usage) {
          _usage = usage;
          throw new Error(&quot;bail out of captureUsage&quot;);
        };
        try {
          dreamopt(syntax, {
            argv: argv.concat([&#039;--help&#039;]),
            help: captureUsage,
            error: function(e) {
              throw e;
            }
          });
        } catch (e) {
          if (e.message !== &quot;bail out of captureUsage&quot;) {
            throw e;
          }
        }
        return assert.equal(_usage.trim(), expectedUsage.trim(), &quot;Usage mismatch, actual:\n&quot; + (_usage.trim()) + &quot;\n\nExpected:\n&quot; + (expectedUsage.trim()) + &quot;\n&quot;);
      });
    };
    if (argv.length &gt; 0) {
      return describe(&quot;when given &quot; + (argv.concat([&#039;--help&#039;]).join(&#039; &#039;)), doit);
    } else {
      return doit();
    }
  };

  describe(&#039;dreamopt&#039;, function() {
    describe(&quot;with a syntax as simple as -a/--AAA, -b/--BBB COUNT, -c/--ccc&quot;, function() {
      var syntax;
      syntax = [&quot;  -a, --AAA  Simple option&quot;, &quot;  -b, --BBB COUNT  Option with value&quot;, &quot;  -c, --[no-]ccc  Flag option&quot;, &quot;  -d, --ddd &lt;value&gt;  Another option with value&quot;];
      o(syntax, [&#039;&#039;], {});
      o(syntax, [&#039;-a&#039;], {
        AAA: true
      });
      o(syntax, [&#039;-b&#039;, &#039;10&#039;], {
        BBB: 10
      });
      o(syntax, [&#039;-b10&#039;], {
        BBB: 10
      });
      o(syntax, [&#039;-ac&#039;], {
        AAA: true,
        ccc: true
      });
      o(syntax, [&#039;-ab&#039;, &#039;10&#039;], {
        AAA: true,
        BBB: 10
      });
      o(syntax, [&#039;-ab10&#039;], {
        AAA: true,
        BBB: 10
      });
      oo(syntax, [&#039;-z&#039;], /Unknown short option/);
      oo(syntax, [&#039;-azc&#039;], /Unknown short option/);
      oo(syntax, [&#039;-b&#039;], /requires an argument/);
      oo(syntax, [&#039;-ab&#039;], /requires an argument/);
      oo(syntax, [&#039;-a&#039;, &#039;-b&#039;], /requires an argument/);
      o(syntax, [&#039;--AAA&#039;], {
        AAA: true
      });
      o(syntax, [&#039;--no-AAA&#039;], {
        AAA: false
      });
      o(syntax, [&#039;--ccc&#039;], {
        ccc: true
      });
      o(syntax, [&#039;--no-ccc&#039;], {
        ccc: false
      });
      o(syntax, [&#039;--BBB&#039;, &#039;10&#039;], {
        BBB: 10
      });
      o(syntax, [&#039;--BBB=10&#039;], {
        BBB: 10
      });
      oo(syntax, [&#039;--zzz&#039;], /Unknown long option/);
      oo(syntax, [&#039;--BBB&#039;], /requires an argument/);
      return ooo(syntax, &quot;Options:\n  -a, --AAA             Simple option\n  -b, --BBB COUNT       Option with value\n  -c, --[no-]ccc        Flag option\n  -d, --ddd &lt;value&gt;     Another option with value\n  -h, --help            Display this usage information&quot;);
    });
    describe(&quot;with a syntax that has two positional arguments and one option (-v/--verbose)&quot;, function() {
      var syntax;
      syntax = [&quot;  -v, --verbose  Be verbose&quot;, &quot;  &lt;first&gt;  First positional arg&quot;, &quot;  &lt;second&gt;  Second positional arg&quot;];
      o(syntax, [], {});
      o(syntax, [&#039;-v&#039;], {
        verbose: true
      });
      o(syntax, [&#039;foo&#039;], {
        argv: [&#039;foo&#039;],
        first: &#039;foo&#039;
      });
      o(syntax, [&#039;foo&#039;, &#039;bar&#039;], {
        argv: [&#039;foo&#039;, &#039;bar&#039;],
        first: &#039;foo&#039;,
        second: &#039;bar&#039;
      });
      o(syntax, [&#039;-v&#039;, &#039;foo&#039;], {
        argv: [&#039;foo&#039;],
        first: &#039;foo&#039;,
        verbose: true
      });
      o(syntax, [&#039;foo&#039;, &#039;-v&#039;], {
        argv: [&#039;foo&#039;],
        first: &#039;foo&#039;,
        verbose: true
      });
      return o(syntax, [&#039;-v&#039;, &#039;foo&#039;, &#039;bar&#039;], {
        argv: [&#039;foo&#039;, &#039;bar&#039;],
        first: &#039;foo&#039;,
        second: &#039;bar&#039;,
        verbose: true
      });
    });
    describe(&quot;with a syntax that has two positional arguments, both of which have default values&quot;, function() {
      var syntax;
      syntax = [&quot;  FIRST  First positional arg (default: 10)&quot;, &quot;  SECOND  Second positional arg (default: 20)&quot;];
      o(syntax, [], {
        argv: [10, 20],
        first: 10,
        second: 20
      });
      o(syntax, [&#039;foo&#039;], {
        argv: [&#039;foo&#039;, 20],
        first: &#039;foo&#039;,
        second: 20
      });
      return o(syntax, [&#039;foo&#039;, &#039;bar&#039;], {
        argv: [&#039;foo&#039;, &#039;bar&#039;],
        first: &#039;foo&#039;,
        second: &#039;bar&#039;
      });
    });
    describe(&quot;with a syntax that has two positional arguments, one of which is required&quot;, function() {
      var syntax;
      syntax = [&quot;  &lt;first&gt;  First positional arg  #required&quot;, &quot;  &lt;second&gt;  Second positional arg (default: 20)&quot;];
      oo(syntax, [], /required/);
      o(syntax, [&#039;foo&#039;], {
        argv: [&#039;foo&#039;, 20],
        first: &#039;foo&#039;,
        second: 20
      });
      return o(syntax, [&#039;foo&#039;, &#039;bar&#039;], {
        argv: [&#039;foo&#039;, &#039;bar&#039;],
        first: &#039;foo&#039;,
        second: &#039;bar&#039;
      });
    });
    describe(&quot;with a syntax that has a required option&quot;, function() {
      var syntax;
      syntax = [&quot;  --src FILE  Source file  #required&quot;, &quot;  &lt;first&gt;  First positional arg&quot;];
      oo(syntax, [], /required/);
      oo(syntax, [&#039;foo&#039;], /required/);
      oo(syntax, [&#039;--src&#039;], /requires an argument/);
      o(syntax, [&#039;--src&#039;, &#039;xxx&#039;], {
        src: &#039;xxx&#039;
      });
      o(syntax, [&#039;--src&#039;, &#039;xxx&#039;, &#039;zzz&#039;], {
        src: &#039;xxx&#039;,
        first: &#039;zzz&#039;,
        argv: [&#039;zzz&#039;]
      });
      return o(syntax, [&#039;zzz&#039;, &#039;--src&#039;, &#039;xxx&#039;], {
        src: &#039;xxx&#039;,
        first: &#039;zzz&#039;,
        argv: [&#039;zzz&#039;]
      });
    });
    describe(&quot;with a syntax that has a list option&quot;, function() {
      var syntax;
      syntax = [&quot;  --src FILE  Source file  #list&quot;];
      o(syntax, [], {
        src: [],
        argv: []
      });
      o(syntax, [&#039;--src&#039;, &#039;xxx&#039;], {
        src: [&#039;xxx&#039;],
        argv: []
      });
      return o(syntax, [&#039;--src&#039;, &#039;xxx&#039;, &#039;--src&#039;, &#039;yyy&#039;], {
        src: [&#039;xxx&#039;, &#039;yyy&#039;],
        argv: []
      });
    });
    describe(&quot;with a syntax that has two subcommands&quot;, function() {
      var barHandler, syntax;
      barHandler = function(result) {
        return result.bbbar = 42;
      };
      syntax = [&quot;  foo  Do something&quot;, [], &quot;  bar  Do something else&quot;, barHandler, []];
      oo(syntax, [], /no command specified/i);
      o(syntax, [&#039;foo&#039;], {
        argv: [],
        command: &#039;foo&#039;
      });
      return o(syntax, [&#039;bar&#039;], {
        argv: [],
        command: &#039;bar&#039;,
        bbbar: 42
      });
    });
    describe(&quot;with a syntax that has a subcommand with local options&quot;, function() {
      var syntax;
      syntax = [&quot;  foo  Do something&quot;, [], &quot;  bar  Do something else&quot;, [&quot;  --boz  Enable boz&quot;], &quot;  -v, --verbose  Verbose&quot;];
      oo(syntax, [], /no command specified/i);
      o(syntax, [&#039;foo&#039;], {
        argv: [],
        command: &#039;foo&#039;
      });
      o(syntax, [&#039;-v&#039;, &#039;foo&#039;], {
        argv: [],
        command: &#039;foo&#039;,
        verbose: true
      });
      o(syntax, [&#039;foo&#039;, &#039;-v&#039;], {
        argv: [],
        command: &#039;foo&#039;,
        verbose: true
      });
      oo(syntax, [&#039;foo&#039;, &#039;--boz&#039;], /unknown long option/i);
      o(syntax, [&#039;bar&#039;], {
        argv: [],
        command: &#039;bar&#039;
      });
      o(syntax, [&#039;bar&#039;, &#039;--boz&#039;], {
        argv: [],
        command: &#039;bar&#039;,
        boz: true
      });
      o(syntax, [&#039;-v&#039;, &#039;bar&#039;, &#039;--boz&#039;], {
        argv: [],
        command: &#039;bar&#039;,
        boz: true,
        verbose: true
      });
      return o(syntax, [&#039;bar&#039;, &#039;--boz&#039;, &#039;-v&#039;], {
        argv: [],
        command: &#039;bar&#039;,
        boz: true,
        verbose: true
      });
    });
    return describe(&quot;with a git-style syntax&quot;, function() {
      oo(GIT_SYNTAX, [], /no command specified/i);
      o(GIT_SYNTAX, [&#039;push&#039;], {
        argv: [],
        command: &#039;push&#039;
      });
      ooo(GIT_SYNTAX, &quot;Commands:\n  remote                Manage set of tracked repositories.\n  push                  Update remote refs along with associated objects.\n\nGlobal options:\n  -h, --help            Display this usage information&quot;);
      ooo(GIT_SYNTAX, &quot;Update remote refs along with associated objects.\n\nUsage: git push &lt;repository&gt; &lt;refspec&gt;\n\nArguments:\n  &lt;repository&gt;          The &#039;remote&#039; repository that is destination of a push operation.\n  &lt;refspec&gt;             Used to specify with what &lt;src&gt; object the &lt;dst&gt; ref is to be updated.\n\nGlobal options:\n  -h, --help            Display this usage information&quot;, [&#039;push&#039;]);
      ooo(GIT_SYNTAX, &quot;Manage set of tracked repositories.\n\nCommands:\n  add                   Adds a remote named &lt;name&gt; for the repository at &lt;url&gt;.\n  rename                Rename the remote named &lt;old&gt; to &lt;new&gt;.\n  rm                    Remove the remote named &lt;name&gt;.\n\nGlobal options:\n  -h, --help            Display this usage information&quot;, [&#039;remote&#039;]);
      return ooo(GIT_SYNTAX, &quot;Adds a remote named &lt;name&gt; for the repository at &lt;url&gt;.\n\nUsage: git remote add &lt;name&gt; &lt;url&gt;\n\nArguments:\n  &lt;name&gt;                name of remote ref\n  &lt;url&gt;                 repository url\n\nGlobal options:\n  -h, --help            Display this usage information&quot;, [&#039;remote&#039;, &#039;add&#039;]);
    });
  });

  setTimeout((function() {}), 2000);

}).call(this);</textarea>
  </div>
</div>

<footer class="footer">
  <div class="container">
    <p>.</p>
  </div>
</footer>

<script type="text/html" id="complexity-popover-template">
  <div class="complexity-notice">
    Complexity : {{ complexity.cyclomatic }} <br>
    Length : {{ complexity.halstead.length }} <br>
    Difficulty : {{ complexity.halstead.difficulty.toFixed(2) }} <br>
    Est # bugs : {{ complexity.halstead.bugs.toFixed(2) }}<br>
  </div>
</script>

<script type="text/javascript" src="../../assets/scripts/bundles/core-bundle.js"></script>
<script type="text/javascript" src="../../assets/scripts/bundles/codemirror.js"></script>
<script type="text/javascript" src="../../assets/scripts/codemirror.markpopovertext.js"></script>
<script type="text/javascript" src="report.js"></script>
<script type="text/javascript" src="report.history.js"></script>
<script type="text/javascript" src="../../assets/scripts/plato-file.js"></script>
</body>
</html>
