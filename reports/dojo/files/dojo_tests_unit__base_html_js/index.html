<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Plato - dojo/tests/unit/_base/html.js</title>

  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="">
  <meta name="author" content="">

  <!--[if lt IE 9]>
  <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
  <![endif]-->

  <link href="../../assets/css/vendor/morris.css" rel="stylesheet">
  <link href="../../assets/css/vendor/bootstrap.css" rel="stylesheet">
  <link href="../../assets/css/vendor/font-awesome.css" rel="stylesheet">
  <link href="../../assets/css/vendor/codemirror.css" rel="stylesheet">
  <link href="../../assets/css/plato.css" rel="stylesheet">
  <link href="../../assets/css/plato-file.css" rel="stylesheet">

</head>

<body>

<div class="navbar navbar-fixed-top">
  <div class="container">
    <a class="navbar-brand" href="http://github.com/es-analysis/plato">Plato on Github</a>
    <ul class="nav navbar-nav">
      <li>
        <a href="../../index.html">Report Home</a>
      </li>
    </ul>
  </div>
</div>

<div class="jumbotron">
  <div class="container">
    <h1>dojo/tests/unit/_base/html.js</h1>
  </div>
</div>

<div class="container aggregate-stats">
  <div class="row">
    <div class="col-md-6">
      <h2 class="header">Maintainability <a href="http://blogs.msdn.com/b/codeanalysis/archive/2007/11/20/maintainability-index-range-and-meaning.aspx"><i class="icon icon-info-sign" rel="popover" data-placement="top" data-trigger="hover" data-content="A value between 0 and 100 that represents the relative ease of maintaining the code. A high value means better maintainability." data-original-title="Maintainability Index"  data-container="body"></i></a></h2>
      <p class="stat">71.17</p>
    </div>
    <div class="col-md-6">
      <h2 class="header">Lines of code <i class="icon icon-info-sign" rel="popover" data-placement="top" data-trigger="hover" data-content="Source Lines of Code / Logical Lines of Code" data-original-title="SLOC/LSLOC" data-container="body"></i></h2>
      <p class="stat">576</p>
    </div>
  </div>
  <div class="row historical">
    <div class="col-md-6">
      <p id="chart_historical_maint" class="chart"></p>
    </div>
    <div class="col-md-6">
      <p id="chart_historical_sloc" class="chart"></p>
    </div>
  </div>
  <div class="row">
    <div class="col-md-6">
      <h2 class="header">Difficulty  <a href="http://en.wikipedia.org/wiki/Halstead_complexity_measures"><i class="icon icon-info-sign" rel="popover" data-placement="top" data-trigger="hover" data-content="The difficulty measure is related to the difficulty of the program to write or understand." data-original-title="Difficulty" data-container="body"></i></a></h2>
      <p class="stat">31.10</p>
    </div>
    <div class="col-md-6">
      <h2 class="header">Estimated Errors  <a href="http://en.wikipedia.org/wiki/Halstead_complexity_measures"><i class="icon icon-info-sign" rel="popover" data-placement="top" data-trigger="hover" data-content="Halstead's delivered bugs is an estimate for the number of errors in the implementation." data-original-title="Delivered Bugs" data-container="body"></i></a></h2>
      <p class="stat">5.02</p>
    </div>
  </div>
</div>

<div class="container charts">
  <div class="row">
    <h2 class="header">Function weight</h2>
  </div>
  <div class="row">
    <div class="col-md-6">
      <h3 class="chart-header">By Complexity <a href="http://en.wikipedia.org/wiki/Cyclomatic_complexity"><i class="icon icon-info-sign" rel="popover" data-placement="top" data-trigger="hover" data-content="This metric counts the number of distinct paths through a block of code. Lower values are better." data-original-title="Cyclomatic Complexity" data-container="body"></i></a></h3>
      <div id="fn-by-complexity" class="stat"></div>
    </div>
    <div class="col-md-6">
      <h3 class="chart-header">By SLOC  <i class="icon icon-info-sign" rel="popover" data-placement="top" data-trigger="hover" data-content="Source Lines of Code / Logical Lines of Code" data-original-title="SLOC/LSLOC" data-container="body"></i></h3>
      <div id="fn-by-sloc" class="stat"></div>
    </div>
  </div>
</div>

<div class="container">
  <div class="row">
    <textarea id="file-source" class="col-md-12">define([
    &#039;intern!object&#039;,
    &#039;intern/chai!assert&#039;,
  &#039;../../../_base/html&#039;,
  &#039;../../../dom-attr&#039;,
  &#039;../../../dom&#039;,
  &#039;../../../dom-style&#039;,
  &#039;../../../dom-prop&#039;,
  &#039;../../../dom-class&#039;,
  &#039;../../../dom-construct&#039;,
  &#039;../../../dom-geometry&#039;,
], function (registerSuite, assert,
  dojo, domAttr, dom, style, prop, cls, ctr,
  geom) {
    registerSuite({
        name: &#039;dojo/_base/html&#039;,

        &quot;direct delegates&quot;: function () {
            //mix-in dom
            assert.equal(dojo.byId, dom.byId);
            assert.equal(dojo.isDescendant, dom.isDescendant);
            assert.equal(dojo.setSelectable, dom.setSelectable);

            // mix-in dom-class
            assert.equal(dojo.hasClass, cls.contains);
            assert.equal(dojo.addClass, cls.add);
            assert.equal(dojo.removeClass, cls.remove);
            assert.equal(dojo.toggleClass, cls.toggle);
            assert.equal(dojo.replaceClass, cls.replace);

            // mix-in dom-construct
            assert.equal(dojo._toDom, ctr.toDom);
            assert.equal(dojo.toDom, ctr.toDom);
            assert.equal(dojo.place, ctr.place);
            assert.equal(dojo.create, ctr.create);

            // mix-in dom-geometry
            assert.equal(dojo._getPadExtents, geom.getPadExtents);
            assert.equal(dojo.getPadExtents, geom.getPadExtents);
            assert.equal(dojo._getBorderExtents, geom.getBorderExtents);
            assert.equal(dojo.getBorderExtents, geom.getBorderExtents);
            assert.equal(dojo._getPadBorderExtents, geom.getPadBorderExtents);
            assert.equal(dojo.getPadBorderExtents, geom.getPadBorderExtents);
            assert.equal(dojo._getMarginExtents, geom.getMarginExtents);
            assert.equal(dojo.getMarginExtents, geom.getMarginExtents);
            assert.equal(dojo._getMarginSize, dojo.getMarginSize, geom.getMarginSize);
            assert.equal(dojo._getMarginBox, geom.getMarginBox);
            assert.equal(dojo.getMarginBox, geom.getMarginBox);
            assert.equal(dojo.setMarginBox, geom.setMarginBox);
            assert.equal(dojo._getContentBox, geom.getContentBox);
            assert.equal(dojo.getContentBox, geom.getContentBox);
            assert.equal(dojo.setContentSize, geom.setContentSize);
            assert.equal(dojo.isBodyLtr, geom.isBodyLtr);
            assert.equal(dojo._isBodyLtr, geom.isBodyLtr);
            assert.equal(dojo.docScroll, geom.docScroll);
            assert.equal(dojo._docScroll, geom.docScroll);
            assert.equal(dojo._getIeDocumentElementOffset, geom.getIeDocumentElementOffset);
            assert.equal(dojo.getIeDocumentElementOffset, geom.getIeDocumentElementOffset);
            assert.equal(dojo.fixIeBiDiScrollLeft, geom.fixIeBiDiScrollLeft);
            assert.equal(dojo._fixIeBiDiScrollLeft, geom.fixIeBiDiScrollLeft);
            assert.equal(dojo.position, geom.position);

            // mix-in dom-prop
            assert.equal(dojo.getProp, prop.get);
            assert.equal(dojo.setProp, prop.set);

            // mix-in dom-style
            assert.equal(dojo.getStyle, style.get);
            assert.equal(dojo.setStyle, style.set);
            assert.equal(dojo.getComputedStyle, style.getComputedStyle);
            assert.equal(dojo.__toPixelValue, style.toPixelValue);
            assert.equal(dojo.toPixelValue, style.toPixelValue);
        },

        &quot;dojo.attr&quot;: (function () {
            var node = document.createElement(&quot;div&quot;);
            var origDomAttrGet;
            var origDomAttrSet;

            return {
                setup: function () {
                    origDomAttrGet = domAttr.get;
                    origDomAttrSet = domAttr.set;
                },

                teardown: function () {
                    domAttr.get = origDomAttrGet;
                    domAttr.set = origDomAttrSet;
                },

                &quot;node + string =&gt; dom-attr::get&quot;: function () {
                    //arrange
                    var result = {};
                    var attribute = &quot;the attribute&quot;;

                    domAttr.get = function (node, attribute) {
                        result.node = node;
                        result.attribute = attribute;
                    }

                    //act
                    dojo.attr(node, attribute);

                    //assert
                    assert.equal(result.node, node);
                    assert.equal(result.attribute, attribute);

                },
                &quot;node + dictionary =&gt; dom-attr::set&quot;: function () {
                    //arrange
                    var result = {};
                    var dictionary = {
                        foo: &quot;bar&quot;,
                        baz: &quot;quux&quot;
                    };

                    domAttr.set = function (node, dictionary) {
                        result.node = node;
                        result.dictionary = dictionary;
                    }

                    //act
                    dojo.attr(node, dictionary);

                    //assert
                    assert.equal(result.node, node);
                    assert.equal(result.dictionary, dictionary);
                },
                &quot;node + string + any =&gt; dom-attr::set&quot;: function () {
                    //arrange
                    var result = {};
                    var attribute = &quot;the attribute&quot;;
                    var value = &quot;the value&quot;;

                    domAttr.set = function (node, attribute, value) {
                        result.node = node;
                        result.attribute = attribute;
                        result.value = value;
                    }

                    //act
                    dojo.attr(node, attribute, value);

                    //assert
                    assert.equal(result.node, node);
                    assert.equal(result.attribute, attribute);
                    assert.equal(result.value, value);
                }
            };
        })(),

        &quot;dojo.empty&quot;: (function () {
            var origCtrEmpty;
            var node = document.createElement(&quot;div&quot;);

            return {
                setup: function () {
                    origCtrEmpty = ctr.empty;
                },
                teardown: function () {
                    ctr.empty = origCtrEmpty;
                },

                &quot;deletes to dom-construct::empty&quot;: function () {
                    //arrange
                    var result = {};
                    ctr.empty = function (node) {
                        result.node = node;
                    }

                    //act
                    dojo.empty(node);

                    //assert
                    assert.equal(result.node, node);

                }
            };
        })(),

        &quot;dojo.destroy &amp; dojo._destroyElement&quot;: (function () {
            var origCtrDestroy;
            var node = document.createElement(&quot;div&quot;);

            return {
                setup: function () {
                    origCtrDestroy = ctr.destroy;
                },
                teardown: function () {
                    ctr.destroy = origCtrDestroy;
                },
                &quot;dojo.destroy =&gt; dom-geometry::destroy&quot;: function () {
                    //arrange
                    var result = {};
                    ctr.destroy = function (node) {
                        result.node = node;
                    }

                    //act
                    dojo.destroy(node);

                    //assert
                    assert.equal(result.node, node);

                },
                &quot;dojo._destroyElement =&gt; dom-geometry::destroy&quot;: function () {
                    //arrange
                    var result = {};
                    ctr.destroy = function (node) {
                        result.node = node;
                    }

                    //act
                    dojo.destroy(node);

                    //assert
                    assert.equal(result.node, node);

                }
            };
        })(),

        &quot;dojo.marginBox&quot;: (function () {
            var origGeomSetMarginBox;
            var origGeomGetMarginBox;
            var node = document.createElement(&quot;div&quot;);

            return {
                setup: function () {
                    origGeomSetMarginBox = geom.setMarginBox;
                    origGeomGetMarginBox = geom.getMarginBox;
                },
                teardown: function () {
                    geom.setMarginBox = origGeomSetMarginBox;
                    geom.getMarginBox = origGeomGetMarginBox;
                },
                &quot;node + dictionary =&gt; dom-geometry::setMarginBox&quot;: function () {
                    //arrange
                    var box = {
                        foo: &quot;bar&quot;,
                        baz: &quot;quux&quot;
                    }

                    var result = {};
                    geom.setMarginBox = function (node, box) {
                        result.node = node;
                        result.box = box;
                    }
                    //act
                    dojo.marginBox(node, box);

                    //assert
                    assert.equal(result.node, node);
                    assert.equal(result.box, box);
                },
                &quot;node=&gt; dom-geometry::getMarginBox&quot;: function () {
                    //arrange
                    var result = {};
                    geom.getMarginBox = function (node) {
                        result.node = node;
                    }
                    //act
                    dojo.marginBox(node);

                    //assert
                    assert.equal(result.node, node);
                }
            };
        })(),

        &quot;dojo.contentBox&quot;: (function () {
            var origGeomSetContentSize;
            var origGeomGetContentBox;
            var node = document.createElement(&quot;div&quot;);

            return {
                setup: function () {
                    origGeomSetContentSize = geom.setContentSize;
                    origGeomSetContentSize = geom.getContentBox;
                },
                teardown: function () {
                    geom.setContentSize = origGeomSetContentSize;
                    geom.getContentBox = origGeomSetContentSize;
                },
                &quot;node + dictionary =&gt; dom-geometry::setContentBox&quot;: function () {
                    //arrange
                    var box = {
                        foo: &quot;bar&quot;,
                        baz: &quot;quux&quot;
                    }

                    var result = {};
                    geom.setContentSize = function (node, box) {
                        result.node = node;
                        result.box = box;
                    }
                    //act
                    dojo.contentBox(node, box);

                    //assert
                    assert.equal(result.node, node);
                    assert.equal(result.box, box);
                },
                &quot;node=&gt; dom-geometry::getContentBox&quot;: function () {
                    //arrange
                    var result = {};
                    geom.getContentBox = function (node) {
                        result.node = node;
                    }
                    //act
                    dojo.contentBox(node);

                    //assert
                    assert.equal(result.node, node);
                }
            };
        })(),

        &quot;dojo.coords&quot;: (function () {
            var node = document.createElement(&quot;div&quot;);
            var origStyleGetComputedStyle;
            var origGeomGetMarginBox;
            var origDojoDeprecated;

            return {
                setup: function () {
                    origStyleGetComputedStyle = style.getComputedStyle;
                    origGeomGetMarginBox = geom.getMarginBox;
                    origGeomPosition = geom.position;
                    origDojoDeprecated = dojo.deprecated;
                },
                teardown: function () {
                    style.getComputedStyle = origStyleGetComputedStyle;
                    geom.getMarginBox = origGeomGetMarginBox;
                    geom.position = origGeomPosition;
                    dojo.deprecated = origDojoDeprecated;
                },

                &quot;calls dojo.deprecated properly&quot;: function () {
                    //arrange
                    var result = {};
                    dojo.deprecated = function (behaviour, extra) {
                        result.behaviour = behaviour;
                        result.extra = extra;
                    }

                    //act
                    dojo.coords(node);

                    //assert
                    assert.equal(result.behaviour, &quot;dojo.coords()&quot;);
                    assert.equal(result.extra, &quot;Use dojo.position() or dojo.marginBox().&quot;);

                },

                &quot;node + boolean&quot;: function () {
                    //arrange
                    var includeScroll = true;

                    var styleGetComputedStyleReturn = {
                        foo: &quot;bar&quot;,
                        baz: &quot;buzz&quot;
                    };
                    var geomGetMarginBoxReturn = {
                        getMarginBoxFoo: &quot;bar&quot;,
                        getMarginBoxBaz: &quot;buzz&quot;
                    };
                    var geomGetPositionReturn = {
                        x: 42,
                        y: 27
                    };
                    var styleGetComputedStyleArgs = {};
                    var geomGetMarginBoxArgs = {};
                    var geomPositionArgs = {};

                    style.getComputedStyle = function (node) {
                        styleGetComputedStyleArgs.node = node;
                        return styleGetComputedStyleReturn;
                    }

                    geom.getMarginBox = function (node, style) {
                        geomGetMarginBoxArgs.node = node;
                        geomGetMarginBoxArgs.style = style;
                        return geomGetMarginBoxReturn;
                    }
                    geom.position = function (node, includeScroll) {
                        geomPositionArgs.node = node;
                        geomPositionArgs.includeScroll = includeScroll;
                        return geomGetPositionReturn;
                    }

                    //act
                    var result = dojo.coords(node, includeScroll);

                    //assert
                    assert.equal(styleGetComputedStyleArgs.node, node);
                    assert.equal(geomGetMarginBoxArgs.node, node);
                    assert.equal(geomGetMarginBoxArgs.style, styleGetComputedStyleReturn);
                    assert.equal(geomPositionArgs.node, node);
                    assert.equal(geomPositionArgs.includeScroll, includeScroll);
                    assert.equal(result.getMarginBoxFoo, geomGetMarginBoxReturn.getMarginBoxFoo);
                    assert.equal(result.getMarginBoxBaz, geomGetMarginBoxReturn.getMarginBoxBaz);
                    assert.equal(result.x, geomGetPositionReturn.x);
                    assert.equal(result.y, geomGetPositionReturn.y);
                }
            };
        })(),
        &quot;dojo.prop&quot;: (function () {
            var node = document.createElement(&quot;node&quot;);
            var origPropGet;
            var origPropSet;

            return {
                setup: function () {
                    origPropGet = prop.get;
                    origPropSet = prop.set;
                },
                teardown: function () {
                    prop.get = origPropGet;
                    prop.set = origPropSet;
                },
                &quot;node + string =&gt; dojo-prop::get&quot;: function () {
                    //arrange
                    var property = &quot;the property&quot;;
                    var result = {};
                    prop.get = function (node, property) {
                        result.node = node;
                        result.property = property;
                    };

                    //act
                    dojo.prop(node, property);

                    //assert
                    assert.equal(result.node, node);
                    assert.equal(result.property, property);

                },
                &quot;node + dictionary =&gt; dojo-prop::set&quot;: function () {
                    //arrange
                    var property = {
                        foo: &quot;bar&quot;,
                        baz: &quot;buzz&quot;
                    };
                    var result = {};
                    prop.set = function (node, property) {
                        result.node = node;
                        result.property = property;
                    };

                    //act
                    dojo.prop(node, property);

                    //assert
                    assert.equal(result.node, node);
                    assert.equal(result.property, property);
                },
                &quot;node + string + string&quot;: function () {
                    //arrange
                    var property = &quot;the property&quot;;
                    var value = &quot;the value&quot;;
                    var result = {};
                    prop.set = function (node, property, value) {
                        result.node = node;
                        result.property = property;
                        result.value = value;
                    };

                    //act
                    dojo.prop(node, property, value);

                    //assert
                    assert.equal(result.node, node);
                    assert.equal(result.property, property);
                    assert.equal(result.value, value);
                }
            };
        })(),
        &quot;dojo.style&quot;: (function () {
            var node = document.createElement(&quot;div&quot;);
            var origStyleGet;
            var origStyleSet;
            return {
                setup: function () {
                    origStyleGet = style.get;
                    origStyleSet = style.set;
                },
                teardown: function () {
                    style.get = origStyleGet;
                    style.set = origStyleSet;
                },
                &quot;node =&gt; dom-style::get&quot;: function () {
                    //arrange

                    var args = {};
                    var returnValue = {
                        foo: &quot;bar&quot;
                    };
                    style.get = function (node) {
                        args.node = node;
                        return returnValue;
                    }

                    //act
                    var result = dojo.style(node);

                    //assert
                    assert.equal(args.node, node);
                    assert.equal(result, returnValue);

                },
                &quot;node + string =&gt; dom-style::get&quot;: function () {
                    //arrange
                    var name = &quot;the property&quot;;
                    var args = {};
                    var returnValue = {
                        foo: &quot;bar&quot;
                    };
                    style.get = function (node, name) {
                        args.node = node;
                        args.name = name;
                        return returnValue;
                    }

                    //act
                    var result = dojo.style(node, name);

                    //assert
                    assert.equal(args.node, node);
                    assert.equal(args.name, name);
                    assert.equal(result, returnValue);
                },
                &quot;node + dictionary =&gt; dom-style::set&quot;: function () {
                    //arrange
                    var dictionary = {
                        foo: &quot;bar&quot;,
                        baz: &quot;buzz&quot;
                    };
                    var result = {};
                    style.set = function (node, dictionary) {
                        result.node = node;
                        result.dictionary = dictionary;
                    }

                    //act
                    dojo.style(node, dictionary);

                    //assert
                    assert.equal(result.node, node);
                    assert.equal(result.dictionary, dictionary);

                },
                &quot;node + string + string =&gt; dom-style::set&quot;: function () {
                    //arrange
                    var name = &quot;the name&quot;;
                    var value = &quot;the value&quot;;

                    var result = {};
                    style.set = function (node, name, value) {
                        result.node = node;
                        result.name = name;
                        result.value = value;
                    }

                    //act
                    dojo.style(node, name, value);

                    //assert
                    assert.equal(result.node, node);
                    assert.equal(result.name, name);
                    assert.equal(result.value, value);
                }
            };
        })()
    });
});</textarea>
  </div>
</div>

<footer class="footer">
  <div class="container">
    <p>.</p>
  </div>
</footer>

<script type="text/html" id="complexity-popover-template">
  <div class="complexity-notice">
    Complexity : {{ complexity.cyclomatic }} <br>
    Length : {{ complexity.halstead.length }} <br>
    Difficulty : {{ complexity.halstead.difficulty.toFixed(2) }} <br>
    Est # bugs : {{ complexity.halstead.bugs.toFixed(2) }}<br>
  </div>
</script>

<script type="text/javascript" src="../../assets/scripts/bundles/core-bundle.js"></script>
<script type="text/javascript" src="../../assets/scripts/bundles/codemirror.js"></script>
<script type="text/javascript" src="../../assets/scripts/codemirror.markpopovertext.js"></script>
<script type="text/javascript" src="report.js"></script>
<script type="text/javascript" src="report.history.js"></script>
<script type="text/javascript" src="../../assets/scripts/plato-file.js"></script>
</body>
</html>
