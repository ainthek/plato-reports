<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Plato - node_modules/wire/dom/transform/replaceClasses.js</title>

  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="">
  <meta name="author" content="">

  <!--[if lt IE 9]>
  <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
  <![endif]-->

  <link href="../../assets/css/vendor/morris.css" rel="stylesheet">
  <link href="../../assets/css/vendor/bootstrap.css" rel="stylesheet">
  <link href="../../assets/css/vendor/font-awesome.css" rel="stylesheet">
  <link href="../../assets/css/vendor/codemirror.css" rel="stylesheet">
  <link href="../../assets/css/plato.css" rel="stylesheet">
  <link href="../../assets/css/plato-file.css" rel="stylesheet">

</head>

<body>

<div class="navbar navbar-fixed-top">
  <div class="container">
    <a class="navbar-brand" href="http://github.com/es-analysis/plato">Plato on Github</a>
    <ul class="nav navbar-nav">
      <li>
        <a href="../../index.html">Report Home</a>
      </li>
    </ul>
  </div>
</div>

<div class="jumbotron">
  <div class="container">
    <h1>node_modules/wire/dom/transform/replaceClasses.js</h1>
  </div>
</div>

<div class="container aggregate-stats">
  <div class="row">
    <div class="col-md-6">
      <h2 class="header">Maintainability <a href="http://blogs.msdn.com/b/codeanalysis/archive/2007/11/20/maintainability-index-range-and-meaning.aspx"><i class="icon icon-info-sign" rel="popover" data-placement="top" data-trigger="hover" data-content="A value between 0 and 100 that represents the relative ease of maintaining the code. A high value means better maintainability." data-original-title="Maintainability Index"  data-container="body"></i></a></h2>
      <p class="stat">71.19</p>
    </div>
    <div class="col-md-6">
      <h2 class="header">Lines of code <i class="icon icon-info-sign" rel="popover" data-placement="top" data-trigger="hover" data-content="Source Lines of Code / Logical Lines of Code" data-original-title="SLOC/LSLOC" data-container="body"></i></h2>
      <p class="stat">165</p>
    </div>
  </div>
  <div class="row historical">
    <div class="col-md-6">
      <p id="chart_historical_maint" class="chart"></p>
    </div>
    <div class="col-md-6">
      <p id="chart_historical_sloc" class="chart"></p>
    </div>
  </div>
  <div class="row">
    <div class="col-md-6">
      <h2 class="header">Difficulty  <a href="http://en.wikipedia.org/wiki/Halstead_complexity_measures"><i class="icon icon-info-sign" rel="popover" data-placement="top" data-trigger="hover" data-content="The difficulty measure is related to the difficulty of the program to write or understand." data-original-title="Difficulty" data-container="body"></i></a></h2>
      <p class="stat">28.09</p>
    </div>
    <div class="col-md-6">
      <h2 class="header">Estimated Errors  <a href="http://en.wikipedia.org/wiki/Halstead_complexity_measures"><i class="icon icon-info-sign" rel="popover" data-placement="top" data-trigger="hover" data-content="Halstead's delivered bugs is an estimate for the number of errors in the implementation." data-original-title="Delivered Bugs" data-container="body"></i></a></h2>
      <p class="stat">0.53</p>
    </div>
  </div>
</div>

<div class="container charts">
  <div class="row">
    <h2 class="header">Function weight</h2>
  </div>
  <div class="row">
    <div class="col-md-6">
      <h3 class="chart-header">By Complexity <a href="http://en.wikipedia.org/wiki/Cyclomatic_complexity"><i class="icon icon-info-sign" rel="popover" data-placement="top" data-trigger="hover" data-content="This metric counts the number of distinct paths through a block of code. Lower values are better." data-original-title="Cyclomatic Complexity" data-container="body"></i></a></h3>
      <div id="fn-by-complexity" class="stat"></div>
    </div>
    <div class="col-md-6">
      <h3 class="chart-header">By SLOC  <i class="icon icon-info-sign" rel="popover" data-placement="top" data-trigger="hover" data-content="Source Lines of Code / Logical Lines of Code" data-original-title="SLOC/LSLOC" data-container="body"></i></h3>
      <div id="fn-by-sloc" class="stat"></div>
    </div>
  </div>
</div>

<div class="container">
  <div class="row">
    <textarea id="file-source" class="col-md-12">(function (define) {
define(function (require) {
&quot;use strict&quot;;

	var removeRxParts, trimLeadingRx, splitClassNamesRx, partial;

	removeRxParts = [&#039;(\\s+|^)(&#039;, &#039;)(\\b(?![\\-_])|$)&#039;];
	trimLeadingRx = /^\s+/;
	splitClassNamesRx = /(\b\s+\b)|(\s+)/g;
	partial = require(&#039;../../lib/functional&#039;).partial;

	/**
	 * Configures a transform function that satisfies the most common
	 * requirement for oocss states: while adding new classes, it removes
	 * classes in the same group of states. This allows the dev to add
	 * and remove classes in the same atomic action.
	 * @param [options.node] {HTMLElement}
	 * @param [options] {Object} a hashmap of options
	 * @param [options.group] {Array|String} If specified, this is a
	 *   list of all possible classes in the group.  If a single string is
	 *   provided, it should be a space-delimited (TokenList) of classes.
	 * @param [options.initial] {Array|String} If specified, this is the
	 *   initial set of classes to set on the element.  This isn&#039;t just a
	 *   convenience feature: it may be necessary for this transform to work
	 *   correctly if not specifying a group.  See the description.
	 * @param [options.remover] {Function} a custom remover function that can
	 *   be used to remove old classes when adding new ones.  If this option is
	 *   specified, the group option is ignored. Remover signature:
	 *   function (classesToRemove, baseRemover) { return newClasses; }
	 *   The baseRemover param is a function that will remove classes in the
	 *   usual way.  Call baseRemover.setRemoves(groupOrString) to set
	 *   the classes that should be removed when next invoked.
	 *
	 * @description
	 * If the group param is provided, all of the class names in the group
	 * will be removed from the element when new classes are added. A group
	 * is a set of classes that always change together (e.g. &quot;can-edit
	 * can-delete can-view can-add&quot; or &quot;form-enabled form-disabled&quot;). A
	 * group could consist of several groups at once as long as the classes
	 * for those groups are always set together, as well.
	 * If the group param is omitted, group behavior can still be achieved
	 * under most circumstances. As long as the transform function is always
	 * used on the same group (or set of groups)*, an algorithm that removes
	 * the previously set classes also works fine. (*It is possible to
	 * set classes that are not specified within the configured group.)
	 *
	 * @example 1: groups is a string
	 *   oocssSetter = configureReplaceClassNames(viewNode, {
	 *     group: &#039;edit-mode readonly-mode&#039;
	 *   });
	 *   // later:
	 *   oocssSetter(&#039;edit-mode&#039;); // viewNode.className == &#039;edit-mode&#039;;
	 *   // even later:
	 *   oocssSetter(&#039;readonly-mode&#039;); // viewNode.className == &#039;readonly-mode&#039;;
	 *
	 * @example 2: groups is an array
	 *   oocssSetter = configureReplaceClassNames(viewNode, {
	 *     group: [&#039;edit-mode&#039;, &#039;readonly-mode&#039;]
	 *   });
	 *
	 * @example 3: multiple groups at once
	 *   oocssSetter = configureReplaceClassNames(viewNode, {
	 *     group: [&#039;edit-mode readonly-mode form-enabled form-disabled&#039;]
	 *   });
	 *   // later, be sure to set both groups at once:
	 *   oocssSetter(&#039;edit-mode form-enabled&#039;);
	 *
	 * @example 4: no group specified
	 *   oocssSetter = configureReplaceClassNames(viewNode, {
	 *     initial: &#039;form-disabled&#039;
	 *   });
	 *   // later:
	 *   oocssSetter(&#039;form-enabled&#039;); // form-disabled is removed
	 *
	 * @example 5: extra classes not in a group
	 *   oocssSetter = configureReplaceClassNames(viewNode, {
	 *     group: [&#039;edit-mode readonly-mode&#039;]
	 *   });
	 *   // later (this is problematic if you didn&#039;t specify a group!)
	 *   oocssSetter(&#039;edit-mode error-in-form&#039;);
	 */
	return function configureReplaceClasses (options) {
		var group, remover, replace, prev = &#039;&#039;;

		if (!options) options = {};

		group = options.group;

		if (options.remover) {
			remover = createCustomRemover(options.remover);
		}
		else if (group) {
			remover = createClassRemover(group);
		}
		else {
			remover = (function createPrevRemover (remover) {
				return function removePrev (classes) {
					remover.setRemoves(prev);
					return remover(classes);
				};
			}(createClassRemover()));
		}

		replace = options.node
			? partial(replaceClasses, options.node)
			: replaceClasses;

		if (options.initial) {
			// set the original classes
			replace(options.initial);
		}

		return replace;

		function replaceClasses (node, classes) {
			var leftovers;

			if (!classes) classes = &#039;&#039;;

			// there were likely classes we didn&#039;t remove
			leftovers = remover(node.className);

			// save
			prev = classes;

			// assemble new classes
			classes = classes + (classes &amp;&amp; leftovers ? &#039; &#039; : &#039;&#039;) + leftovers;

			return node.className = classes;
		}

		function createClassRemover (tokens) {
			var removeRx;
			function genRx (tokens) {
				if(!tokens) return;
				// convert from array
				tokens = typeof tokens.join == &#039;function&#039;
					? tokens.join(&#039;|&#039;)
					: tokens.replace(splitClassNamesRx, &#039;|&#039;);
				// set up the regexp to remove everything in the set of tokens
				removeRx = new RegExp(removeRxParts.join(tokens), &#039;g&#039;);
			}
			function remover (classes) {
				return classes.replace(removeRx, &#039;&#039;).replace(trimLeadingRx, &#039;&#039;);
			}
			remover.setRemoves = genRx;
			if (tokens) genRx(tokens);
			return remover;
		}

		function createCustomRemover (custom) {
			var remover = createClassRemover();
			return function removeCustom (classes) {
				return custom(classes, remover);
			};
		}

	};

});
}(
	typeof define == &#039;function&#039; &amp;&amp; define.amd
		? define
		: function (factory) { module.exports = factory(require); }
));</textarea>
  </div>
</div>

<footer class="footer">
  <div class="container">
    <p>.</p>
  </div>
</footer>

<script type="text/html" id="complexity-popover-template">
  <div class="complexity-notice">
    Complexity : {{ complexity.cyclomatic }} <br>
    Length : {{ complexity.halstead.length }} <br>
    Difficulty : {{ complexity.halstead.difficulty.toFixed(2) }} <br>
    Est # bugs : {{ complexity.halstead.bugs.toFixed(2) }}<br>
  </div>
</script>

<script type="text/javascript" src="../../assets/scripts/bundles/core-bundle.js"></script>
<script type="text/javascript" src="../../assets/scripts/bundles/codemirror.js"></script>
<script type="text/javascript" src="../../assets/scripts/codemirror.markpopovertext.js"></script>
<script type="text/javascript" src="report.js"></script>
<script type="text/javascript" src="report.history.js"></script>
<script type="text/javascript" src="../../assets/scripts/plato-file.js"></script>
</body>
</html>
